<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>VP Nagraj on VP Nagraj</title>
    <link>/</link>
    <description>Recent content in VP Nagraj on VP Nagraj</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2018</copyright>
    <lastBuildDate>Wed, 20 Apr 2016 00:00:00 +0000</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Hosting a Single App with Shiny Server</title>
      <link>/notes/single-app-shiny-server/</link>
      <pubDate>Fri, 08 Mar 2019 11:26:40 -0500</pubDate>
      
      <guid>/notes/single-app-shiny-server/</guid>
      <description>&lt;p&gt;If you’ve written a Shiny app and have reached a point where you would like to share it with others … you have a few options:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://shiny.rstudio.com/deploy/&#34; class=&#34;uri&#34;&gt;https://shiny.rstudio.com/deploy/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Given that you have hardware (or a cloud setup) to install a server, &lt;a href=&#34;https://www.rstudio.com/products/shiny/download-server/&#34;&gt;Shiny Server Open Source&lt;/a&gt; may be a good solution.&lt;/p&gt;
&lt;p&gt;I’ve deployed dozens of apps on different Shiny servers. In some cases, I may need a single server that hosts an entire directory of apps. With this configuration (the default for Shiny Server Open Source) each app is available at {url}/{app-name}.&lt;/p&gt;
&lt;p&gt;However, I occassionally want a server to host a single application that will be available at {url}. In this case, I just need to adjust a few parameters in server configuration. Below is an example &lt;code&gt;shiny-server.conf&lt;/code&gt; file for an app called “prod” that lives in &lt;code&gt;/srv/shiny-server/prod&lt;/code&gt; on the host machine:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Define the user we should use when spawning R Shiny processes
run_as shiny;

# disable idle timeout to retain connection
app_idle_timeout 0;

# Define a top-level server which will listen on a port
server {
  # Instruct this server to listen on port 80. The app at dokku-alt need expose PORT 80, or 500 e etc. See the docs
  listen 80;

  # Define the location available at the base URL
  location / {

    # Run this location in &amp;#39;site_dir&amp;#39; mode, which hosts the entire directory
    # tree at &amp;#39;/srv/shiny-server&amp;#39;
    app_dir /srv/shiny-server/prod;
    
    # Define where we should put the log files for this location
    log_dir /var/log/shiny-server;
    
    # Should we list the contents of a (non-Shiny-App) directory when the user 
    # visits the corresponding URL?
    directory_index on;
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that the parameters of interest for this post are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;listen&lt;/code&gt; … explicitly tell the server to &lt;code&gt;listen 80&lt;/code&gt; so that apps are served at port 80 … otherwise you’ll need to specify the port number after the url (i.e. {url}:3737)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;location&lt;/code&gt; … we don’t want to pass any special location to the base URL since we’re defining an &lt;code&gt;app_dir&lt;/code&gt; (see below) … so &lt;code&gt;location /&lt;/code&gt; should work fine&lt;/li&gt;
&lt;li&gt;&lt;code&gt;app_dir&lt;/code&gt; … rather than serving up an entire directory of apps, we just have one … make sure the &lt;code&gt;app_dir&lt;/code&gt; specifies the directory where the app is on the host machine (usually &lt;code&gt;/srv/shiny-server/{app-name}&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>rstudio::conf 2019</title>
      <link>/notes/rstudioconf2019/</link>
      <pubDate>Mon, 11 Feb 2019 17:14:59 +0000</pubDate>
      
      <guid>/notes/rstudioconf2019/</guid>
      <description>&lt;p&gt;This past January I was able to attend &lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019&#34;&gt;rstudio::conf 2019&lt;/a&gt; in Austin. I was there for the full week, taking the &lt;em&gt;Building Tidy Tools&lt;/em&gt; workshop and attending as many of the main conference program sessions as possible.&lt;/p&gt;
&lt;p&gt;Here is a collection of highlights/takeaways from the conference …&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#shortcuts&#34;&gt;Shortcuts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rstudio12&#34;&gt;RStudio 1.2 features&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tidyeval&#34;&gt;Tidy eval&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#separaterows&#34;&gt;&lt;code&gt;separate_rows&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rmdpp&#34;&gt;.Rmd to .pptx&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#newpkgs&#34;&gt;New packages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;shortcuts&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;shortcuts&#34;&gt;&lt;/a&gt;Shortcuts&lt;/h3&gt;
&lt;p&gt;Coming into &lt;strong&gt;rstudio::conf&lt;/strong&gt; I had a few keyboard shortcuts memorized. Things like copying a line of code down (&lt;code&gt;CMD + SHIFT + DOWN ARROW&lt;/code&gt;) … inserting the pipe operator (&lt;code&gt;CMD + SHIFT + M&lt;/code&gt;) … and inserting a code chunk (&lt;code&gt;CMD + OPTION + I&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;But there are so many more … a few handy ones that I picked up:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Maximize an Rstudio pane: &lt;code&gt;SHIFT + CTRL + 1&lt;/code&gt; (1,2,3,4 for each pane clockwise)&lt;/li&gt;
&lt;li&gt;Build a package: &lt;code&gt;SHIFT + CMD + B&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Load functions from package after building: &lt;code&gt;SHIFT + CMD + L&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My friends (and fellow &lt;a href=&#34;https://www.meetup.com/UVa-R-Users-Group/&#34;&gt;Charlottesville R Users&lt;/a&gt;) Jeff Boichuk and Steve Mortimer have also developed an R package (&lt;a href=&#34;https://github.com/jeffboichuk/crossr&#34;&gt;&lt;code&gt;CrossR&lt;/code&gt;&lt;/a&gt;) that includes a data frame with all Rstudio shortcuts:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;devtools::install_github(&amp;quot;jeffboichuk/CrossR&amp;quot;)
library(CrossR)

shortcuts&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 122 x 4
##    category description        mac             windows         
##    &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;              &amp;lt;chr&amp;gt;           &amp;lt;chr&amp;gt;           
##  1 Build    Build All          Shift + Cmd + B Ctrl + Shift + B
##  2 Build    Check Package      Shift + Cmd + E Ctrl + Shift + E
##  3 Build    Compile PDF        Shift + Cmd + K Ctrl + Shift + K
##  4 Build    Devtools Load All  Shift + Cmd + L Ctrl + Shift + L
##  5 Build    Knit Document      Shift + Cmd + K Ctrl + Shift + K
##  6 Build    Preview HTML       Shift + Cmd + K Ctrl + Shift + K
##  7 Build    Roxygenize Package Shift + Cmd + D Ctrl + Shift + D
##  8 Build    Test Package       Shift + Cmd + T Ctrl + Shift + T
##  9 Console  Console Clear      Ctrl + L        Ctrl + L        
## 10 Debug    Debug Breakpoint   Shift + F9      Shift + F9      
## # ... with 112 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;find_shortcuts(&amp;quot;roxygen&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 3
##   category      description             mac                  
##   &amp;lt;chr&amp;gt;         &amp;lt;chr&amp;gt;                   &amp;lt;chr&amp;gt;                
## 1 Build         Roxygenize Package      Shift + Cmd + D      
## 2 Source Editor Insert Roxygen Skeleton Shift + Alt + Cmd + R&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;rstudio-1.2-features&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;rstudio12&#34;&gt;&lt;/a&gt;RStudio 1.2 features&lt;/h3&gt;
&lt;p&gt;The RStudio team is working to make the RStudio IDE an even more comprehensive data science toolkit. Version 1.2 introduces features to support multiple languages, including python, SQL and D3. Jonathan McPherson gave a tour of the new multilingual support:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/new-language-features-in-rstudio&#34; class=&#34;uri&#34;&gt;https://resources.rstudio.com/rstudio-conf-2019/new-language-features-in-rstudio&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I put together a trival example of what this looks workflow looks like for passing R objects to python (and vice versa) from chunk-to-chunk in an R markdown document:&lt;/p&gt;
&lt;pre class=&#34;python&#34;&gt;&lt;code&gt;```{r setup}
  library(reticulate)
  use_python(&amp;quot;/usr/bin/python&amp;quot;, required = TRUE)
```

```{python}
  import random
  x = random.randint(1,99)
  print x
```

```{r}
  # access the object &amp;#39;x&amp;#39; from python environment with py$x
  py$x

  y &amp;lt;- py$x^2

  y
```

```{python}
  # access the object &amp;#39;y&amp;#39; from r environment with r.y
  print r.y

  import math
  z = math.sqrt(r.y)

  print z
```&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For a more complete example (including D3 and SQL chunks), take a look at the &lt;code&gt;spenders.Rmd&lt;/code&gt; example:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jmcphers/rstudio-1.2-features/blob/master/spenders.Rmd&#34; class=&#34;uri&#34;&gt;https://github.com/jmcphers/rstudio-1.2-features/blob/master/spenders.Rmd&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/new-language-features-in-rstudio?wvideo=86143vxqwr&#34;&gt;New language features in RStudio - Jonathan McPherson&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/new-language-features-in-rstudio?wvideo=86143vxqwr&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/96f8273424b64b06534e9828ebddc37e.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;tidy-eval&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;tidyeval&#34;&gt;&lt;/a&gt;Tidy eval&lt;/h3&gt;
&lt;p&gt;Programming with &lt;a href=&#34;https://tidyeval.tidyverse.org/&#34;&gt;&lt;code&gt;tidy eval&lt;/code&gt;&lt;/a&gt; can seem daunting. One of the sessions of the &lt;code&gt;Building Tidy Tools&lt;/code&gt; workshop focused on tidy eval. That talk demystified the quoting/unquoting workflow. Maybe more importantly for me, I found out that Rstudio is compiling a list of use-cases/examples of tidy eval in the wild:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://community.rstudio.com/t/interesting-tidy-eval-use-cases/21121&#34; class=&#34;uri&#34;&gt;https://community.rstudio.com/t/interesting-tidy-eval-use-cases/21121&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/working-with-names-and-expressions-in-your-tidy-eval-code?wvideo=ebj7te6m65&#34;&gt;Working with names and expressions in your tidy eval code - Lionel Henry&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/working-with-names-and-expressions-in-your-tidy-eval-code?wvideo=ebj7te6m65&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/b866337a304ea75d56f980cdf8cbe125.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;separate_rows&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;separaterows&#34;&gt;&lt;/a&gt;&lt;code&gt;separate_rows()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;tidyr&lt;/code&gt; &lt;code&gt;separate_rows()&lt;/code&gt; function isn’t a new by any means, but it’s one that I picked up during a demo at the conference. This will be handy “wide-to-long” transformations on data that is packed into a single column (and separated by a common delimiter):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyr)


dat &amp;lt;-
  data.frame(
    id = 1:5,
    diagnosis = c(NA, &amp;quot;A,B,C&amp;quot;, &amp;quot;D&amp;quot;, &amp;quot;B,E,F&amp;quot;, &amp;quot;A&amp;quot;)
  )

dat&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   id diagnosis
## 1  1      &amp;lt;NA&amp;gt;
## 2  2     A,B,C
## 3  3         D
## 4  4     B,E,F
## 5  5         A&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;separate_rows(dat, diagnosis, sep = &amp;quot;,&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   id diagnosis
## 1  1      &amp;lt;NA&amp;gt;
## 2  2         A
## 3  2         B
## 4  2         C
## 5  3         D
## 6  4         B
## 7  4         E
## 8  4         F
## 9  5         A&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;rmd-to-.pptx&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;rmdpp&#34;&gt;&lt;/a&gt; .Rmd to .pptx&lt;/h3&gt;
&lt;p&gt;Again … not a new feature, but new to me:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://bookdown.org/yihui/rmarkdown/powerpoint-presentation.html&#34; class=&#34;uri&#34;&gt;https://bookdown.org/yihui/rmarkdown/powerpoint-presentation.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You can convert R markdown to PowerPoint by specifying &lt;code&gt;powerpoint_presentation&lt;/code&gt; as the output format in the YAML header:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
title: &amp;quot;Figs&amp;quot;
author: &amp;quot;VP Nagraj&amp;quot;
date: &amp;quot;3/10/2019&amp;quot;
output: powerpoint_presentation
---&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;nb&lt;/strong&gt; this output format requires Pandoc 2.x&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;new-packages&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;newpkgs&#34;&gt;&lt;/a&gt;New packages&lt;/h3&gt;
&lt;p&gt;There were a ton of new (or at least new-ish) packages introduced at &lt;strong&gt;rstudio::conf&lt;/strong&gt;.&lt;/p&gt;
&lt;div id=&#34;ungeviz&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;&lt;code&gt;ungeviz&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/wilkelab/ungeviz&#34; class=&#34;uri&#34;&gt;https://github.com/wilkelab/ungeviz&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Tools for visualizing uncertainty with ggplot2. This package is meant to provide helpful add-on functionality for ggplot2 to visualize uncertainty. The package is particularly focused on hypothetical outcome plots (HOPs) and provides bootstrapping and sampling functionality that integrates well with the ggplot2 API. The package name comes from the German word “Ungewissheit”, which means uncertainty.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/wilkelab/ungeviz/master/man/figures/README-cacao-samples-anim-1.gif&#34; /&gt;&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/visualizing-uncertainty-with-hypothetical-outcomes-plots?wvideo=8m9hzvc38u&#34;&gt;Visualizing uncertainty with hypothetical outcomes plots - Claus Wilke&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/visualizing-uncertainty-with-hypothetical-outcomes-plots?wvideo=8m9hzvc38u&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/8b966c08ac6371481bdfa04f1efe09d859c1dc5b.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;gt&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;&lt;code&gt;gt&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/rstudio/gt&#34; class=&#34;uri&#34;&gt;https://github.com/rstudio/gt&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With the gt package, anyone can make wonderful-looking tables using the R programming language. The gt philosophy: we can construct a wide variety of useful tables with a cohesive set of table parts. These include the table header, the stub, the stub head, the column labels, the table body, and the table footer.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://github.com/rstudio/gt/raw/master/man/figures/gt_parts_of_a_table.svg?sanitize=true&#34; /&gt;&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/introducing-the-gt-package?wvideo=d38rerkbwb&#34;&gt;Introducing the gt package - Rich Iannone&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/introducing-the-gt-package?wvideo=d38rerkbwb&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/f54d2b6ffcb5dcf913e67031d060ea98.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;pagedown&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;&lt;code&gt;pagedown&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/rstudio/pagedown&#34; class=&#34;uri&#34;&gt;https://github.com/rstudio/pagedown&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Paginate the HTML Output of R Markdown with CSS for Print. You only need a modern web browser (e.g., Google Chrome) to generate PDF. No need to install LaTeX to get beautiful PDFs.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/163582/46879762-7a34a500-ce0c-11e8-87e3-496f3577ff05.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/pagedown-creating-beautiful-pdfs-with-r-markdown-and-css?wvideo=oxxk6afhtz&#34;&gt;pagedown Creating beautiful PDFs with R Markdown and CSS - Yihui Xie&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/pagedown-creating-beautiful-pdfs-with-r-markdown-and-css?wvideo=oxxk6afhtz&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/77d268f4eb298d5f472a509610ee3fcf.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Data-Based Labels</title>
      <link>/notes/data-based-labels/</link>
      <pubDate>Mon, 28 Jan 2019 17:14:59 +0000</pubDate>
      
      <guid>/notes/data-based-labels/</guid>
      <description>&lt;p&gt;Chapter 7 of Edward Tufte’s &lt;strong&gt;The Visual Display of Quantitative Information&lt;/strong&gt; presents advantages of “multifunctioning graphical elements” in data visualiztions. The idea is that features like the shape of points on the plot, grid lines, or even data labels can serve multiple purposes in communicating information.&lt;/p&gt;
&lt;p&gt;For example, take the shape of a stem plot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggplot2)
library(dplyr)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;glimpse(starwars)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Observations: 87
## Variables: 13
## $ name       &amp;lt;chr&amp;gt; &amp;quot;Luke Skywalker&amp;quot;, &amp;quot;C-3PO&amp;quot;, &amp;quot;R2-D2&amp;quot;, &amp;quot;Darth Vader&amp;quot;, ...
## $ height     &amp;lt;int&amp;gt; 172, 167, 96, 202, 150, 178, 165, 97, 183, 182, 188...
## $ mass       &amp;lt;dbl&amp;gt; 77.0, 75.0, 32.0, 136.0, 49.0, 120.0, 75.0, 32.0, 8...
## $ hair_color &amp;lt;chr&amp;gt; &amp;quot;blond&amp;quot;, NA, NA, &amp;quot;none&amp;quot;, &amp;quot;brown&amp;quot;, &amp;quot;brown, grey&amp;quot;, &amp;quot;b...
## $ skin_color &amp;lt;chr&amp;gt; &amp;quot;fair&amp;quot;, &amp;quot;gold&amp;quot;, &amp;quot;white, blue&amp;quot;, &amp;quot;white&amp;quot;, &amp;quot;light&amp;quot;, &amp;quot;l...
## $ eye_color  &amp;lt;chr&amp;gt; &amp;quot;blue&amp;quot;, &amp;quot;yellow&amp;quot;, &amp;quot;red&amp;quot;, &amp;quot;yellow&amp;quot;, &amp;quot;brown&amp;quot;, &amp;quot;blue&amp;quot;,...
## $ birth_year &amp;lt;dbl&amp;gt; 19.0, 112.0, 33.0, 41.9, 19.0, 52.0, 47.0, NA, 24.0...
## $ gender     &amp;lt;chr&amp;gt; &amp;quot;male&amp;quot;, NA, NA, &amp;quot;male&amp;quot;, &amp;quot;female&amp;quot;, &amp;quot;male&amp;quot;, &amp;quot;female&amp;quot;,...
## $ homeworld  &amp;lt;chr&amp;gt; &amp;quot;Tatooine&amp;quot;, &amp;quot;Tatooine&amp;quot;, &amp;quot;Naboo&amp;quot;, &amp;quot;Tatooine&amp;quot;, &amp;quot;Alder...
## $ species    &amp;lt;chr&amp;gt; &amp;quot;Human&amp;quot;, &amp;quot;Droid&amp;quot;, &amp;quot;Droid&amp;quot;, &amp;quot;Human&amp;quot;, &amp;quot;Human&amp;quot;, &amp;quot;Human...
## $ films      &amp;lt;list&amp;gt; [&amp;lt;&amp;quot;Revenge of the Sith&amp;quot;, &amp;quot;Return of the Jedi&amp;quot;, &amp;quot;Th...
## $ vehicles   &amp;lt;list&amp;gt; [&amp;lt;&amp;quot;Snowspeeder&amp;quot;, &amp;quot;Imperial Speeder Bike&amp;quot;&amp;gt;, &amp;lt;&amp;gt;, &amp;lt;&amp;gt;,...
## $ starships  &amp;lt;list&amp;gt; [&amp;lt;&amp;quot;X-wing&amp;quot;, &amp;quot;Imperial shuttle&amp;quot;&amp;gt;, &amp;lt;&amp;gt;, &amp;lt;&amp;gt;, &amp;quot;TIE Adva...&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;starwars %&amp;gt;%
  mutate(bmi = mass/((height/100)^2)) %&amp;gt;%
  # no jabba ...
  filter(!grepl(&amp;quot;Jabba&amp;quot;, name)) %&amp;gt;%
  pull(bmi) %&amp;gt;%
  stem(.)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
##   The decimal point is 1 digit(s) to the right of the |
## 
##   1 | 3
##   1 | 556777788999
##   2 | 1122233334444444
##   2 | 555555566666667778
##   3 | 123444
##   3 | 5589
##   4 | 
##   4 | 
##   5 | 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Tufte includes as another example a design originally published in Walter Herdeg’s &lt;strong&gt;Graphis/Diagrams&lt;/strong&gt; (not shown here), which uses data-based labels as a multifunction element. Below is a plot that recreates that concept using the built-in mammalian sleep data from &lt;code&gt;ggplot2&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;glimpse(msleep)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Observations: 83
## Variables: 11
## $ name         &amp;lt;chr&amp;gt; &amp;quot;Cheetah&amp;quot;, &amp;quot;Owl monkey&amp;quot;, &amp;quot;Mountain beaver&amp;quot;, &amp;quot;Grea...
## $ genus        &amp;lt;chr&amp;gt; &amp;quot;Acinonyx&amp;quot;, &amp;quot;Aotus&amp;quot;, &amp;quot;Aplodontia&amp;quot;, &amp;quot;Blarina&amp;quot;, &amp;quot;Bo...
## $ vore         &amp;lt;chr&amp;gt; &amp;quot;carni&amp;quot;, &amp;quot;omni&amp;quot;, &amp;quot;herbi&amp;quot;, &amp;quot;omni&amp;quot;, &amp;quot;herbi&amp;quot;, &amp;quot;herbi...
## $ order        &amp;lt;chr&amp;gt; &amp;quot;Carnivora&amp;quot;, &amp;quot;Primates&amp;quot;, &amp;quot;Rodentia&amp;quot;, &amp;quot;Soricomorph...
## $ conservation &amp;lt;chr&amp;gt; &amp;quot;lc&amp;quot;, NA, &amp;quot;nt&amp;quot;, &amp;quot;lc&amp;quot;, &amp;quot;domesticated&amp;quot;, NA, &amp;quot;vu&amp;quot;, N...
## $ sleep_total  &amp;lt;dbl&amp;gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1...
## $ sleep_rem    &amp;lt;dbl&amp;gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0....
## $ sleep_cycle  &amp;lt;dbl&amp;gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.38...
## $ awake        &amp;lt;dbl&amp;gt; 11.9, 7.0, 9.6, 9.1, 20.0, 9.6, 15.3, 17.0, 13.9,...
## $ brainwt      &amp;lt;dbl&amp;gt; NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0....
## $ bodywt       &amp;lt;dbl&amp;gt; 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.4...&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;animals &amp;lt;- c(&amp;quot;Asian elephant&amp;quot;, 
             &amp;quot;Little brown bat&amp;quot;,
             &amp;quot;Three-toed sloth&amp;quot;, 
             &amp;quot;Rabbit&amp;quot;, 
             &amp;quot;Giant armadillo&amp;quot;, 
             &amp;quot;Tiger&amp;quot;,
             &amp;quot;Chimpanzee&amp;quot;,
             &amp;quot;Potoroo&amp;quot;,
             &amp;quot;Lion&amp;quot;,
             &amp;quot;Domestic cat&amp;quot;,
             &amp;quot;Pilot whale&amp;quot;,
             &amp;quot;Goat&amp;quot;,
             &amp;quot;Gray seal&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;msleep %&amp;gt;%
  filter(name %in% animals) %&amp;gt;%
  ggplot(aes(reorder(name,sleep_total), sleep_total)) +
  geom_col(width=0.5, fill = &amp;quot;snow1&amp;quot;) +
  geom_text(aes(x = -1.5, y = sleep_total + 0.5, label =  paste0(name, &amp;quot; (&amp;quot;, sleep_total, &amp;quot;)&amp;quot;)), 
            color = &amp;quot;snow1&amp;quot;, 
            hjust = 0, 
            vjust  = 1) +
  geom_segment(aes(x = -1.5, xend = name, y = sleep_total, yend = sleep_total), 
               color = &amp;quot;snow1&amp;quot;, 
               lty = &amp;quot;dotted&amp;quot;) +
  labs(x = &amp;quot;&amp;quot;, y = &amp;quot;&amp;quot;, title = &amp;quot;Total Sleep (Hours)&amp;quot;) +
  theme(panel.background = element_rect(fill = &amp;quot;black&amp;quot;),
        plot.background = element_rect(fill = &amp;quot;black&amp;quot;),
        panel.grid = element_blank(),
        axis.text = element_blank(),
        axis.ticks = element_blank())&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/notes/data-based-labels_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;960&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Oxygen desaturations in the early neonatal period predict development of bronchopulmonary dysplasia</title>
      <link>/publication/bd-bpd-pr/</link>
      <pubDate>Mon, 29 Oct 2018 00:00:00 +0000</pubDate>
      
      <guid>/publication/bd-bpd-pr/</guid>
      <description></description>
    </item>
    
    <item>
      <title>LOLAweb: a containerized web server for interactive genomic locus overlap enrichment analysis</title>
      <link>/publication/lolaweb/</link>
      <pubDate>Wed, 06 Jun 2018 00:00:00 +0000</pubDate>
      
      <guid>/publication/lolaweb/</guid>
      <description></description>
    </item>
    
    <item>
      <title>epicontacts: Handling, visualisation and analysis of epidemiological contacts</title>
      <link>/publication/epicontacts/</link>
      <pubDate>Thu, 10 May 2018 00:00:00 +0000</pubDate>
      
      <guid>/publication/epicontacts/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Bradycardia and Oxygen Desaturation Events in VLBW infants: Association with BPD and other outcomes</title>
      <link>/publication/bd-pas-2018/</link>
      <pubDate>Thu, 03 May 2018 00:00:00 +0000</pubDate>
      
      <guid>/publication/bd-pas-2018/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Seventh Day Respiratory Acuity Score is a Strong Predictor of BPD in VLBW Infants</title>
      <link>/publication/ras-pas-2018/</link>
      <pubDate>Thu, 03 May 2018 00:00:00 +0000</pubDate>
      
      <guid>/publication/ras-pas-2018/</guid>
      <description></description>
    </item>
    
    <item>
      <title>dplyr filter() Benchmark</title>
      <link>/notes/filter-benchmark/</link>
      <pubDate>Mon, 30 Apr 2018 14:50:23 +0000</pubDate>
      
      <guid>/notes/filter-benchmark/</guid>
      <description>&lt;p&gt;Last week I finished preparing new teaching material for a workshop on R optimization techniques. Some of the examples were motivated by benchmarking tests I ran on data manipulation methods with &lt;code&gt;base&lt;/code&gt; vs &lt;code&gt;dplyr&lt;/code&gt; vs &lt;code&gt;data.table&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Not surprisingly, &lt;code&gt;data.table&lt;/code&gt; was generally most efficient in terms of speed when running the &lt;code&gt;microbenchmark&lt;/code&gt; tests.&lt;/p&gt;
&lt;p&gt;One oddball result did creep up …&lt;/p&gt;
&lt;p&gt;When comparing &lt;code&gt;dplyr::filter()&lt;/code&gt; versus a base method (using bracket indices and &lt;code&gt;which()&lt;/code&gt;), I noticed that the former was quite a bit slower for a data frame with 5000 rows. But that result reversed as the size of the data frame increased … in other words, &lt;code&gt;filter()&lt;/code&gt; was actually much &lt;em&gt;faster&lt;/em&gt; for a larger dataset.&lt;/p&gt;
&lt;p&gt;First we can load the packages we’ll be using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(microbenchmark)
library(dplyr)
library(ggplot2)
library(nycflights13)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next create a sample of n = 5000 rows of the &lt;code&gt;nycflights13&lt;/code&gt; dataset:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;flights_sample &amp;lt;- 
  sample_n(flights, 5000)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then run the benchmark on the sample of n = 5000 rows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# run benchmark on n = 5000
microbenchmark(
  bracket = flights_sample[which(flights_sample$dep_delay &amp;gt; 0),],
  filter = filter(flights_sample, dep_delay &amp;gt; 0),
  times = 10
  )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Unit: microseconds
##     expr      min       lq     mean    median       uq      max neval
##  bracket  528.900  543.692 2881.957  616.8865  687.474 23348.52    10
##   filter 1229.799 1384.516 2688.792 1573.2475 1701.045 12775.43    10&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now run the benchmark on the full n = 336776 rows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;microbenchmark(
  bracket = flights[which(flights$dep_delay &amp;gt; 0),],
  filter = filter(flights, dep_delay &amp;gt; 0),
  times = 10
  )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Unit: milliseconds
##     expr      min       lq     mean   median       uq      max neval
##  bracket 25.78197 28.99358 30.08971 29.85949 31.46580 36.93485    10
##   filter 16.43049 18.37075 20.48562 18.63875 21.77536 28.94453    10&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;My guess is that there’s some overhead to using &lt;code&gt;filter()&lt;/code&gt; … but this clearly pays off eventually. So how big (i.e. how many rows) does a data frame need to be for &lt;code&gt;filter()&lt;/code&gt; to be faster?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# create sequence of number of rows to sample by 20000
sample_seq &amp;lt;- seq(5000, nrow(flights), by = 20000)

# set up empty data frame that will store results
mbm &amp;lt;- data_frame()

# loop through the samples and calculate microbencharmk in ms
for(n in sample_seq) {
  
  flights_sample &amp;lt;- sample_n(flights, n)
  
  tmpmbm &amp;lt;-
    microbenchmark(
      bracket = flights_sample[which(flights_sample$dep_delay &amp;gt; 0),],
      filter = filter(flights_sample, dep_delay &amp;gt; 0),
      times = 10,
      unit = &amp;quot;ms&amp;quot;
    )
  
  mbm &amp;lt;- rbind(mbm, summary(tmpmbm))
  
}

# add the sample n as a column for plotting
mbm$n &amp;lt;- rep(sample_seq, each = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The plot below shows the threshold (number of rows on y axis) at which &lt;code&gt;filter()&lt;/code&gt; is faster (ratio &amp;lt; 1 on x axis). It also demonstrates that the absolute amount of time starts leveling off as the datasets get bigger.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mbm %&amp;gt;%
  select(method = expr,
         nrows = n,
         time = median) %&amp;gt;%
  group_by(nrows) %&amp;gt;%
  mutate(ratio = time / lag(time)) %&amp;gt;%
  filter(!is.na(ratio)) %&amp;gt;%
  ggplot(aes(nrows, ratio, size = time)) +
  geom_point() +
  geom_hline(yintercept = 1, col = &amp;quot;firebrick&amp;quot;, lwd = 2) +
  scale_x_reverse(breaks = sample_seq) +
  xlab(&amp;quot;number of rows&amp;quot;) +
  ylab(&amp;quot;ratio of time\ndplyr::filter() / base&amp;quot;) +
  coord_flip() +
  theme_minimal() +
  guides(size = guide_legend(title = &amp;quot;time\n(milliseconds)&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/notes/filter-benchmark_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Expand Dates Between</title>
      <link>/notes/dates-between/</link>
      <pubDate>Sun, 29 Apr 2018 08:38:31 -0400</pubDate>
      
      <guid>/notes/dates-between/</guid>
      <description>&lt;p&gt;A few weeks ago I helped someone who needed to expand a data frame that included events (with a start and stop date for each) to one that had rows for every date in an event (including start and stop) … the code below gives a reproducible example of how to do that with &lt;code&gt;dplyr&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr)

start_time &amp;lt;- sample(seq(as.Date(&amp;quot;1999/1/1&amp;quot;), as.Date(&amp;quot;1999/12/31&amp;quot;), &amp;quot;days&amp;quot;), 5)
end_time &amp;lt;- start_time + sample(2:4, size = length(start_time), replace = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_frame(start = start_time, end = end_time)&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;start&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;end&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1999-10-22&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-10-26&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1999-12-21&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-12-24&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1999-07-09&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-07-11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1999-05-18&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-05-22&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1999-04-20&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-04-22&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_frame(start = start_time, end = end_time) %&amp;gt;%
  mutate(id = 1:nrow(.)) %&amp;gt;%
  rowwise() %&amp;gt;%
  do(data.frame(id=.$id, days=seq(.$start,.$end,by=&amp;quot;days&amp;quot;)))&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;right&#34;&gt;id&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;days&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-10-22&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-10-23&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-10-24&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-10-25&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-10-26&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-12-21&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-12-22&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-12-23&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-12-24&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-07-09&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-07-10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-07-11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-05-18&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-05-19&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-05-20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-05-21&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-05-22&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-04-20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-04-21&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1999-04-22&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;This borrows from a &lt;a href=&#34;https://stackoverflow.com/questions/24803361/expand-rows-by-date-range-using-start-and-end-date?answertab=votes#tab-top&#34;&gt;SO post&lt;/a&gt; that also includes a &lt;code&gt;data.table&lt;/code&gt; solution.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Fixed Width Formats in R</title>
      <link>/notes/fixed-width-format-r/</link>
      <pubDate>Sat, 28 Apr 2018 17:14:59 +0000</pubDate>
      
      <guid>/notes/fixed-width-format-r/</guid>
      <description>&lt;p&gt;The Centers for Disease Control (CDC) collects &lt;a href=&#34;https://www.cdc.gov/nchs/data_access/vitalstatsonline.htm&#34;&gt;vital statistics&lt;/a&gt; (mortality and natality) and hosts these for public use. These data can be accessed via a &lt;a href=&#34;https://wonder.cdc.gov/&#34;&gt;web-based query builder&lt;/a&gt; or by download. The files are available as zip archives, and when uncompressed contain tabular data with observations stored in fixed width format.&lt;/p&gt;
&lt;p&gt;This post documents the steps I took to prepare the 2016 CDC national natality data for an analysis in R.&lt;/p&gt;
&lt;p&gt;The first step is to download the data necessary. In this case, I was interested in 2016 statistics. But it’s worth pointing out that the data for births in the United States was collected and is available for public use all the way back to 1968. This data is collated from standard birth certificates, so some fields may vary across years.&lt;/p&gt;
&lt;p&gt;After downloading the zip file (133MB) and extracting the archive, the key step for me was reading the fixed width format into R. These data are tidy in the sense that each observation is stored in a row, and each feature in a column. But unlike some other tabular formats, there isn’t a standard separator between columns. Instead data must be parsed by the position (start and stop) of the column.&lt;/p&gt;
&lt;p&gt;You can read data from this format into R as a &lt;code&gt;data.frame&lt;/code&gt; with &lt;code&gt;read.fwf&lt;/code&gt;. Alternatively, the &lt;code&gt;readr&lt;/code&gt; package has the &lt;code&gt;read_fwf()&lt;/code&gt; function, which is what I chose to use.&lt;/p&gt;
&lt;p&gt;The CDC provides a &lt;a href=&#34;ftp://ftp.cdc.gov/pub/Health_Statistics/NCHS/Dataset_Documentation/DVS/natality/UserGuide2016.pdf&#34;&gt;user guide&lt;/a&gt; with documentation on the length, order, possible values and names for each column in the corresponding datasets. After looking through the files for the fields I needed, I put together a query for only the columns of interest.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(readr)

births2016 &amp;lt;-
  read_fwf(births2016&amp;quot;Nat2016PublicUS.c20170517.r20170913.txt&amp;quot;,
           fwf_positions(start = c(75,490,521),
                         end = c(76,491,521),
                         col_names = c(&amp;quot;maternal_age&amp;quot;,&amp;quot;ega&amp;quot;, &amp;quot;antibiotics&amp;quot;)
                         )
           )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you wanted to read in all of the columns, you could use &lt;code&gt;fwf_empty()&lt;/code&gt; instead of &lt;code&gt;fwf_positions&lt;/code&gt; in the call to &lt;code&gt;read_fwf()&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;births2016 &amp;lt;-
  read_fwf(&amp;quot;Nat2016PublicUS.c20170517.r20170913.txt&amp;quot;,
           fwf_empty(&amp;quot;Nat2016PublicUS.c20170517.r20170913.txt&amp;quot;)
           )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Keep in mind &lt;code&gt;fwf_empty&lt;/code&gt; can accommodate a “col_names” argument as well. But in this case there would be &amp;gt; 100 column names to provide, some of which are “filler” according to the dataset documentation.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BIEN</title>
      <link>/notes/bien/</link>
      <pubDate>Fri, 27 Apr 2018 17:14:59 +0000</pubDate>
      
      <guid>/notes/bien/</guid>
      <description>&lt;script src=&#34;/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/jquery/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/leaflet/leaflet.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;/rmarkdown-libs/leaflet/leaflet.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/leafletfix/leafletfix.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;/rmarkdown-libs/leaflet-label/leaflet.label.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;/rmarkdown-libs/leaflet-label/leaflet.label.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/leaflet-binding/leaflet.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/leaflet-providers/leaflet-providers.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/leaflet-providers-plugin/leaflet-providers-plugin.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;As a side project I recently helped a friend use an &lt;a href=&#34;https://CRAN.R-project.org/package=BIEN&#34;&gt;R package&lt;/a&gt; for retrieving data from the Botantical Information and Ecology Network Database (BIEN). The code for that exploration is documented below.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(&amp;quot;BIEN&amp;quot;)
install.packages(&amp;quot;dplyr&amp;quot;)
install.packages(&amp;quot;leaflet&amp;quot;)
install.packages(&amp;quot;rgdal&amp;quot;)
install.packages(&amp;quot;geojsonio&amp;quot;)
install.packages(&amp;quot;htmltools&amp;quot;)
install.packages(&amp;quot;knitr&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(BIEN)
library(leaflet)
library(rgdal)
library(geojsonio)
library(dplyr)
library(htmltools)
library(knitr)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;occurrence&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Occurrence&lt;/h2&gt;
&lt;p&gt;BIEN includes occurence data on the species level. The code below queries the database for Western Sumac (&lt;em&gt;Rhus copallanium&lt;/em&gt;) and returns an interactive map with markers for all of the places where the species has been documented.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# retrieve occurrenc data for western sumac
wsumac &amp;lt;- BIEN_occurrence_species(species = &amp;quot;Rhus copallinum&amp;quot;)

# plot points on map
# popups for date collected where available
leaflet(data = wsumac) %&amp;gt;%
  addProviderTiles(&amp;quot;OpenStreetMap.BlackAndWhite&amp;quot;) %&amp;gt;%
  addCircleMarkers(lng=wsumac$longitude, 
                   lat=wsumac$latitude,
                   col=&amp;quot;firebrick&amp;quot;,
                   stroke = FALSE,
                   opacity = 0.1,
                   label = ~htmlEscape(date_collected))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;ranges&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Ranges&lt;/h2&gt;
&lt;p&gt;The ranges for species are also available in the database. These are included as &lt;code&gt;shp&lt;/code&gt; files that can be pretty easily dropped on a map.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# retrieve range data as shp files 
BIEN_ranges_species(&amp;quot;Rhus copallinum&amp;quot;, directory = &amp;quot;shp&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##           Species Range_map_downloaded?
## 1 Rhus_copallinum                   Yes&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# read in the data
wsumac &amp;lt;- readOGR(dsn = path.expand(&amp;quot;shp&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## OGR data source with driver: ESRI Shapefile 
## Source: &amp;quot;shp&amp;quot;, layer: &amp;quot;Rhus_copallinum&amp;quot;
## with 1 features
## It has 1 fields&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# plot the range
leaflet(data = wsumac) %&amp;gt;%
  addProviderTiles(&amp;quot;OpenStreetMap.BlackAndWhite&amp;quot;) %&amp;gt;%
  addPolygons()&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;leaflet html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;options&#34;:{&#34;crs&#34;:{&#34;crsClass&#34;:&#34;L.CRS.EPSG3857&#34;,&#34;code&#34;:null,&#34;proj4def&#34;:null,&#34;projectedBounds&#34;:null,&#34;options&#34;:{}}},&#34;calls&#34;:[{&#34;method&#34;:&#34;addProviderTiles&#34;,&#34;args&#34;:[&#34;OpenStreetMap.BlackAndWhite&#34;,null,null,{&#34;errorTileUrl&#34;:&#34;&#34;,&#34;noWrap&#34;:false,&#34;zIndex&#34;:null,&#34;unloadInvisibleTiles&#34;:null,&#34;updateWhenIdle&#34;:null,&#34;detectRetina&#34;:false,&#34;reuseTiles&#34;:false}]},{&#34;method&#34;:&#34;addPolygons&#34;,&#34;args&#34;:[[[[{&#34;lng&#34;:[-99.14964878,-99.05246472,-99.04139878,-99.13852992,-99.14964878],&#34;lat&#34;:[21.74012115,21.74880054,21.65995133,21.65128872,21.74012115]}],[{&#34;lng&#34;:[-105.20550916,-105.10740279,-105.09230317,-105.19035682,-105.20550916],&#34;lat&#34;:[22.45429428,22.46591763,22.37826979,22.36666894,22.45429428]}],[{&#34;lng&#34;:[-99.48682342,-99.38942007,-99.36662129,-99.46391749,-99.48682342],&#34;lat&#34;:[22.06894037,22.0778195,21.9002265,21.89138176,22.06894037]}],[{&#34;lng&#34;:[-99.48264316,-99.38480313,-99.34962758,-99.25195523,-99.24038714,-99.33800451,-99.29201849,-99.38942007,-99.48264316],&#34;lat&#34;:[22.78817347,22.79714721,22.53071498,22.53959192,22.45076333,22.44190365,22.08665459,22.0778195,22.78817347]}],[{&#34;lng&#34;:[-98.03730313,-97.93936781,-97.92833656,-98.02621496,-98.03730313],&#34;lat&#34;:[23.09617557,23.10451047,23.01544693,23.00712833,23.09617557]}],[{&#34;lng&#34;:[-105.40853493,-105.30972298,-105.29375706,-105.39251339,-105.40853493],&#34;lat&#34;:[23.59313791,23.6050591,23.51745094,23.50555302,23.59313791]}],[{&#34;lng&#34;:[-99.40701588,-99.30860778,-99.28429576,-99.18600459,-99.2102004,-99.11179375,-99.06384211,-99.16201711,-99.11466164,-99.21261005,-99.20084298,-99.29873635,-99.31055965,-99.40851045,-99.39663099,-99.49452689,-99.51845007,-99.4204417,-99.4324249,-99.33436104,-99.32243449,-99.22442843,-99.27221833,-99.46868793,-99.48088065,-99.38258777,-99.40701588],&#34;lat&#34;:[23.69435061,23.70341064,23.52572016,23.53469926,23.71242507,23.72139392,23.36587279,23.3569741,23.00152477,22.9926506,22.90380562,22.89490395,22.98373152,22.97476755,22.88595748,22.8769662,23.05455098,23.06357747,23.15238725,23.16138635,23.07255898,23.08149551,23.43687512,23.41881615,23.50762573,23.51669565,23.69435061]}],[{&#34;lng&#34;:[-105.55599217,-105.45701079,-105.44078341,-105.53970854,-105.55599217],&#34;lat&#34;:[23.84383729,23.85587456,23.76829867,23.75628494,23.84383729]}],[{&#34;lng&#34;:[-99.35786539,-99.25922265,-99.22237687,-99.32084272,-99.35786539],&#34;lat&#34;:[24.05879396,24.06787966,23.80128831,23.79225612,24.05879396]}],[{&#34;lng&#34;:[-99.54519346,-99.34706483,-99.33435412,-99.43335742,-99.39536864,-99.49419085,-99.54519346],&#34;lat&#34;:[24.67146858,24.68993971,24.60107256,24.5918785,24.32533449,24.31614862,24.67146858]}],[{&#34;lng&#34;:[-98.33228064,-98.13439864,-98.12252651,-98.2214063,-98.20952407,-98.30834314,-98.33228064],&#34;lat&#34;:[24.60141208,24.61869602,24.52961926,24.52101759,24.43195888,24.42332793,24.60141208]}],[{&#34;lng&#34;:[-99.18702655,-99.08777743,-99.07508842,-98.38077529,-98.36857372,-98.26944778,-98.24532416,-98.34432658,-98.33228064,-98.43122178,-98.53016301,-98.51804653,-98.61692693,-98.6048016,-98.80244174,-98.81468827,-99.0124504,-99.02487103,-99.12381307,-99.1363479,-99.23535095,-99.24800062,-99.14893647,-99.18702655],&#34;lat&#34;:[24.97493866,24.98406541,24.89514189,24.9575924,24.86854574,24.87726268,24.69913801,24.69045561,24.60141208,24.59270042,24.5839423,24.49493432,24.48614718,24.39715743,24.37947911,24.46843386,24.45053519,24.53945518,24.5304185,24.61932122,24.61022013,24.69910543,24.70822457,24.97493866]}],[{&#34;lng&#34;:[-98.52136826,-98.4229663,-98.3997042,-98.30142007,-98.27847463,-98.18030756,-98.13523946,-98.23317682,-98.42905469,-98.44041938,-98.63641526,-98.64794372,-98.54988817,-98.56140947,-98.65952235,-98.67115133,-98.57298087,-98.59627465,-98.49798905,-98.52136826],&#34;lat&#34;:[23.77424908,23.78289857,23.60489625,23.61346631,23.43543253,23.44392369,23.0877957,23.07937086,23.0623863,23.15136778,23.1341698,23.22311789,23.2317563,23.3207216,23.31206625,23.40101491,23.40968725,23.58761972,23.59628072,23.77424908]}],[{&#34;lng&#34;:[-100.57373881,-100.47405582,-100.44632168,-100.54587913,-100.57373881],&#34;lat&#34;:[25.47266584,25.48253755,25.30517291,25.29534045,25.47266584]}],[{&#34;lng&#34;:[-99.70955714,-99.51081184,-99.49776474,-99.59707531,-99.57102371,-99.47183676,-99.45895549,-99.55808101,-99.54519346,-99.6442579,-99.68327028,-99.78251872,-99.79569597,-99.69638572,-99.70955714],&#34;lat&#34;:[25.10623076,25.12498019,25.03612845,25.02679582,24.84913117,24.85842681,24.76957685,24.76029963,24.67146858,24.66216318,24.92860229,24.91919454,25.00798981,25.01741627,25.10623076]}],[{&#34;lng&#34;:[-98.30602216,-98.20670871,-98.19452788,-98.2937786,-98.30602216],&#34;lat&#34;:[25.14445819,25.15318029,25.06409659,25.05539184,25.14445819]}],[{&#34;lng&#34;:[-72.25580817,-72.13994943,-72.14946026,-72.26518034,-72.25580817],&#34;lat&#34;:[41.06896379,41.06431963,40.97224368,40.97687629,41.06896379]}],[{&#34;lng&#34;:[-72.13039498,-72.0144047,-72.02409836,-72.13994943,-72.13039498],&#34;lat&#34;:[41.15640993,41.15168522,41.05960667,41.06431963,41.15640993]}],[{&#34;lng&#34;:[-70.23991549,-70.00738822,-70.01960172,-70.25184974,-70.23991549],&#34;lat&#34;:[41.34827358,41.33646381,41.24457065,41.25635096,41.34827358]}],[{&#34;lng&#34;:[-70.79877869,-70.56559105,-70.57721187,-70.46077369,-70.44901163,-70.33244197,-70.35619384,-70.82140286,-70.79877869],&#34;lat&#34;:[41.56061415,41.54944143,41.45744808,41.45177148,41.54375058,41.53799009,41.35407456,41.37658553,41.56061415]}],[{&#34;lng&#34;:[-70.64651318,-70.52801633,-70.54020858,-70.65855538,-70.64651318],&#34;lat&#34;:[42.75819493,42.75245713,42.66026287,42.66598597,42.75819493]}],[{&#34;lng&#34;:[-88.95825619,-88.85564894,-88.84857931,-88.95110574,-88.95825619],&#34;lat&#34;:[29.75011557,29.75464052,29.66405543,29.65953997,29.75011557]}],[{&#34;lng&#34;:[-88.8698785,-88.7671066,-88.75303977,-88.85564894,-88.8698785],&#34;lat&#34;:[29.93583177,29.94032358,29.75911346,29.75464052,29.93583177]}],[{&#34;lng&#34;:[-88.88422933,-88.78129331,-88.77418491,-88.87703869,-88.88422933],&#34;lat&#34;:[30.11705146,30.12156224,30.03093931,30.02643804,30.11705146]}],[{&#34;lng&#34;:[-87.97071411,-87.86759426,-87.86117334,-87.96420992,-87.97071411],&#34;lat&#34;:[30.33717238,30.34122805,30.25050947,30.24646237,30.33717238]}],[{&#34;lng&#34;:[-76.13922385,-76.03122993,-76.03509472,-76.14298375,-76.13922385],&#34;lat&#34;:[35.11320267,35.11105966,35.01958873,35.0217269,35.11320267]}],[{&#34;lng&#34;:[-75.80704613,-75.69884747,-75.70306312,-75.81115606,-75.80704613],&#34;lat&#34;:[35.28955223,35.28722145,35.1957431,35.19806861,35.28955223]}],[{&#34;lng&#34;:[-75.58195199,-75.47354517,-75.48245694,-75.59065105,-75.58195199],&#34;lat&#34;:[35.46781154,35.46535094,35.28238187,35.28483133,35.46781154]}],[{&#34;lng&#34;:[-75.56432573,-75.45548793,-75.46455576,-75.57317713,-75.56432573],&#34;lat&#34;:[35.83391103,35.8314279,35.64836613,35.65083795,35.83391103]}],[{&#34;lng&#34;:[-68.90411269,-68.78361407,-68.79870868,-68.91904889,-68.90411269],&#34;lat&#34;:[43.9675314,43.9606127,43.86842769,43.87532827,43.9675314]}],[{&#34;lng&#34;:[-87.36618733,-87.24414495,-87.23408921,-87.35596389,-87.36618733],&#34;lat&#34;:[44.79643095,44.80100905,44.70820331,44.70363743,44.79643095]}],[{&#34;lng&#34;:[-87.25424948,-87.13202846,-87.12209253,-87.24414495,-87.25424948],&#34;lat&#34;:[44.89383199,44.89834585,44.80551083,44.80100905,44.89383199]}],[{&#34;lng&#34;:[-72.14279327,-72.01977759,-72.0867507,-72.20874601,-72.3307521,-72.30931807,-72.43167208,-72.3996404,-72.27677436,-72.15391946,-72.14279327],&#34;lat&#34;:[45.33674091,45.33174078,44.77496674,44.77988684,44.78473069,44.97030633,44.97509954,45.25363045,45.24879836,45.24388899,45.33674091]}],[{&#34;lng&#34;:[-76.33620276,-76.21307189,-76.21843984,-76.34139663,-76.33620276],&#34;lat&#34;:[45.36736425,45.36501252,45.2718509,45.27419626,45.36736425]}],[{&#34;lng&#34;:[-71.88524713,-71.76208213,-71.77378123,-71.89677352,-71.88524713],&#34;lat&#34;:[45.4195051,45.41433609,45.32150814,45.32666318,45.4195051]}],[{&#34;lng&#34;:[-72.36913593,-72.24376692,-72.26670058,-72.39170308,-72.42513599,-72.30067656,-72.31189018,-72.18762188,-72.21023942,-72.33415204,-72.36713681,-72.49053366,-72.50124708,-72.62448084,-72.63496861,-72.38885876,-72.3996404,-72.52251743,-72.55403674,-72.6764119,-72.70697029,-72.82885014,-72.85847033,-72.73708894,-72.70697029,-72.34139159,-72.37300382,-72.25166232,-72.26226291,-72.38344023,-72.42468928,-72.30416097,-72.26226291,-72.14109586,-72.10864596,-71.98699506,-71.9980293,-71.75509109,-71.63363855,-71.61052244,-71.48875017,-71.53542003,-71.65653342,-71.66789877,-71.78886031,-71.80000926,-71.92081936,-71.93175366,-71.81110503,-71.83313837,-71.71282076,-71.69046696,-71.56983961,-71.58120364,-71.34030237,-71.32861767,-71.20802337,-71.19612188,-71.3168771,-71.30508032,-71.18416341,-71.06325804,-71.03884331,-70.91762442,-70.8926461,-70.77111124,-70.74556034,-70.62370705,-70.63667911,-70.51500441,-70.48866537,-70.36667162,-70.38003926,-70.25822507,-70.21742659,-70.09512504,-69.9728374,-69.95876901,-69.59148697,-69.46908882,-69.45427687,-69.33172514,-69.31667197,-69.19396632,-69.17867001,-69.0558101,-69.04026872,-68.54830817,-68.56453018,-68.19624255,-68.24595146,-68.12372567,-68.14030196,-68.01825875,-68.0015165,-68.12372567,-68.1070692,-67.9846933,-67.86233434,-67.82810751,-67.7054305,-67.68802363,-67.44238557,-67.54757459,-67.42578039,-67.46050023,-67.58196798,-67.82495355,-67.84170238,-67.96305732,-67.97956437,-68.10077347,-68.08442839,-68.20581545,-68.27008591,-68.39084412,-68.3750514,-68.49598489,-68.52717565,-68.64780427,-68.63240564,-68.75320866,-68.76844754,-68.88910531,-69.00977744,-69.02462552,-69.14515243,-69.15977138,-69.28015339,-69.40054904,-69.41478241,-69.53503321,-69.54904156,-69.66914783,-70.02954385,-70.0428571,-70.16285684,-70.17595037,-70.29580545,-70.3214958,-70.441051,-70.45365061,-70.57306247,-70.59777645,-70.71689165,-70.7769128,-70.65855538,-70.67054146,-70.7887494,-70.80053091,-70.91860035,-70.94170365,-70.82392996,-70.81225766,-70.69434662,-70.7179313,-70.60032456,-70.61218104,-70.49473041,-70.53040599,-70.41339902,-70.42532461,-70.30847076,-70.29640211,-70.17941536,-70.0624389,-70.03755832,-70.27209706,-70.25986002,-69.90763333,-69.94547284,-69.8285173,-69.84115718,-69.95797007,-70.19162698,-70.20378247,-70.32048394,-70.78738835,-70.79877869,-70.9153867,-70.92658324,-71.04305894,-71.27603749,-71.28675951,-71.4031209,-71.51949097,-71.52988255,-71.64612039,-71.87862103,-71.88854435,-72.00466653,-71.99488361,-72.11115421,-72.13039498,-72.24639301,-72.25580817,-72.37167448,-72.39009922,-72.50569598,-72.62129994,-72.63017417,-72.74564751,-72.86112776,-72.86968735,-72.98503717,-73.10039362,-73.10864099,-73.22386722,-73.3390998,-73.34703737,-73.46213994,-74.15287936,-74.15983009,-73.92983265,-73.95839745,-74.07285574,-74.11395648,-74.2276311,-74.23424435,-74.34779435,-74.35424903,-74.46767478,-74.5811051,-74.59341533,-74.70659375,-74.71853998,-74.83146848,-74.83727536,-74.95008168,-74.93296338,-75.27254848,-75.26717531,-75.38050632,-75.37523771,-75.48870131,-75.48353833,-75.59713508,-75.60216866,-75.48870131,-75.49384114,-75.38050632,-75.39097285,-75.27789761,-75.28852423,-75.17570621,-75.18110983,-75.06842144,-75.11178085,-75.22348251,-75.21826799,-75.33009459,-75.33518764,-75.22348251,-75.22867397,-75.34025815,-75.35033205,-75.46167922,-75.46656345,-75.57779439,-75.59664463,-75.70740605,-75.702842,-75.8137237,-75.81817035,-75.70740605,-75.71195005,-75.82259745,-75.82700512,-76.04807531,-76.03970726,-75.92893744,-75.91150539,-75.80026544,-75.79573957,-75.68438305,-75.67503044,-75.78662752,-75.79119363,-75.90267315,-75.89376234,-76.11721363,-76.1129719,-76.22482356,-76.22068524,-76.33266199,-76.3406762,-76.45241151,-76.56414939,-76.56039483,-76.67225708,-76.67588978,-76.56414939,-76.56788733,-76.23304529,-76.26125478,-76.37203234,-76.37587455,-76.26521403,-76.27698776,-76.16667768,-76.17068287,-76.0604902,-76.05637007,-75.94606499,-75.95451654,-75.84444334,-75.85732272,-75.74759221,-75.76495056,-75.6556691,-75.66445565,-75.55539701,-75.56432573,-75.67316601,-75.68609034,-75.79460893,-75.90312979,-75.90718639,-76.01560231,-76.01953465,-76.12784598,-76.45279205,-76.45975723,-76.56786417,-76.57121875,-76.679222,-76.68245709,-76.57455884,-76.57121875,-76.24721975,-76.25087473,-76.14298375,-76.14672742,-76.25451394,-76.25813744,-76.3658218,-76.36932609,-76.47690862,-76.48366608,-76.59104441,-76.58777572,-77.12520478,-77.12795944,-77.23534677,-77.34273543,-77.34527337,-77.45256085,-77.45498586,-77.56217251,-77.56448551,-77.6715717,-77.67377358,-77.78075966,-77.78285133,-77.88973767,-77.89369387,-78.00038092,-78.42713744,-78.4286053,-78.53519675,-78.74838151,-78.74954574,-78.85603983,-78.85710037,-78.96349624,-78.96540754,-79.07160769,-79.07245975,-79.17856283,-79.18080731,-79.28662084,-79.2872668,-79.3929848,-79.60442147,-79.60513394,-79.71066212,-79.71092148,-79.81635517,-79.92178893,-79.92192838,-80.02717419,-80.23766574,-80.23745485,-80.34260713,-80.44775929,-80.44736333,-80.34230416,-80.34200247,-80.44696905,-80.44657646,-80.5514507,-80.76119856,-80.75986879,-80.86455916,-80.86380751,-80.96840659,-80.96756753,-81.07207569,-81.07114997,-81.17556756,-81.17055242,-81.27452429,-81.2734461,-81.37732966,-81.36593776,-81.26291317,-81.25580262,-81.15335765,-81.15152724,-81.04924457,-81.04759087,-80.94546917,-80.94472767,-80.84268585,-80.84071842,-80.73891466,-80.73834315,-80.63661799,-80.63563873,-80.53406992,-80.53325411,-80.43184036,-80.43151214,-80.53284881,-80.53164325,-80.43053584,-80.42925341,-80.3284471,-80.32772209,-80.22713825,-80.22615242,-80.32629972,-80.3260662,-80.42614179,-80.4258379,-80.52584209,-80.52546845,-80.62540154,-80.62495875,-80.72482104,-80.72430971,-80.82410149,-80.82352221,-80.9232438,-80.92259717,-81.52050599,-81.52157154,-81.62129247,-81.62015711,-81.71980812,-81.72101327,-81.82073395,-81.819459,-81.91910975,-81.92045448,-82.11989511,-82.12138579,-82.22117593,-82.22274341,-82.1228829,-82.12438646,-82.32424862,-82.32922589,-82.42937047,-82.43462878,-82.53498964,-82.53867884,-82.63918532,-82.64111522,-82.7416948,-82.74370669,-82.64305339,-82.64499987,-82.7457272,-82.74775638,-82.84855771,-82.85706227,-82.75596038,-82.75803338,-82.85921121,-82.86136934,-82.76011525,-82.76430573,-82.66289767,-82.66901804,-82.77065888,-82.77279473,-82.67107563,-82.67521721,-82.77709383,-82.78142973,-83.08753288,-83.09238642,-83.19457976,-83.19710265,-83.29937591,-83.30199047,-83.40434394,-83.4070509,-83.50948488,-83.51509697,-83.61769365,-83.62059991,-83.72327802,-83.72627926,-83.93179804,-83.9349779,-84.34633583,-84.33932819,-84.44199993,-84.64734039,-84.64361261,-84.74619924,-84.74240559,-84.8449095,-84.84878482,-85.05395276,-85.04991415,-84.8449095,-84.84105064,-85.14831212,-85.15241485,-85.35741291,-85.36169628,-85.25911625,-85.26333598,-85.36599792,-85.37031789,-85.47306087,-85.47748184,-85.58030613,-85.58482886,-85.68773475,-85.69700495,-85.80007628,-85.79534775,-86.00131906,-86.00621464,-86.21234715,-86.21743124,-86.32057902,-86.32576892,-86.42899924,-86.42372523,-86.52686985,-86.53222794,-86.84190408,-86.83629393,-86.93943194,-87.45509589,-87.44900839,-87.75813488,-87.77083709,-87.87404251,-87.8805182,-87.98380564,-87.99039322,-87.88702145,-87.89355238,-88.10046318,-88.06724459,-88.17027733,-88.17694794,-88.28006189,-88.28684439,-88.39003979,-88.38317381,-88.69249728,-88.69961343,-88.90598518,-88.91329888,-89.01656507,-89.00916778,-89.11234816,-89.31870221,-89.31108678,-89.41417733,-89.40651141,-89.50951702,-89.61252039,-89.6047223,-89.70764116,-89.81055779,-89.80262894,-89.69979416,-89.69198036,-89.58922495,-89.6047223,-89.39887793,-89.29595248,-89.30350358,-89.20049356,-89.17080792,-89.27349036,-89.26606627,-89.36866568,-89.57385845,-89.56622394,-89.46370914,-89.44869704,-89.14162172,-89.13440223,-89.03211979,-89.01088141,-89.11292668,-89.10582871,-89.20779392,-89.21497024,-89.3170121,-89.30975746,-89.41171931,-89.43381175,-89.63820161,-89.6457869,-89.85032759,-89.85810405,-89.9604509,-89.95259505,-89.85032759,-89.84258404,-89.94477243,-89.93698292,-90.44750286,-90.46390274,-90.56615824,-90.55786212,-90.6600368,-90.65169733,-90.8558839,-90.8643801,-91.17087961,-91.17964763,-91.28188844,-91.30865379,-91.51360335,-91.5319563,-91.63458723,-91.64390244,-91.84931742,-91.85883329,-91.96161749,-91.9520211,-92.05472222,-92.04508621,-91.73721571,-91.71854355,-91.8210101,-91.92347425,-91.93294965,-92.24056584,-92.23085222,-92.33330666,-92.34309958,-92.54815947,-92.55815298,-92.76336153,-92.77355691,-92.97891423,-92.98931276,-93.81126923,-93.80023304,-94.0055345,-94.01672952,-94.11945525,-94.10818092,-94.21082443,-94.41610269,-94.40463918,-94.60974824,-94.62136918,-94.72399798,-94.7475455,-94.8503294,-94.83845163,-94.94115326,-94.88211832,-94.98442631,-95.08673153,-95.0749188,-95.17714421,-95.16530444,-95.26745047,-95.25558414,-95.35765122,-95.34575883,-95.85567579,-95.86794701,-96.07204667,-96.08452135,-96.39087765,-96.40363293,-96.71019151,-96.72322884,-96.82548524,-96.81237195,-97.01672414,-97.12442025,-97.02163025,-97.14647286,-97.04296208,-97.11397342,-97.01004813,-97.02434702,-97.12835538,-97.14279784,-97.03870607,-97.12613831,-97.02153371,-97.05099885,-97.15577559,-97.17068792,-97.06582459,-97.0807128,-96.97575703,-97.00554684,-97.11067774,-97.12575503,-97.23096829,-97.26149102,-97.15610067,-97.20210101,-97.30775971,-97.323313,-97.21756412,-97.23309255,-97.12724676,-97.15831838,-97.26434654,-97.28007271,-97.38618596,-97.48250814,-97.58917189,-97.60555856,-97.49880062,-97.39203532,-97.49067812,-97.59801721,-97.61479998,-97.722228,-97.73917941,-97.84669651,-97.86381759,-97.97142391,-98.04103383,-97.93303366,-98.0034374,-98.11183784,-98.12972811,-98.23822024,-98.27443364,-98.38311928,-98.45689109,-98.34779461,-98.47923765,-98.36939497,-98.38839006,-98.27842942,-98.37409964,-98.26358576,-98.28285887,-98.39348253,-98.43250052,-98.54333299,-98.64292887,-98.5315369,-98.57175722,-98.46012517,-98.48025257,-98.36849303,-98.25672041,-98.27670562,-98.16480474,-98.1847616,-98.07273176,-98.11267485,-98.00039838,-98.02038394,-97.90797648,-97.92793173,-97.81539257,-97.83531684,-97.72264527,-97.7425379,-97.6297332,-97.64959352,-97.42370264,-97.3107366,-97.3303222,-97.21722145,-97.23677206,-97.12353587,-97.1430508,-97.02967843,-97.08837397,-96.97461704,-96.9942318,-96.8803359,-96.89991274,-96.78587711,-96.80541529,-96.6912392,-96.71073798,-96.59642067,-96.48208886,-96.50142002,-96.38694617,-96.27245785,-96.29161909,-96.17698791,-96.19610611,-96.0813313,-96.11956588,-96.00451624,-96.02363177,-95.90843626,-95.79322597,-95.81216416,-95.58143542,-95.46604902,-95.4846746,-95.02245124,-94.90685931,-94.92489974,-94.69340444,-94.57763545,-94.59535259,-94.24755491,-94.13159433,-94.14884744,-94.0327365,-94.04993119,-93.9336691,-93.81739309,-93.83439046,-93.71796249,-93.73489889,-93.61831817,-93.63519268,-93.40171025,-93.28494825,-93.30147901,-92.83373146,-92.71676078,-92.74863185,-92.63136326,-92.64726594,-92.5298405,-92.41240158,-92.42808959,-92.310493,-92.32610875,-92.20835369,-92.09058523,-92.10598181,-91.75215883,-91.63419157,-91.64907225,-91.53094487,-91.54574703,-91.42745872,-91.47183332,-91.35308365,-91.23432077,-91.27841268,-91.15918134,-91.14456755,-91.02547549,-90.90637035,-90.93505461,-90.81563007,-90.80140781,-90.6821239,-90.69619246,-90.57674191,-90.59072233,-90.47110431,-90.48499546,-90.36520913,-90.24541002,-90.25905437,-90.01910527,-89.89911193,-89.91234902,-90.03249982,-90.0730672,-89.95243958,-89.96593085,-89.84512984,-89.85852435,-89.73754909,-89.71114598,-89.4698022,-89.48265052,-89.36179914,-89.37454718,-89.25352166,-89.27887542,-89.15751134,-89.1701154,-88.80545636,-88.68387928,-88.6958824,-88.33058371,-88.20879446,-88.22018885,-88.0982214,-88.10950323,-87.98735671,-87.99852461,-87.87619817,-87.88725076,-87.76474354,-87.77567943,-87.65299057,-87.66380835,-87.4180547,-87.38678328,-87.50915304,-87.49866091,-87.62085099,-87.61024128,-87.73225253,-87.72152662,-87.84335988,-87.83251915,-87.95417527,-87.93231945,-88.05363456,-88.03166068,-87.91067264,-87.8999268,-87.65824476,-87.64787372,-87.40647563,-87.41652274,-87.29564713,-87.30557957,-87.18453145,-87.19434789,-87.31555975,-87.32558796,-87.20421158,-87.21412283,-87.33566452,-87.34578973,-87.22408194,-87.23408921,-87.11220458,-87.12209253,-86.75587661,-86.7464926,-86.6245698,-86.63378564,-86.3895762,-86.38069696,-86.25874724,-86.26745806,-86.14533119,-86.11982776,-85.87655552,-85.86846863,-85.98994254,-85.98172904,-85.8604206,-85.83650733,-85.71568301,-85.68497335,-85.44459362,-85.43732628,-85.19723834,-85.19032321,-85.07042838,-85.07718454,-84.47682326,-84.47086282,-84.35093246,-84.34515884,-83.62642073,-83.62162242,-83.38232203,-83.37786128,-83.13885936,-83.13473323,-83.01538331,-83.00750081,-82.88845876,-82.88469999,-82.52801807,-82.52473896,-81.93098214,-81.92848536,-81.80988016,-81.80754784,-80.97833024,-80.97959287,-80.86097478,-80.74235569,-80.74331708,-80.38699438,-80.26821905,-80.2692697,-80.03078774,-79.91154663,-79.9114305,-80.03082816,-80.03086878,-79.91131381,-79.91119657,-79.79148366,-79.79120706,-79.67133561,-79.67089813,-79.55086753,-79.55026765,-79.30988769,-79.18969893,-79.18861298,-79.0682642,-79.06701123,-78.82599376,-78.70548721,-78.70374052,-78.10042321,-77.97976649,-77.9770318,-77.8562145,-77.73539999,-77.73232423,-77.85330269,-77.85037685,-77.72923367,-77.7261282,-77.60482252,-77.60809349,-77.48695648,-77.48352005,-77.36222094,-77.35860168,-77.23713989,-77.11568183,-77.11171111,-76.86847298,-76.74686021,-76.7423672,-76.62059124,-76.61590802,-76.49396832,-76.48909318,-76.36698917,-76.35170852,-76.22909736,-76.22378161,-76.10100349,-76.09548853,-75.97254289,-75.96682693,-76.08994655,-76.07878079,-75.95531066,-75.96108291,-75.71451205,-75.70838861,-75.58493706,-75.46149206,-75.45498581,-75.20776381,-75.08416347,-75.07709407,-74.33459264,-74.21087117,-74.20252423,-74.07863427,-73.9547533,-73.9460091,-73.8219594,-73.8129932,-73.68877428,-73.67958412,-73.55519548,-73.5457794,-73.42122054,-73.29667196,-73.28684697,-73.16212797,-73.1520723,-73.02718238,-72.90230353,-72.89183268,-72.64174435,-72.51671773,-72.50564518,-72.38044761,-72.36913593],&#34;lat&#34;:[46.56047553,46.55553497,46.36933378,46.37424704,46.09504046,46.09016765,45.99714821,45.99220978,45.80625137,45.81116284,45.53231766,45.53711123,45.44418503,45.44888788,45.35596651,45.34650873,45.25363045,45.25838523,44.97981606,44.98445587,44.70600473,44.7105313,44.43219812,44.42770758,44.70600473,44.69196841,44.41378294,44.40899044,44.31630824,44.32108805,43.95047482,43.94574523,44.31630824,44.31145319,44.58951109,44.58454135,44.49185191,44.481712,44.47652866,44.66184242,44.65655544,44.28604962,44.29128072,44.19868129,44.20382359,44.11122689,44.11628083,44.02368711,44.01864647,43.83353425,43.82844582,44.01353123,44.00834139,43.91580427,43.90522874,43.99773802,43.99232451,44.0848355,44.09026328,44.18280458,44.17736246,44.17184542,44.35691823,44.35129664,44.53640384,44.53067667,44.71581776,44.70998395,44.61742088,44.61152678,44.79663749,44.79063565,44.69808828,44.69202645,44.9696678,44.96348058,44.95721682,45.04976249,45.03046042,45.02387303,45.116365,45.10968306,45.2021727,45.19539573,45.28788274,45.28101028,45.37349431,45.34515653,45.25274881,45.23074317,44.95378734,44.9463581,44.85408892,44.84660331,44.93885246,44.9463581,45.03864196,45.0311162,45.02351387,45.20804436,45.20032417,45.29259052,45.27687721,44.72374654,44.71590125,44.53167943,44.53948315,44.55486411,44.4627128,44.47026994,44.37811285,44.38557485,44.47775171,44.4851581,44.11645861,44.12371255,44.21588502,44.22308324,44.03871487,44.04580081,44.13799643,44.14502633,44.05281223,44.05974913,44.06661148,43.97437574,43.98114569,43.8889069,43.8955849,43.90218868,43.80992985,43.81644228,43.72418125,43.73060278,43.74942385,43.65711179,43.66322158,43.57090869,43.57692895,43.39231714,43.3982329,43.30593427,43.31176161,43.12717941,43.13290392,42.67163727,42.66598597,42.57379178,42.57942862,42.48723474,42.49278572,42.3084138,42.30289105,42.39505557,42.38944745,42.2051615,42.19951096,42.10740407,42.10169713,41.82550561,41.81977164,41.7277506,41.72196108,41.81396751,41.80809323,41.80214883,41.98614397,41.9980225,42.09007117,42.07210223,41.79613431,41.79004969,41.69810343,41.70417274,41.71610158,41.62412385,41.62996862,41.65264959,41.56061415,41.56609599,41.47406092,41.4794595,41.49004803,41.39798706,41.40316399,41.40827151,41.31619906,41.32122456,41.33106777,41.23897247,41.24377813,41.33588545,41.34063384,41.15640993,41.16106568,41.06896379,41.07353913,40.88935579,40.89383995,40.89825562,40.80616342,40.81049981,40.81476785,40.72266872,40.72685801,40.7309791,40.63887383,40.64291668,40.64689149,40.55478085,40.55867795,40.58063421,40.48847428,40.48144465,40.11301949,40.11653347,39.56427308,39.56766987,39.47566755,39.47899011,39.38699371,39.39024238,39.39342519,39.20944312,39.21254503,39.02860353,39.03162529,38.93966797,38.94261739,39.21855219,39.22707113,39.31909783,39.32181286,39.41386024,39.41651594,39.50858395,39.51118002,39.41910572,39.41651594,39.32446214,39.32181286,39.13776043,39.13505847,38.95107501,38.94832091,38.85635659,38.85354414,38.11837287,38.12113219,38.21298816,38.21569015,38.12382778,38.12113219,38.02928948,38.03197869,37.84832014,37.85093339,37.75911765,37.76166159,37.39450489,37.39696249,37.48873801,37.49113866,37.39935752,37.39696249,37.30519983,37.30758926,37.21583382,37.22041469,37.40395986,37.40168998,37.76891451,37.76656003,37.85839334,37.85596999,38.03966478,38.04209961,37.95023984,37.95260546,38.13634953,38.14091192,38.23281487,38.2350056,38.32692727,38.32905913,38.14521922,38.1472772,38.14927139,38.2411942,38.24312919,38.15120179,38.14927139,38.05736211,38.05120279,37.40831188,37.41039401,37.31859995,37.31652269,37.04123228,37.03910751,36.9473745,36.9451928,37.03692073,37.03467195,36.85123915,36.8489391,36.5738997,36.5715543,36.20502901,36.20264442,36.01946536,36.01703127,35.83391103,35.83633402,35.56172541,35.56407212,35.56635908,35.47483569,35.47705784,35.38554101,35.38769863,35.39381452,35.21077806,35.21268901,35.12118376,35.12303128,35.03153333,35.02968998,35.12118376,35.11528658,35.02380611,35.0217269,34.93026247,34.932337,34.84087918,34.84289035,34.75143925,34.75338732,34.57050992,34.57239096,34.66382831,34.67237795,34.58092142,34.58245256,34.58392536,34.49247328,34.49388459,34.40244049,34.40379057,34.31235455,34.31364367,34.22221581,34.22344424,34.13202463,34.13319263,33.95038097,33.95148635,33.95533348,33.86393292,33.86474929,33.86621006,33.77481527,33.77545825,33.68407279,33.68465728,33.50191585,33.50244095,33.41108499,33.41155223,33.13754424,33.1379521,33.046636,33.04698676,33.0475197,32.86491448,32.86509586,32.77380816,32.77393332,32.77400265,32.59145673,32.59147017,32.5913303,32.50007267,32.49991969,32.49971125,32.40846435,32.40867234,32.31743487,32.31722734,32.22600016,32.22573797,32.22504829,32.04262729,32.04220165,31.95100657,31.95052711,31.85934264,31.85880959,31.7676358,31.76704939,31.31132737,31.31069332,31.21957799,31.21889149,30.3082433,30.30891533,29.67196158,29.67257185,29.49065638,29.49121241,29.30932662,29.30982886,29.21889678,29.21934661,28.94659436,28.94699034,28.85608751,28.85643173,28.67464743,28.67493951,28.49318401,28.49342436,28.40255723,28.40231738,28.12976126,28.12999963,27.76668957,27.7668763,27.49446569,27.49460189,26.94996038,26.94982585,26.8590754,26.85889246,26.76814876,26.76791762,26.67718072,26.67690156,26.5861715,26.58584453,26.49512134,26.49474675,26.40403047,26.40360846,26.31289913,26.3093624,26.40006455,26.39930526,26.30860465,26.30779882,26.39849779,26.39764215,26.30694491,26.30604291,26.39673832,26.39478615,26.48548364,26.48443316,26.57513462,26.57618723,26.66689698,26.66473899,26.93689245,26.9357337,27.20793727,27.20672233,27.3882189,27.38694971,27.47770529,27.47638414,27.56714368,27.56846755,27.65923653,27.65790994,27.74868297,27.74730398,28.11045353,28.11184393,28.20265166,28.20125838,28.29207034,28.2934665,28.47511773,28.47646919,28.74900918,28.74764927,28.83850793,28.83987068,29.02161625,29.02024781,29.20201815,29.19758761,29.37937027,29.37778412,29.46868381,29.46704268,29.55794677,29.55625043,29.64715886,29.64540708,29.82724045,29.8254292,29.9163541,29.91448684,30.00541589,30.00151657,30.09244552,30.08400152,29.9021873,29.89995474,29.8953331,29.80445243,29.80206838,29.71120062,29.70876963,29.79963228,29.7946039,29.70375183,29.70876963,29.6179148,29.61032614,29.70116501,29.69583557,29.78667098,29.78936733,29.8802162,29.87751416,29.96836518,29.96560518,30.05645825,30.05364006,30.1444951,30.14161848,30.32334027,30.32039876,30.22954009,30.22351179,30.31435769,30.3081059,30.39894653,30.39573483,30.48657664,30.48330523,30.39247035,30.38915309,30.47998094,30.46969076,30.37888471,30.37535639,30.35692355,30.26617179,30.25450397,30.43596567,30.43195423,30.52268806,30.51861517,30.60934805,30.61342961,30.70417891,30.69594529,30.24236267,30.23821038,30.32890291,30.32468912,30.41538024,30.41110472,30.32042264,30.30730708,30.39796137,30.3889352,30.47957777,30.47497578,30.38434295,30.37969794,30.37024962,30.27965391,30.27486077,30.18428235,30.1794468,30.17455873,30.08400791,30.07907774,30.07409517,29.98357221,29.98854429,29.89801774,29.90292718,30.08400791,30.09371103,30.09848397,30.18906537,30.19379587,29.83147287,29.82678208,29.73622872,29.7314958,29.72187401,29.63135763,29.63618437,29.45515159,29.46926133,29.37872549,29.38331579,29.11171967,29.10715803,29.01664875,29.01204548,29.10254516,29.09788105,29.00739107,29.00268554,29.2741455,29.26452107,29.35500067,29.34514996,29.4356155,29.43060239,29.34014732,29.34514996,29.25469092,29.24969872,29.15925653,29.13357808,29.31436146,29.3090498,29.21866606,29.2133141,29.12294772,29.1121123,29.20245606,29.18578382,29.27609887,29.27042695,29.54137286,29.52980238,29.71041505,29.70452757,29.79483075,29.78287488,29.87315909,29.86709035,29.77681887,29.77071081,29.68045817,29.69858813,29.51802492,29.51205858,29.50604052,29.596294,29.57789104,29.48767603,29.48145112,29.5716531,29.55902182,29.64920311,29.63633779,29.72649785,29.71339761,29.80353588,29.7489424,29.65891841,29.64477937,29.73477372,29.72761138,29.637632,29.63043275,29.61587863,29.52594982,29.51121907,29.60111706,29.5936585,29.77343791,29.76589602,29.67601965,29.6684416,29.21921008,29.21165929,29.2040571,29.1142562,29.10661853,29.01683793,29.00916494,28.91940462,28.91169647,28.82195638,28.78273148,28.87239023,28.85631064,28.94594002,28.92138744,29.01096977,28.98590571,29.07543979,29.06696524,28.97744872,28.96038137,29.67633006,29.68503295,30.49092728,30.4997432,30.94769708,30.95655325,31.04617559,31.03730061,31.12690845,31.13580231,31.67365641,31.68261044,31.86197007,31.85297758,31.94264514,31.95165695,32.04134859,32.05032495,32.22976136,32.22074626,32.31045234,32.3013626,32.48075008,32.48987918,32.75905653,32.7498679,32.83958372,32.84879232,32.93853318,32.94770583,33.12724287,33.11803016,33.20778636,33.19849718,33.73702102,33.72755186,33.81730327,33.82679329,33.83622614,34.37509788,34.36553911,34.45534904,34.445711,34.53550498,34.52578736,34.61556514,34.60576764,34.96484508,34.97473041,35.3339835,35.32400911,35.41381382,35.4037576,35.58333822,35.57317697,35.93231197,35.94256557,36.57142919,36.58178659,36.67167076,36.68199074,37.13161898,37.14199651,37.23196417,37.22156262,37.40146806,37.39095591,37.84070323,37.85133841,38.03132964,38.04195142,38.13198128,38.14256455,38.15308438,38.24317018,38.25365114,38.34376817,38.35421003,38.53451341,38.54494058,38.63512711,38.64551471,38.73573277,38.7460806,38.83633024,38.84663807,38.93691936,38.94718698,39.03749998,39.0578894,39.06798668,39.15837988,39.16843616,39.25886108,39.26887614,39.35933286,39.36930647,39.64079616,39.65077601,39.74131272,39.75125056,39.84181947,39.85171505,39.94231622,39.95216932,40.04280281,40.05261318,40.06235688,40.15304646,40.16274702,40.17238071,40.26312616,40.27271629,40.36349412,40.37304045,40.55467012,40.56419572,40.65504775,40.664529,40.67394248,40.76485033,40.78351975,40.79275247,40.8837387,40.9200787,40.92899308,41.0201011,41.03776861,41.04649963,41.13768347,41.16352934,41.17200716,41.263287,41.27171699,41.36302886,41.37141074,41.37972348,41.47108819,41.47935236,41.57074911,41.57896445,41.67039326,41.68665601,41.69468277,41.78618422,41.81767237,41.8253694,42.0086059,42.01627144,42.10792764,42.11554199,42.12308575,42.21479289,42.22228498,42.31402386,42.321464,42.32883312,42.42062254,42.44235891,42.44946186,42.54133791,42.54838754,42.64029502,42.64729102,42.92314875,42.93012656,42.93703213,43.21312125,43.22000765,43.12794621,43.13474219,43.1414655,43.32567263,43.33235778,43.24022979,43.24682476,43.33896985,43.34550884,43.43768539,43.44416808,43.53637609,43.54280216,43.54915471,43.64141079,43.65392785,43.66007573,43.75239555,43.74623157,44.02323351,44.02944618,44.12182697,44.12798129,44.22039371,44.22648932,44.04164787,44.05355122,44.14599558,44.15185074,44.24432625,44.25012185,44.43515105,44.44090199,44.5334558,44.55030051,44.55576402,44.64839338,44.66437199,44.66954626,44.76224857,44.76736048,44.86009321,44.8651424,44.95790554,44.96289166,45.05568518,45.06060785,45.15343174,45.15829061,45.25114484,45.26065693,44.98206947,44.97739005,44.88457472,44.87983134,44.78704585,44.78223888,44.68948324,44.68461304,44.59188728,44.58695421,44.40157917,44.39659684,44.21131456,44.21627058,44.12364104,44.13330239,44.04066385,44.05000106,44.14266427,44.14723286,44.23992482,44.24443041,44.33715109,44.33263355,44.42535912,44.42988866,44.52264317,44.51810158,44.61086099,44.6154147,44.70820331,44.71269307,44.80551083,44.81855811,44.72570549,44.72989064,44.82275447,44.830918,44.73803235,44.7419889,44.83488515,44.83877587,44.56010862,44.56760041,44.47472642,44.47102831,44.37818163,44.38186992,44.1034047,44.10698894,43.7359053,43.74277642,43.6500302,43.65658764,43.56384132,43.56700084,43.65975545,43.67448496,43.58169187,43.58440869,43.49162573,43.50633776,43.41353368,43.41783718,43.3250392,43.32903832,43.23624723,43.23813193,43.05259169,43.05439389,42.96164485,42.96660206,42.87385734,42.88065017,42.78790502,42.78904343,42.69631244,42.70224351,42.7949898,42.79555032,42.79603859,42.88880475,42.88983875,42.89003855,43.16845038,43.16863408,43.16861643,43.26145565,43.26147335,43.35433016,43.35431242,43.4471868,43.44709543,43.53998727,43.53982189,43.63273105,43.63249129,43.72541764,43.7247144,43.72425155,43.81719273,43.81665432,43.90961204,43.90830876,43.90754532,44.00051561,43.99556744,43.99435366,44.08732572,44.08603381,44.084667,44.17765009,44.17902052,44.27202535,44.27065128,44.36367066,44.36221744,44.26920192,44.26767727,44.36068874,44.35908454,44.45210995,44.4504258,44.44866597,44.54170047,44.53794381,44.53595168,44.6289891,44.6269156,44.71996577,44.71781046,44.81087319,44.80863565,45.08791636,45.08558364,45.17870796,45.17629167,45.26942807,45.26692777,45.36007605,45.36258312,45.54894949,45.54642876,45.45324302,45.44798164,45.54115306,45.53839811,45.53556509,45.62874005,45.6228238,45.61974832,45.71291749,45.69276733,45.6891346,45.78225744,45.77853621,45.77473642,45.86785715,45.8639682,45.95709672,45.95311813,46.0462542,46.04218552,46.13532888,46.13116963,46.12693104,46.22006974,46.2157399,46.3088851,46.30446355,46.29996226,46.39310123,46.38383395,46.37908044,46.47219896,46.46735217,46.56047553]},{&#34;lng&#34;:[-72.24639301,-72.23693461,-73.05011022,-73.05858703,-73.1746431,-73.18294124,-73.29886412,-73.41479357,-73.42277508,-73.53857155,-73.65437431,-73.66204167,-73.43072013,-73.42277508,-72.72813446,-72.61238508,-72.60342935,-72.48754824,-72.47841189,-72.36239869,-72.24639301],&#34;lat&#34;:[41.16106568,41.25318204,41.28391684,41.19172381,41.19582739,41.10363891,41.10766337,41.11161893,41.01942534,41.02330231,41.02711052,40.93491262,40.92724655,41.01942534,40.99472022,40.99036224,41.08248334,41.07804565,41.17017022,41.16565245,41.16106568]},{&#34;lng&#34;:[-82.64499987,-82.5442722,-82.54615267,-82.44535031,-82.44716414,-82.34628676,-82.34803334,-82.44898574,-82.44716414,-82.54804119,-82.6489179,-82.64499987],&#34;lat&#34;:[27.65923653,27.66051355,27.75129194,27.75252192,27.84330969,27.84449244,27.93528955,27.93410437,27.84330969,27.84207717,27.84079488,27.65923653]},{&#34;lng&#34;:[-86.21743124,-86.11428192,-86.11930351,-86.222537,-86.21743124],&#34;lat&#34;:[30.39894653,30.40210545,30.49296079,30.48979516,30.39894653]},{&#34;lng&#34;:[-72.60556082,-72.61571729,-72.49435552,-72.48403389,-72.60556082],&#34;lat&#34;:[44.51587808,44.42314152,44.41849997,44.51122418,44.51587808]},{&#34;lng&#34;:[-76.10464108,-76.10855071,-75.99970111,-75.99568243,-76.10464108],&#34;lat&#34;:[35.9370049,35.84542434,35.84324201,35.93481757,35.9370049]},{&#34;lng&#34;:[-72.98202089,-73.00946682,-72.8906276,-72.86271944,-72.98202089],&#34;lat&#34;:[43.2278317,42.95029401,42.94598767,43.22349181,43.2278317]},{&#34;lng&#34;:[-74.5192085,-74.39949471,-74.27978779,-74.27219688,-74.15233913,-74.03248862,-74.00048393,-73.88000249,-73.87174402,-73.75110902,-73.73414801,-73.61319613,-73.59574366,-73.83831188,-73.8128125,-73.69102598,-73.67348386,-73.79560653,-73.78694083,-74.15386838,-74.16202571,-74.28418194,-74.40634614,-74.41412632,-74.53612937,-74.54370382,-74.66554621,-74.78739592,-74.80176724,-74.9232898,-74.93025767,-75.05162107,-75.06512693,-75.18616716,-75.22494596,-75.10487646,-75.11139146,-74.99148715,-74.99812956,-74.8783897,-74.88515817,-74.76558205,-74.77247522,-74.41425541,-74.40689254,-74.52644909,-74.5192085],&#34;lat&#34;:[43.46296725,43.45955975,43.45607871,43.54876871,43.54520487,43.54156733,43.91242061,43.90867027,44.00141612,43.99758125,44.18310386,44.17917367,44.36474394,44.37257067,44.65111811,44.64721139,44.83297616,44.83690384,44.92982312,44.94117792,44.84822821,44.85185007,44.85539545,44.76244435,44.76590394,44.6729614,44.67633565,44.6796338,44.49376646,44.49697134,44.40405577,44.4071766,44.22138195,44.22441112,43.66739967,43.66441799,43.5716512,43.56860353,43.47586181,43.47274851,43.38003192,43.37685335,43.28416193,43.27421197,43.36687748,43.37027612,43.46296725]},{&#34;lng&#34;:[-72.96350658,-72.97278561,-72.85332865,-72.84389336,-72.96350658],&#34;lat&#34;:[43.41293757,43.32037652,43.31602535,43.40857507,43.41293757]},{&#34;lng&#34;:[-72.82488823,-72.83441332,-72.71465194,-72.70496922,-72.82488823],&#34;lat&#34;:[43.59372329,43.50114103,43.49669357,43.58926421,43.59372329]},{&#34;lng&#34;:[-72.80570183,-72.81531783,-72.69524045,-72.68546532,-72.80570183],&#34;lat&#34;:[43.77893698,43.68632192,43.68185117,43.7744545,43.77893698]},{&#34;lng&#34;:[-90.25557691,-90.24717996,-90.35033205,-90.34188794,-90.44495492,-90.43646423,-90.12750292,-90.11929405,-90.01638426,-90.02451106,-89.92151686,-89.81852033,-89.82651669,-89.92959572,-89.9377089,-90.14402539,-90.15233928,-90.25557691],&#34;lat&#34;:[30.41562903,30.32512168,30.3198439,30.22935462,30.22403539,30.13356418,30.1493308,30.05883313,30.06397286,30.15448138,30.15957947,30.16462506,30.25516192,30.25010566,30.34063883,30.33034677,30.42086518,30.41562903]},{&#34;lng&#34;:[-72.98947534,-73.02747358,-72.90689818,-72.89730515,-72.77657739,-72.76677614,-72.88766615,-72.87798087,-72.75692784,-72.74703221,-72.98947534],&#34;lat&#34;:[44.34385774,43.97300522,43.9686482,44.0613246,44.05688135,44.14956274,44.15401773,44.24672766,44.24226086,44.33497579,44.34385774]},{&#34;lng&#34;:[-76.43680201,-76.44073045,-76.3286281,-76.32457621,-76.43680201],&#34;lat&#34;:[38.51503115,38.42307218,38.42099948,38.5129535,38.51503115]},{&#34;lng&#34;:[-87.05414893,-87.04834629,-86.94512605,-86.95084442,-87.05414893],&#34;lat&#34;:[30.55336511,30.46256628,30.46615495,30.55696141,30.55336511]},{&#34;lng&#34;:[-76.04702205,-76.05155801,-75.93794707,-75.93328097,-76.04702205],&#34;lat&#34;:[39.61301565,39.52090341,39.51857171,39.61067828,39.61301565]},{&#34;lng&#34;:[-69.10087564,-69.115705,-68.87402632,-68.85887527,-69.10087564],&#34;lat&#34;:[44.25795083,44.16566761,44.15198151,44.24422859,44.25795083]},{&#34;lng&#34;:[-77.00457665,-77.00785815,-76.89598882,-76.89258484,-77.00457665],&#34;lat&#34;:[38.34050437,38.24855046,38.24680732,38.33875708,38.34050437]},{&#34;lng&#34;:[-82.22748645,-82.22589864,-82.12589649,-82.02589415,-82.02879086,-82.12893608,-82.12741302,-82.22748645],&#34;lat&#34;:[26.84727607,26.75655602,26.75761293,26.75862127,26.94007612,26.93906366,26.84833514,26.84727607]},{&#34;lng&#34;:[-76.42431844,-76.42793208,-75.88258032,-75.77351678,-75.769243,-75.87841649,-75.87423449,-76.09280951,-76.09677057,-76.20595102,-76.42431844],&#34;lat&#34;:[36.12643052,36.03481174,36.02415226,36.02183903,36.11342802,36.11574656,36.20735288,36.21181848,36.1202019,36.1223387,36.12643052]},{&#34;lng&#34;:[-75.81418146,-75.82538014,-75.70528223,-75.71100107,-75.5910679,-75.5969182,-75.35738545,-75.34502143,-75.46510273,-75.45903645,-75.57928348,-75.57334901,-75.81418146],&#34;lat&#34;:[43.86687177,43.68119827,43.67858655,43.58578274,43.58310403,43.49032449,43.48476022,43.67030738,43.6731411,43.76594797,43.76871495,43.86154645,43.86687177]},{&#34;lng&#34;:[-74.49300029,-74.49995995,-74.61753796,-74.63106664,-74.51378254,-74.49995995,-74.38238792,-74.37528034,-74.49300029],&#34;lat&#34;:[42.2559791,42.16350967,42.1667965,41.98188868,41.97861851,42.16350967,42.16015191,42.25261278,42.2559791]},{&#34;lng&#34;:[-76.60437135,-76.60793209,-76.49761504,-76.50127522,-76.39107545,-76.38730024,-76.49761504,-76.49393874,-76.60437135],&#34;lat&#34;:[37.13899921,37.04723454,37.0452958,36.9535484,36.9515523,37.04329505,37.0452958,37.13705595,37.13899921]},{&#34;lng&#34;:[-74.36096543,-74.36813957,-74.25027724,-74.24295386,-74.36096543],&#34;lat&#34;:[42.43758243,42.3450896,42.34164339,42.43412741,42.43758243]},{&#34;lng&#34;:[-76.2998816,-76.18690647,-76.18259857,-76.29570101,-76.28728336,-76.40064522,-76.4168948,-76.3040435,-76.2998816],&#34;lat&#34;:[39.06496836,39.06279529,39.15484158,39.15701989,39.34116557,39.34328864,38.97503363,38.97293095,39.06496836]},{&#34;lng&#34;:[-93.93637324,-93.92516345,-93.82235207,-93.83348176,-93.93637324],&#34;lat&#34;:[29.92191835,29.83189855,29.8389717,29.92900636,29.92191835]},{&#34;lng&#34;:[-67.72275327,-67.73999248,-67.61766789,-67.60026166,-67.72275327],&#34;lat&#34;:[45.10807234,45.015835,45.00807961,45.10029614,45.10807234]},{&#34;lng&#34;:[-76.42889241,-76.43285602,-76.32050624,-76.31641808,-76.20394659,-76.19971508,-76.31231163,-76.31641808,-76.42889241],&#34;lat&#34;:[38.69899042,38.60700387,38.60492125,38.69690282,38.69475051,38.78674078,38.78889824,38.69690282,38.69899042]},{&#34;lng&#34;:[-72.06313413,-72.07380454,-71.95346635,-71.94263589,-72.06313413],&#34;lat&#34;:[43.93606264,43.84348843,43.83854846,43.93110967,43.93606264]}],[{&#34;lng&#34;:[-82.84645419,-82.7457272,-82.74370669,-82.84435965,-82.84645419],&#34;lat&#34;:[27.65653378,27.65790994,27.56714368,27.56577035,27.65653378]}],[{&#34;lng&#34;:[-94.82662378,-94.72399798,-94.71229841,-94.81484566,-94.82662378],&#34;lat&#34;:[29.58614811,29.5936585,29.50377608,29.49628136,29.58614811]}],[{&#34;lng&#34;:[-94.80311705,-94.70064804,-94.68904666,-94.79143775,-94.80311705],&#34;lat&#34;:[29.40641936,29.41389846,29.3240256,29.31656208,29.40641936]}],[{&#34;lng&#34;:[-94.71229841,-94.60974824,-94.59817617,-94.70064804,-94.71229841],&#34;lat&#34;:[29.50377608,29.51121907,29.42132593,29.41389846,29.50377608]}]]],null,null,{&#34;lineCap&#34;:null,&#34;lineJoin&#34;:null,&#34;clickable&#34;:true,&#34;pointerEvents&#34;:null,&#34;className&#34;:&#34;&#34;,&#34;stroke&#34;:true,&#34;color&#34;:&#34;#03F&#34;,&#34;weight&#34;:5,&#34;opacity&#34;:0.5,&#34;fill&#34;:true,&#34;fillColor&#34;:&#34;#03F&#34;,&#34;fillOpacity&#34;:0.2,&#34;dashArray&#34;:null,&#34;smoothFactor&#34;:1,&#34;noClip&#34;:false},null,null,null,null,null]}],&#34;limits&#34;:{&#34;lat&#34;:[21.65128872,46.56047553],&#34;lng&#34;:[-105.55599217,-67.42578039]}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;traits&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Traits&lt;/h2&gt;
&lt;p&gt;In terms of metadata, BIEN provides trait information. In the example below, these were measured multiple times and averaged to be reported in a table.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# read in trait data
wsumac_traits &amp;lt;- BIEN_trait_species(&amp;quot;Rhus copallinum&amp;quot;)

# aggregate and average numeric traits
summarised &amp;lt;-
  wsumac_traits %&amp;gt;%
  group_by(trait_name, unit) %&amp;gt;%
  summarise(average = mean(as.numeric(trait_value), na.rm = TRUE)) %&amp;gt;%
  filter(!is.nan(average)) %&amp;gt;%
  mutate(average = paste(round(average, 2), unit)) %&amp;gt;%
  select(-unit)

kable(summarised)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;states&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;States&lt;/h2&gt;
&lt;p&gt;BIEN has species lists on state level as well. After retrieving lists of species for each of the states in the USA … we can count the number of species, and map the distribution of counts by State. This might provide a visual idea of plant diversity across the country.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# by states
# query BIEN for lists of species
state_species &amp;lt;- BIEN_list_state(country=&amp;quot;United States&amp;quot;, state=state.name)

# count up number of species by state
nspecies &amp;lt;- 
  state_species %&amp;gt;%
  group_by(state_province) %&amp;gt;%
  tally()

# get data for map
json_api &amp;lt;- &amp;quot;https://raw.githubusercontent.com/PublicaMundi/MappingAPI/master/data/geojson/us-states.json&amp;quot;
states &amp;lt;- geojson_read(json_api, what = &amp;quot;sp&amp;quot;)

# join in species count
states@data &amp;lt;-
  states@data %&amp;gt;%
  inner_join(nspecies, by = c(&amp;quot;name&amp;quot; = &amp;quot;state_province&amp;quot;)) %&amp;gt;%
  rename(count = n)

pal &amp;lt;- colorNumeric(&amp;quot;plasma&amp;quot;, domain = states@data$count)

leaflet(states) %&amp;gt;%
  addProviderTiles(&amp;quot;OpenStreetMap.BlackAndWhite&amp;quot;) %&amp;gt;%
  addPolygons(color = ~pal(count),
              stroke = FALSE,
              label = as.character(states@data$count)) %&amp;gt;%
  addLegend(pal = pal, 
            values = ~count,
            position = &amp;quot;topright&amp;quot;,
            labFormat = labelFormat(digits = 0)) %&amp;gt;%
  setView(lat = 37, lng = -90, zoom = 3)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>LOLAweb</title>
      <link>/project/lolaweb/</link>
      <pubDate>Mon, 02 Apr 2018 00:00:00 +0000</pubDate>
      
      <guid>/project/lolaweb/</guid>
      <description>&lt;p&gt;&lt;code&gt;LOLAweb&lt;/code&gt; is an interactive application that implements functions from the LOLA package in a web interface via the &lt;a href=&#34;https://shiny.rstudio.com/&#34; target=&#34;_blank&#34;&gt;Shiny&lt;/a&gt; framework.&lt;/p&gt;

&lt;p&gt;The app is hosted and available for use at:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://lolaweb.databio.org&#34; target=&#34;_blank&#34;&gt;http://lolaweb.databio.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To run the application locally, you&amp;rsquo;ll need to first clone this repository:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone https://github.com/databio/LOLAweb.git
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The app requires R to be installed, as well as several packages. From within R run the following to install the dependencies:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;install.packages(c(&amp;quot;ggplot2&amp;quot;, &amp;quot;shiny&amp;quot;, &amp;quot;DT&amp;quot;, &amp;quot;shinyWidgets&amp;quot;, &amp;quot;shinyjs&amp;quot;, &amp;quot;sodium&amp;quot;, &amp;quot;devtools&amp;quot;, &amp;quot;shinyBS&amp;quot;))
devtools::install_github(&amp;quot;databio/simpleCache&amp;quot;)
devtools::install_github(&amp;quot;databio/GenomicDistributions&amp;quot;)

source(&amp;quot;https://bioconductor.org/biocLite.R&amp;quot;)
biocLite(c(&amp;quot;LOLA&amp;quot;, &amp;quot;GenomicRanges&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You&amp;rsquo;ll also need underlying data that is not available in this repository in order to establish the universes, example user sets and reference genome directories. Run the following from within the root of this folder to download the data and create the &lt;code&gt;universes/&lt;/code&gt;, &lt;code&gt;userSets/&lt;/code&gt;, &lt;code&gt;reference/&lt;/code&gt; and &lt;code&gt;cache/&lt;/code&gt; directories respectively:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# create universes dir
mkdir universes
mkdir userSets

# example universe and user set
curl http://cloud.databio.org.s3.amazonaws.com/vignettes/lola_vignette_data_150505.tgz | tar xvz

mv lola_vignette_data/activeDHS_universe.bed universes/.
mv lola_vignette_data/setB_100.bed userSets/.

rm -rf lola_vignette_data
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;# create reference dir
mkdir reference

# core
curl http://cloud.databio.org.s3.amazonaws.com/regiondb/LOLACoreCaches_170206.tgz | tar xvz
mv scratch/ns5bc/resources/regions/LOLACore reference/Core
rm -rf scratch

# extended
curl http://cloud.databio.org.s3.amazonaws.com/regiondb/LOLAExtCaches_170206.tgz | tar xvz
mv scratch/ns5bc/resources/regions/LOLAExt reference/Extended
rm -rf scratch
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;# create cache dir
mkdir cache
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;With all of the above installed you can now launch the app with &lt;code&gt;shiny::runApp()&lt;/code&gt; from within R at the root of this directory.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R Epidemics Consortium</title>
      <link>/project/recon/</link>
      <pubDate>Mon, 02 Apr 2018 00:00:00 +0000</pubDate>
      
      <guid>/project/recon/</guid>
      <description></description>
    </item>
    
    <item>
      <title>SOMRC</title>
      <link>/project/somrc/</link>
      <pubDate>Mon, 02 Apr 2018 00:00:00 +0000</pubDate>
      
      <guid>/project/somrc/</guid>
      <description></description>
    </item>
    
  </channel>
</rss>
