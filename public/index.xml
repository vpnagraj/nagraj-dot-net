<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>VP Nagraj on VP Nagraj</title>
    <link>/</link>
    <description>Recent content in VP Nagraj on VP Nagraj</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2018</copyright>
    <lastBuildDate>Sat, 01 Aug 2020 00:00:00 +0000</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Temperature instability in infants with trisomy 21 in the neonatal intensive care unit</title>
      <link>/publication/temp-instability/</link>
      <pubDate>Sat, 01 Aug 2020 00:00:00 +0000</pubDate>
      
      <guid>/publication/temp-instability/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Central Apnea of Prematurity: Does Sex Matter?</title>
      <link>/publication/apnea-by-sex/</link>
      <pubDate>Thu, 18 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>/publication/apnea-by-sex/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Web Application for Designing and Conducting Phase I Drug Combination Studies Using the Partial Order Continual Reassessment Method</title>
      <link>/publication/pocrm-sct/</link>
      <pubDate>Sun, 17 May 2020 00:00:00 +0000</pubDate>
      
      <guid>/publication/pocrm-sct/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Include Images in R Markdown PowerPoint</title>
      <link>/notes/plots-rmd-ppt/</link>
      <pubDate>Sun, 03 May 2020 12:19:11 -0400</pubDate>
      
      <guid>/notes/plots-rmd-ppt/</guid>
      <description>


&lt;p&gt;I learned about the R Markdown &lt;code&gt;powerpoint_presentation&lt;/code&gt; output format at &lt;a href=&#34;http://www.nagraj.net/notes/rstudioconf2019/#rmdpp&#34;&gt;rstudio::conf 2019&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Recently I used the feature to organize a set of previously generated plots (saved as &lt;code&gt;.png&lt;/code&gt; files) into a single PowerPoint, which was the output format of choice for one collaborator.&lt;/p&gt;
&lt;p&gt;Including a single image file in an R Markdown &lt;code&gt;powerpoint_presentation&lt;/code&gt; is the same as any other Markdown document:&lt;/p&gt;
&lt;pre class=&#34;md&#34;&gt;&lt;code&gt;![alt_text](path_to_image.extension)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, including many image files (in my case dozens) would involve tediously repeating that pattern. This post details how to create a loop that generates the code to render every image in a given directory as its own slide in a PowerPoint presentation.&lt;/p&gt;
&lt;div id=&#34;example&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Example&lt;/h2&gt;
&lt;p&gt;First we will create example images. This demo uses the &lt;code&gt;msleep&lt;/code&gt; dataset from &lt;strong&gt;ggplot2&lt;/strong&gt;. Here we are generating the images in a separate R script and then writing them to &lt;code&gt;.png&lt;/code&gt; files to be rendered together in a single output document via R Markdown.&lt;/p&gt;
&lt;p&gt;Note that this is a contrived example. If we were truly starting from scratch, we could use the code below to render the plots directly in R Markdown without saving them as &lt;code&gt;.png&lt;/code&gt; files at all. However, for my original use-case I already had the image files generated.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)

## create a list of msleep tibbles split by vore
by_vore &amp;lt;- group_split(msleep, vore)

## make a dir to write the plots
vp_dir &amp;lt;- &amp;quot;vore-plots&amp;quot;
if(!dir.exists(vp_dir)) dir.create(vp_dir)

## loop over each vore and plot the sleep total by bodywt
for(vore in by_vore) {
  
  vore_name &amp;lt;- unique(vore$vore)
  
  ## create the ggplot2 object
  p &amp;lt;-
    ggplot(vore, aes(sleep_total, bodywt)) +
    geom_point() +
    scale_y_log10() +
    ggtitle(label = sprintf(&amp;quot;Sleep by body weight (%s-vore)&amp;quot;, vore_name)) +
    theme_bw()
  
  print(p)
  
  ## save the plot to a disk
  ggsave(p, filename = sprintf(&amp;quot;%s/%s.png&amp;quot;, vp_dir, vore_name))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now that we have the plots saved to disk, we can create the R Markdown document. This file (here named &lt;code&gt;vore_plots.Rmd&lt;/code&gt;) will use the &lt;code&gt;output: powerpoint_presentation&lt;/code&gt; option in the YAML frontmatter. In the body of the &lt;code&gt;.Rmd&lt;/code&gt; we need a code chunk to generate the raw Markdown text for adding each image to its own slide. This chunk needs to have the &lt;code&gt;results=&#39;asis&#39;&lt;/code&gt; option set for the text issued from &lt;code&gt;cat()&lt;/code&gt; to render correctly:&lt;/p&gt;
&lt;pre class=&#34;text&#34;&gt;&lt;code&gt;    ---
    title: &amp;#39;vore plots&amp;#39;
    output: powerpoint_presentation
    ---
    
    ```{r results=&amp;#39;asis&amp;#39;}
    vps &amp;lt;- list.files(&amp;#39;vore-plots&amp;#39;, full.names = TRUE)
    
    for(vp in vps) {
      cat(&amp;#39;##&amp;#39;)
      cat(&amp;#39;\n&amp;#39;)
      cat(paste0(&amp;#39;![](&amp;#39;, vp, &amp;#39;)&amp;#39;))
      cat(&amp;#39;\n&amp;#39;)
      cat(&amp;#39;\n&amp;#39;)
    }
    ```&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To generate to the &lt;code&gt;.pptx&lt;/code&gt; output use the &lt;em&gt;Knit&lt;/em&gt; button in the RStudio IDE or call &lt;code&gt;rmarkdown::render()&lt;/code&gt; at the console:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rmarkown::render(&amp;quot;vore_ppt.Rmd&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>visNetwork</title>
      <link>/notes/visnetwork/</link>
      <pubDate>Sat, 28 Mar 2020 17:14:59 +0000</pubDate>
      
      <guid>/notes/visnetwork/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/vis/vis.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;/rmarkdown-libs/vis/vis.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/visNetwork-binding/visNetwork.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/font-awesome/css/font-awesome.min.css&#34; rel=&#34;stylesheet&#34; /&gt;


&lt;p&gt;&lt;a href=&#34;https://datastorm-open.github.io/visNetwork/&#34;&gt;&lt;code&gt;visNetwork&lt;/code&gt;&lt;/a&gt; provides a collection of functions that deliver &lt;a href=&#34;https://visjs.org/&#34;&gt;&lt;code&gt;vis.js&lt;/code&gt;&lt;/a&gt; functionality in R. In particular, the package can be used to create interactive network visualizations rendered in HTML.&lt;/p&gt;
&lt;p&gt;The code that follows will walk through an example of how to create and customize a plot using &lt;code&gt;visNetwork&lt;/code&gt;.&lt;/p&gt;
&lt;div id=&#34;data-preparation&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Data Preparation&lt;/h2&gt;
&lt;p&gt;As with other network visualization frameworks, the input must include data organized as a collection of &lt;em&gt;nodes&lt;/em&gt; and &lt;em&gt;edges&lt;/em&gt; (connections between the nodes). For &lt;code&gt;visNetwork&lt;/code&gt;, this data should be tabular (i.e. a &lt;code&gt;data.frame&lt;/code&gt; in R).&lt;/p&gt;
&lt;p&gt;The minimal example from the &lt;code&gt;visNetwork()&lt;/code&gt; help file:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nodes &amp;lt;- data.frame(id = 1:3)
edges &amp;lt;- data.frame(from = c(1,2), to = c(1,3))

nodes&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   id
## 1  1
## 2  2
## 3  3&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;edges&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##   from to
## 1    1  1
## 2    2  3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note the column names. Those names are strictly required when defining nodes/edges. The edge identifiers (“from” and “to” columns) must contain values that also appear in the identifiers in nodes (“id” column).&lt;/p&gt;
&lt;p&gt;Demonstrating the features of the package is difficult with such a minimal dataset. The code below will prepare some simulated data to be visualized. The example will involve nodes with alphanumeric identifiers (e.g. “U89”), edges that represent connection between some (but not all) of the nodes, as well as a categorization of the degree of that connection (here stored in the “feeling” column). The code is further documented inline:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## load packages
library(tidyverse)
library(visNetwork)

## make sure to set seed for reproducibility
set.seed(20200329)

## write a function to create simulated identifiers
gen_id &amp;lt;- function() {
  
  ## create a random alphanumeric combination
  paste0(sample(LETTERS, size = 1),
         sample(10:99, size = 1),
         collapse = &amp;quot;&amp;quot;) 
}

## create a vector of identifiers using the function defined above
samples &amp;lt;- sapply(1:20, function(x) gen_id())

## double check that these are all unique
samples &amp;lt;- unique(samples)

## create a tibble with color palette corresponding to a category
pal &amp;lt;- 
  tibble(feeling = c(&amp;quot;love&amp;quot;,&amp;quot;hate&amp;quot;,&amp;quot;meh&amp;quot;),
         color = c(&amp;quot;lightblue&amp;quot;,&amp;quot;firebrick&amp;quot;,&amp;quot;goldenrod&amp;quot;))

## create tibble for the nodes
## id column will have sample ids
nodes &amp;lt;- tibble(id = samples)

## create tibble for edges
edges &amp;lt;- 
  ## define all possible combinations of sample ids
  combn(samples, 2) %&amp;gt;%
  ## transpose
  t(.) %&amp;gt;%
  ## coerce the matrix to a tibble
  as_tibble(.) %&amp;gt;%
  ## set the column names
  set_names(c(&amp;quot;from&amp;quot;,&amp;quot;to&amp;quot;)) %&amp;gt;%
  ## create new column that qualifies the nature of the connection
  ## here we&amp;#39;re calling this &amp;quot;feeling&amp;quot;
  ## if it is NA the connection does not exist
  mutate(feeling = sample(c(&amp;quot;love&amp;quot;,&amp;quot;hate&amp;quot;,&amp;quot;meh&amp;quot;, NA), 
                          size = nrow(.),
                          prob = c(0.2,0.2,0.2,0.5),
                          replace = TRUE
                          )) %&amp;gt;%
  ## if the feeling is NA then the connection does not exist ... filter out
  filter(!is.na(feeling)) %&amp;gt;%
  ## make sure the same ID doesn&amp;#39;t appear in from AND to
  filter(from != to) %&amp;gt;%
  ## join in the palette tibble defined above
  left_join(pal)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## take a look at the simulated nodes
head(nodes)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 1
##   id   
##   &amp;lt;chr&amp;gt;
## 1 K93  
## 2 P28  
## 3 P55  
## 4 G18  
## 5 V50  
## 6 L49&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## take a look at the simulated edges
head(edges)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 4
##   from  to    feeling color    
##   &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;   &amp;lt;chr&amp;gt;    
## 1 K93   P28   hate    firebrick
## 2 K93   V50   love    lightblue
## 3 K93   H38   meh     goldenrod
## 4 K93   J69   meh     goldenrod
## 5 K93   D77   love    lightblue
## 6 K93   B67   love    lightblue&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;creating-the-visnetwork-plot&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Creating the visNetwork plot&lt;/h2&gt;
&lt;p&gt;With data prepared accordingly, creating the default plot is as simple as calling the &lt;code&gt;visNetwork()&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;visNetwork(nodes,edges)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;visNetwork html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;nodes&#34;:{&#34;id&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;]},&#34;edges&#34;:{&#34;from&#34;:[&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;T59&#34;,&#34;R46&#34;],&#34;to&#34;:[&#34;P28&#34;,&#34;V50&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;K88&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;L49&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T59&#34;,&#34;T44&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;M38&#34;],&#34;feeling&#34;:[&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;],&#34;color&#34;:[&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;]},&#34;nodesToDataframe&#34;:true,&#34;edgesToDataframe&#34;:true,&#34;options&#34;:{&#34;width&#34;:&#34;100%&#34;,&#34;height&#34;:&#34;100%&#34;,&#34;nodes&#34;:{&#34;shape&#34;:&#34;dot&#34;},&#34;manipulation&#34;:{&#34;enabled&#34;:false}},&#34;groups&#34;:null,&#34;width&#34;:null,&#34;height&#34;:null,&#34;idselection&#34;:{&#34;enabled&#34;:false},&#34;byselection&#34;:{&#34;enabled&#34;:false},&#34;main&#34;:null,&#34;submain&#34;:null,&#34;footer&#34;:null,&#34;background&#34;:&#34;rgba(0, 0, 0, 0)&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;labeling-nodes-and-edges&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Labeling nodes and edges&lt;/h2&gt;
&lt;p&gt;The nodes and edges displayed above can be labelled … so long as the corresponding data frames include “label” columns:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## for this example use the id as label for nodes
nodes &amp;lt;-
  nodes %&amp;gt;%
  mutate(label = samples)

## create a new column that qualifies one of the &amp;quot;feeling&amp;quot; levels
edges &amp;lt;-
  edges %&amp;gt;%
  ## add another column to further qualify one of the &amp;quot;feeling&amp;quot; levels
  mutate(label = ifelse(feeling == &amp;quot;meh&amp;quot;, 
                          sample(c(&amp;quot;+&amp;quot;,&amp;quot;-&amp;quot;)),
                          NA))

visNetwork(nodes,edges)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-2&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;visNetwork html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-2&#34;&gt;{&#34;x&#34;:{&#34;nodes&#34;:{&#34;id&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;label&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;]},&#34;edges&#34;:{&#34;from&#34;:[&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;T59&#34;,&#34;R46&#34;],&#34;to&#34;:[&#34;P28&#34;,&#34;V50&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;K88&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;L49&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T59&#34;,&#34;T44&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;M38&#34;],&#34;feeling&#34;:[&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;],&#34;color&#34;:[&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;],&#34;label&#34;:[null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,&#34;+&#34;,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,&#34;-&#34;,null,&#34;-&#34;,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null]},&#34;nodesToDataframe&#34;:true,&#34;edgesToDataframe&#34;:true,&#34;options&#34;:{&#34;width&#34;:&#34;100%&#34;,&#34;height&#34;:&#34;100%&#34;,&#34;nodes&#34;:{&#34;shape&#34;:&#34;dot&#34;},&#34;manipulation&#34;:{&#34;enabled&#34;:false}},&#34;groups&#34;:null,&#34;width&#34;:null,&#34;height&#34;:null,&#34;idselection&#34;:{&#34;enabled&#34;:false},&#34;byselection&#34;:{&#34;enabled&#34;:false},&#34;main&#34;:null,&#34;submain&#34;:null,&#34;footer&#34;:null,&#34;background&#34;:&#34;rgba(0, 0, 0, 0)&#34;},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;additional-options-and-layout&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Additional options and layout&lt;/h2&gt;
&lt;p&gt;The initial plot can be further customized by subsequent functions. Using the &lt;code&gt;%&amp;gt;%&lt;/code&gt; operator can help with the legibility of the code.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;visOptions()&lt;/code&gt; has arguments for the height and width of plot, as well as miscellaneous features to configure behavior when clicking and interacting:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;visNetwork(nodes, edges) %&amp;gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-3&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;visNetwork html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-3&#34;&gt;{&#34;x&#34;:{&#34;nodes&#34;:{&#34;id&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;label&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;]},&#34;edges&#34;:{&#34;from&#34;:[&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;T59&#34;,&#34;R46&#34;],&#34;to&#34;:[&#34;P28&#34;,&#34;V50&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;K88&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;L49&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T59&#34;,&#34;T44&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;M38&#34;],&#34;feeling&#34;:[&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;],&#34;color&#34;:[&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;],&#34;label&#34;:[null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,&#34;+&#34;,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,&#34;-&#34;,null,&#34;-&#34;,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null]},&#34;nodesToDataframe&#34;:true,&#34;edgesToDataframe&#34;:true,&#34;options&#34;:{&#34;width&#34;:&#34;100%&#34;,&#34;height&#34;:&#34;100%&#34;,&#34;nodes&#34;:{&#34;shape&#34;:&#34;dot&#34;},&#34;manipulation&#34;:{&#34;enabled&#34;:false}},&#34;groups&#34;:null,&#34;width&#34;:null,&#34;height&#34;:null,&#34;idselection&#34;:{&#34;enabled&#34;:true,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;useLabels&#34;:true,&#34;main&#34;:&#34;Select by id&#34;},&#34;byselection&#34;:{&#34;enabled&#34;:false,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;multiple&#34;:false,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;highlight&#34;:false},&#34;main&#34;:null,&#34;submain&#34;:null,&#34;footer&#34;:null,&#34;background&#34;:&#34;rgba(0, 0, 0, 0)&#34;,&#34;highlight&#34;:{&#34;enabled&#34;:true,&#34;hoverNearest&#34;:false,&#34;degree&#34;:1,&#34;algorithm&#34;:&#34;all&#34;,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;labelOnly&#34;:true},&#34;collapse&#34;:{&#34;enabled&#34;:false,&#34;fit&#34;:false,&#34;resetHighlight&#34;:true,&#34;clusterOptions&#34;:null,&#34;keepCoord&#34;:true,&#34;labelSuffix&#34;:&#34;(cluster)&#34;}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;The default layout settings will randomly configure nodes each time the plot is generated. The randomSeed argument to &lt;code&gt;visLayout()&lt;/code&gt; allows the coordinates to be fixed:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;visNetwork(nodes, edges) %&amp;gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %&amp;gt;%
  visLayout(randomSeed = 1999)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-4&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;visNetwork html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-4&#34;&gt;{&#34;x&#34;:{&#34;nodes&#34;:{&#34;id&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;label&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;]},&#34;edges&#34;:{&#34;from&#34;:[&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;T59&#34;,&#34;R46&#34;],&#34;to&#34;:[&#34;P28&#34;,&#34;V50&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;K88&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;L49&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T59&#34;,&#34;T44&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;M38&#34;],&#34;feeling&#34;:[&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;],&#34;color&#34;:[&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;],&#34;label&#34;:[null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,&#34;+&#34;,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,&#34;-&#34;,null,&#34;-&#34;,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null]},&#34;nodesToDataframe&#34;:true,&#34;edgesToDataframe&#34;:true,&#34;options&#34;:{&#34;width&#34;:&#34;100%&#34;,&#34;height&#34;:&#34;100%&#34;,&#34;nodes&#34;:{&#34;shape&#34;:&#34;dot&#34;},&#34;manipulation&#34;:{&#34;enabled&#34;:false},&#34;layout&#34;:{&#34;randomSeed&#34;:1999}},&#34;groups&#34;:null,&#34;width&#34;:null,&#34;height&#34;:null,&#34;idselection&#34;:{&#34;enabled&#34;:true,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;useLabels&#34;:true,&#34;main&#34;:&#34;Select by id&#34;},&#34;byselection&#34;:{&#34;enabled&#34;:false,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;multiple&#34;:false,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;highlight&#34;:false},&#34;main&#34;:null,&#34;submain&#34;:null,&#34;footer&#34;:null,&#34;background&#34;:&#34;rgba(0, 0, 0, 0)&#34;,&#34;highlight&#34;:{&#34;enabled&#34;:true,&#34;hoverNearest&#34;:false,&#34;degree&#34;:1,&#34;algorithm&#34;:&#34;all&#34;,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;labelOnly&#34;:true},&#34;collapse&#34;:{&#34;enabled&#34;:false,&#34;fit&#34;:false,&#34;resetHighlight&#34;:true,&#34;clusterOptions&#34;:null,&#34;keepCoord&#34;:true,&#34;labelSuffix&#34;:&#34;(cluster)&#34;}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;The layout of the nodes can be customized beyond the default. For example, the network can be arranged in a hierarchy (like a tree) or in a circular format (the default to &lt;code&gt;visIgraphLayout()&lt;/code&gt; is “layout_nicely”):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;visNetwork(nodes, edges) %&amp;gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %&amp;gt;%
  visLayout(randomSeed = 1999) %&amp;gt;%
  visIgraphLayout()&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-5&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;visNetwork html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-5&#34;&gt;{&#34;x&#34;:{&#34;nodes&#34;:{&#34;id&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;label&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;x&#34;:[0.537652897375921,1,-0.0446350157675045,-0.973991608626982,0.455560426911749,-0.602821933006983,-0.27668761999877,-1,0.424275474633846,-0.219857811695745,-0.646616093119563,0.30229766822083,-0.481620133035657,-0.0323484888203239,-0.130078115956987,-0.640551175185674,0.110873568412751,-0.522198045574655,0.112424807414394,-0.241271902954724],&#34;y&#34;:[0.285621772820749,0.0517872222986833,1,0.491924522488433,0.832588820425079,0.841764136028475,0.176327410483933,0.139390243818643,-0.510608758749992,0.630497061336817,-0.570178523023008,0.0788100500908047,0.414498302376535,0.22101149829624,-1,0.0236511626957843,0.548373568736214,-0.337288356782887,-0.229598086908381,-0.187767961532758]},&#34;edges&#34;:{&#34;from&#34;:[&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;T59&#34;,&#34;R46&#34;],&#34;to&#34;:[&#34;P28&#34;,&#34;V50&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;K88&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;L49&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T59&#34;,&#34;T44&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;M38&#34;],&#34;feeling&#34;:[&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;],&#34;color&#34;:[&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;],&#34;label&#34;:[null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,&#34;+&#34;,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,&#34;-&#34;,null,&#34;-&#34;,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null]},&#34;nodesToDataframe&#34;:true,&#34;edgesToDataframe&#34;:true,&#34;options&#34;:{&#34;width&#34;:&#34;100%&#34;,&#34;height&#34;:&#34;100%&#34;,&#34;nodes&#34;:{&#34;shape&#34;:&#34;dot&#34;,&#34;physics&#34;:false},&#34;manipulation&#34;:{&#34;enabled&#34;:false},&#34;layout&#34;:{&#34;randomSeed&#34;:1999},&#34;edges&#34;:{&#34;smooth&#34;:false},&#34;physics&#34;:{&#34;stabilization&#34;:false}},&#34;groups&#34;:null,&#34;width&#34;:null,&#34;height&#34;:null,&#34;idselection&#34;:{&#34;enabled&#34;:true,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;useLabels&#34;:true,&#34;main&#34;:&#34;Select by id&#34;},&#34;byselection&#34;:{&#34;enabled&#34;:false,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;multiple&#34;:false,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;highlight&#34;:false},&#34;main&#34;:null,&#34;submain&#34;:null,&#34;footer&#34;:null,&#34;background&#34;:&#34;rgba(0, 0, 0, 0)&#34;,&#34;highlight&#34;:{&#34;enabled&#34;:true,&#34;hoverNearest&#34;:false,&#34;degree&#34;:1,&#34;algorithm&#34;:&#34;all&#34;,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;labelOnly&#34;:true},&#34;collapse&#34;:{&#34;enabled&#34;:false,&#34;fit&#34;:false,&#34;resetHighlight&#34;:true,&#34;clusterOptions&#34;:null,&#34;keepCoord&#34;:true,&#34;labelSuffix&#34;:&#34;(cluster)&#34;},&#34;igraphlayout&#34;:{&#34;type&#34;:&#34;square&#34;}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;including-a-legend-for-edges&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Including a legend for edges&lt;/h2&gt;
&lt;p&gt;Either nodes or edges can be annotated and represented in a legend with &lt;code&gt;visLegend()&lt;/code&gt;. In this example, the edges will be annotated with the “feeling” column:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;edges_legend &amp;lt;- 
  pal %&amp;gt;%
  rename(label = feeling)

visNetwork(nodes, edges) %&amp;gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %&amp;gt;%
  visLayout(randomSeed = 1999) %&amp;gt;%
  visIgraphLayout() %&amp;gt;%
  visLegend(addEdges = edges_legend)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-6&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;visNetwork html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-6&#34;&gt;{&#34;x&#34;:{&#34;nodes&#34;:{&#34;id&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;label&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;x&#34;:[0.669645518714625,1,0.292756519309997,-0.747917640856158,0.731651085104816,-0.266696392977675,-0.0926423242579157,-0.954656293263823,0.157189380383745,0.0351656499641204,-1,0.299373180252674,-0.159793781332301,0.0540067304147993,-0.828755556039459,-0.728839274338446,0.350212508430782,-0.627192772251848,-0.404849626225114,-0.431715805483961],&#34;y&#34;:[0.0934438570886538,0.597196730474257,-1,-0.882002350871711,-0.706562975485732,-0.911584128527145,-0.263990997241822,-0.301002618946799,1,-0.681785564594606,0.153466519007039,0.191388584833418,0.318645726767204,0.0130108908883741,0.855297262010356,-0.494239947694026,-0.411095660213109,0.381656070850982,-0.406621139367604,0.0238662547239494]},&#34;edges&#34;:{&#34;from&#34;:[&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;T59&#34;,&#34;R46&#34;],&#34;to&#34;:[&#34;P28&#34;,&#34;V50&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;K88&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;L49&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T59&#34;,&#34;T44&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;M38&#34;],&#34;feeling&#34;:[&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;],&#34;color&#34;:[&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;],&#34;label&#34;:[null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,&#34;+&#34;,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,&#34;-&#34;,null,&#34;-&#34;,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null]},&#34;nodesToDataframe&#34;:true,&#34;edgesToDataframe&#34;:true,&#34;options&#34;:{&#34;width&#34;:&#34;100%&#34;,&#34;height&#34;:&#34;100%&#34;,&#34;nodes&#34;:{&#34;shape&#34;:&#34;dot&#34;,&#34;physics&#34;:false},&#34;manipulation&#34;:{&#34;enabled&#34;:false},&#34;layout&#34;:{&#34;randomSeed&#34;:1999},&#34;edges&#34;:{&#34;smooth&#34;:false},&#34;physics&#34;:{&#34;stabilization&#34;:false}},&#34;groups&#34;:null,&#34;width&#34;:null,&#34;height&#34;:null,&#34;idselection&#34;:{&#34;enabled&#34;:true,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;useLabels&#34;:true,&#34;main&#34;:&#34;Select by id&#34;},&#34;byselection&#34;:{&#34;enabled&#34;:false,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;multiple&#34;:false,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;highlight&#34;:false},&#34;main&#34;:null,&#34;submain&#34;:null,&#34;footer&#34;:null,&#34;background&#34;:&#34;rgba(0, 0, 0, 0)&#34;,&#34;highlight&#34;:{&#34;enabled&#34;:true,&#34;hoverNearest&#34;:false,&#34;degree&#34;:1,&#34;algorithm&#34;:&#34;all&#34;,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;labelOnly&#34;:true},&#34;collapse&#34;:{&#34;enabled&#34;:false,&#34;fit&#34;:false,&#34;resetHighlight&#34;:true,&#34;clusterOptions&#34;:null,&#34;keepCoord&#34;:true,&#34;labelSuffix&#34;:&#34;(cluster)&#34;},&#34;igraphlayout&#34;:{&#34;type&#34;:&#34;square&#34;},&#34;legend&#34;:{&#34;width&#34;:0.2,&#34;useGroups&#34;:true,&#34;position&#34;:&#34;left&#34;,&#34;ncol&#34;:1,&#34;stepX&#34;:100,&#34;stepY&#34;:100,&#34;zoom&#34;:true,&#34;edges&#34;:{&#34;label&#34;:[&#34;love&#34;,&#34;hate&#34;,&#34;meh&#34;],&#34;color&#34;:[&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;]},&#34;edgesToDataframe&#34;:true}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;While the legend in the plot corresponds to the colors of the edges, there are arrows even though the network is &lt;em&gt;not&lt;/em&gt; directed. To fix this the &lt;code&gt;data.frame&lt;/code&gt; for the edges legend needs to include a list column with instructions to disable the arrows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;edges_legend &amp;lt;- 
  pal %&amp;gt;%
  rename(label = feeling) %&amp;gt;%
  mutate(arrows = list(to = list(enable = FALSE)))

visNetwork(nodes, edges) %&amp;gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %&amp;gt;%
  visLayout(randomSeed = 1999) %&amp;gt;%
  visIgraphLayout() %&amp;gt;%
  visLegend(addEdges = edges_legend)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-7&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;visNetwork html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-7&#34;&gt;{&#34;x&#34;:{&#34;nodes&#34;:{&#34;id&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;label&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;x&#34;:[-0.539942329545352,-1,-0.0384679899238608,0.938025080169868,-0.513636416608315,0.511872045725018,0.251394676669495,1,-0.370311886996686,0.176790390697353,0.807408896213554,-0.309071782922783,0.469866410915021,0.0112458056120197,0.276611026635662,0.672378866654193,-0.156563006643663,0.481758283843442,-0.0437101551672948,0.327468594754579],&#34;y&#34;:[-0.264747339151075,0.0639595182041988,-1,-0.660352079336384,-0.802518521512525,-0.885908732847691,-0.246170160328256,-0.279674582781407,0.586621470868275,-0.669238067055894,0.389217961668319,-0.0146355070499582,-0.428204130047237,-0.188442596899755,1,-0.0707896576046052,-0.523917099874053,0.401580338935807,0.248773469552016,0.112940439159899]},&#34;edges&#34;:{&#34;from&#34;:[&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;T59&#34;,&#34;R46&#34;],&#34;to&#34;:[&#34;P28&#34;,&#34;V50&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;K88&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;L49&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T59&#34;,&#34;T44&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;M38&#34;],&#34;feeling&#34;:[&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;],&#34;color&#34;:[&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;],&#34;label&#34;:[null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,&#34;+&#34;,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,&#34;-&#34;,null,&#34;-&#34;,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null]},&#34;nodesToDataframe&#34;:true,&#34;edgesToDataframe&#34;:true,&#34;options&#34;:{&#34;width&#34;:&#34;100%&#34;,&#34;height&#34;:&#34;100%&#34;,&#34;nodes&#34;:{&#34;shape&#34;:&#34;dot&#34;,&#34;physics&#34;:false},&#34;manipulation&#34;:{&#34;enabled&#34;:false},&#34;layout&#34;:{&#34;randomSeed&#34;:1999},&#34;edges&#34;:{&#34;smooth&#34;:false},&#34;physics&#34;:{&#34;stabilization&#34;:false}},&#34;groups&#34;:null,&#34;width&#34;:null,&#34;height&#34;:null,&#34;idselection&#34;:{&#34;enabled&#34;:true,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;useLabels&#34;:true,&#34;main&#34;:&#34;Select by id&#34;},&#34;byselection&#34;:{&#34;enabled&#34;:false,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;multiple&#34;:false,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;highlight&#34;:false},&#34;main&#34;:null,&#34;submain&#34;:null,&#34;footer&#34;:null,&#34;background&#34;:&#34;rgba(0, 0, 0, 0)&#34;,&#34;highlight&#34;:{&#34;enabled&#34;:true,&#34;hoverNearest&#34;:false,&#34;degree&#34;:1,&#34;algorithm&#34;:&#34;all&#34;,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;labelOnly&#34;:true},&#34;collapse&#34;:{&#34;enabled&#34;:false,&#34;fit&#34;:false,&#34;resetHighlight&#34;:true,&#34;clusterOptions&#34;:null,&#34;keepCoord&#34;:true,&#34;labelSuffix&#34;:&#34;(cluster)&#34;},&#34;igraphlayout&#34;:{&#34;type&#34;:&#34;square&#34;},&#34;legend&#34;:{&#34;width&#34;:0.2,&#34;useGroups&#34;:true,&#34;position&#34;:&#34;left&#34;,&#34;ncol&#34;:1,&#34;stepX&#34;:100,&#34;stepY&#34;:100,&#34;zoom&#34;:true,&#34;edges&#34;:{&#34;label&#34;:[&#34;love&#34;,&#34;hate&#34;,&#34;meh&#34;],&#34;color&#34;:[&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;],&#34;arrows&#34;:[{&#34;enable&#34;:false},{&#34;enable&#34;:false},{&#34;enable&#34;:false}]},&#34;edgesToDataframe&#34;:true}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;using-icons-for-node-shapes&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Using icons for node shapes&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;visNetwork&lt;/code&gt; incorporates icons from &lt;a href=&#34;https://fontawesome.com/icons?d=gallery&#34;&gt;Font Awesome&lt;/a&gt; for styling nodes. To implement, call the &lt;code&gt;addFontAwesome()&lt;/code&gt; function and then modify the shape and icon arguments to &lt;code&gt;visNodes()&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;visNetwork(nodes, edges) %&amp;gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %&amp;gt;%
  visLayout(randomSeed = 1999) %&amp;gt;%
  visIgraphLayout() %&amp;gt;%
  visLegend(addEdges = edges_legend) %&amp;gt;%
  addFontAwesome(name = &amp;quot;font-awesome&amp;quot;) %&amp;gt;%
  visNodes(shape = &amp;quot;icon&amp;quot;, icon = list(code = &amp;quot;f007&amp;quot;, color = &amp;quot;black&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-8&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;visNetwork html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-8&#34;&gt;{&#34;x&#34;:{&#34;nodes&#34;:{&#34;id&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;label&#34;:[&#34;K93&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;],&#34;x&#34;:[0.108493461525093,-0.00829606628845647,-1,-0.569102200260912,-0.720793463347975,-0.895039671592577,-0.123484468734962,-0.226855076381507,0.590727474638749,-0.584703238998046,0.587018122625409,-0.155114738122303,-0.408327967204411,-0.226275445309429,1,-0.088135552429718,-0.562026398666857,0.281554954225721,0.223883435654803,0.243214160811655],&#34;y&#34;:[0.505532310183234,1,0.0317592478462014,-0.915853452966757,0.536879503909567,-0.504217549632422,-0.255675587045993,-1,0.337121162088921,-0.175017163191284,-0.680393576755094,0.323972586668243,-0.457228282200681,-0.0287286798661245,-0.21709667305207,-0.639373588731014,0.143303954069752,-0.637178570919015,0.0754603138172871,-0.282724980369913]},&#34;edges&#34;:{&#34;from&#34;:[&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;K93&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P28&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;P55&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;G18&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;S19&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;K88&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;T59&#34;,&#34;R46&#34;],&#34;to&#34;:[&#34;P28&#34;,&#34;V50&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;K88&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;V50&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;L49&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;M38&#34;,&#34;L49&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Q89&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;H38&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;S19&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;D77&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;J69&#34;,&#34;B67&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T59&#34;,&#34;T44&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Z92&#34;,&#34;Q89&#34;,&#34;K26&#34;,&#34;T44&#34;,&#34;A63&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;Q89&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;M38&#34;,&#34;T44&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;A63&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;T59&#34;,&#34;R46&#34;,&#34;R46&#34;,&#34;M38&#34;,&#34;M38&#34;],&#34;feeling&#34;:[&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;hate&#34;,&#34;love&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;hate&#34;,&#34;meh&#34;,&#34;meh&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;love&#34;,&#34;hate&#34;],&#34;color&#34;:[&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;firebrick&#34;,&#34;lightblue&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;,&#34;goldenrod&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;lightblue&#34;,&#34;firebrick&#34;],&#34;label&#34;:[null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,&#34;+&#34;,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,null,null,&#34;-&#34;,&#34;+&#34;,&#34;-&#34;,&#34;+&#34;,null,null,&#34;-&#34;,null,&#34;-&#34;,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,&#34;-&#34;,null,null,null,&#34;-&#34;,null,&#34;-&#34;,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,&#34;-&#34;,null,&#34;-&#34;,null,null,&#34;+&#34;,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null,null,null,null,&#34;+&#34;,null,&#34;+&#34;,null,&#34;+&#34;,&#34;-&#34;,null,null,null,null,null]},&#34;nodesToDataframe&#34;:true,&#34;edgesToDataframe&#34;:true,&#34;options&#34;:{&#34;width&#34;:&#34;100%&#34;,&#34;height&#34;:&#34;100%&#34;,&#34;nodes&#34;:{&#34;physics&#34;:false,&#34;shape&#34;:&#34;icon&#34;,&#34;icon&#34;:{&#34;code&#34;:&#34;f007&#34;,&#34;color&#34;:&#34;black&#34;}},&#34;manipulation&#34;:{&#34;enabled&#34;:false},&#34;layout&#34;:{&#34;randomSeed&#34;:1999},&#34;edges&#34;:{&#34;smooth&#34;:false},&#34;physics&#34;:{&#34;stabilization&#34;:false}},&#34;groups&#34;:null,&#34;width&#34;:null,&#34;height&#34;:null,&#34;idselection&#34;:{&#34;enabled&#34;:true,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;useLabels&#34;:true,&#34;main&#34;:&#34;Select by id&#34;},&#34;byselection&#34;:{&#34;enabled&#34;:false,&#34;style&#34;:&#34;width: 150px; height: 26px&#34;,&#34;multiple&#34;:false,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;highlight&#34;:false},&#34;main&#34;:null,&#34;submain&#34;:null,&#34;footer&#34;:null,&#34;background&#34;:&#34;rgba(0, 0, 0, 0)&#34;,&#34;highlight&#34;:{&#34;enabled&#34;:true,&#34;hoverNearest&#34;:false,&#34;degree&#34;:1,&#34;algorithm&#34;:&#34;all&#34;,&#34;hideColor&#34;:&#34;rgba(200,200,200,0.5)&#34;,&#34;labelOnly&#34;:true},&#34;collapse&#34;:{&#34;enabled&#34;:false,&#34;fit&#34;:false,&#34;resetHighlight&#34;:true,&#34;clusterOptions&#34;:null,&#34;keepCoord&#34;:true,&#34;labelSuffix&#34;:&#34;(cluster)&#34;},&#34;igraphlayout&#34;:{&#34;type&#34;:&#34;square&#34;},&#34;legend&#34;:{&#34;width&#34;:0.2,&#34;useGroups&#34;:true,&#34;position&#34;:&#34;left&#34;,&#34;ncol&#34;:1,&#34;stepX&#34;:100,&#34;stepY&#34;:100,&#34;zoom&#34;:true,&#34;edges&#34;:{&#34;label&#34;:[&#34;love&#34;,&#34;hate&#34;,&#34;meh&#34;],&#34;color&#34;:[&#34;lightblue&#34;,&#34;firebrick&#34;,&#34;goldenrod&#34;],&#34;arrows&#34;:[{&#34;enable&#34;:false},{&#34;enable&#34;:false},{&#34;enable&#34;:false}]},&#34;edgesToDataframe&#34;:true},&#34;iconsRedraw&#34;:true},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>iqr4tab and prop4tab</title>
      <link>/notes/summary-functions/</link>
      <pubDate>Wed, 18 Mar 2020 17:14:59 +0000</pubDate>
      
      <guid>/notes/summary-functions/</guid>
      <description>


&lt;p&gt;Below are a couple of functions I use for summarizing variables. These are useful for evaluating characteristics in different strata.&lt;/p&gt;
&lt;div id=&#34;iqr4tab&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;iqr4tab()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;This function calculates the median and 25th, 75th quartile (IQR) and formats the output for a table:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;iqr4tab &amp;lt;- function(x, digits = 2, na.rm = TRUE) {
  
  nums &amp;lt;- fivenum(x, na.rm = na.rm)[2:4]
  nums &amp;lt;- round(nums, digits)
  paste0(nums[2], &amp;quot; (&amp;quot;, nums[1], &amp;quot;,&amp;quot;, nums[3], &amp;quot;)&amp;quot;)
  
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;prop4tab&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;prop4tab()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;This function will calculate count and proportion for both levels of a binary variable and format for a table:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;prop4tab &amp;lt;- function(x, level = &amp;quot;1&amp;quot;, digits = 1) {
  
  x &amp;lt;- as.factor(x)
  n_total &amp;lt;- length(x)
  
  if (is.na(level) | level == &amp;quot;NA&amp;quot;) {
    
    level &amp;lt;- &amp;quot;NA&amp;quot;
    n_level1 &amp;lt;- length(x[x==level])
    
  } else {
    
    n_level1 &amp;lt;- length(x[x==level &amp;amp; !is.na(x)])
    
  }

  prop &amp;lt;- n_level1/n_total
  paste0(n_level1, &amp;quot; (&amp;quot;, round(prop*100,digits),&amp;quot;)&amp;quot;)

}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;example&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Example&lt;/h2&gt;
&lt;p&gt;The following example uses data from the &lt;code&gt;AmesHousing&lt;/code&gt; package:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(AmesHousing)
library(dplyr)
library(tidyr)

ames &amp;lt;- make_ames()&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames %&amp;gt;%
  mutate(House_Style = ifelse(House_Style == &amp;quot;One_Story&amp;quot;,&amp;quot;single story&amp;quot;, &amp;quot;multi story&amp;quot;)) %&amp;gt;%
  group_by(House_Style) %&amp;gt;%
  summarise(Price = iqr4tab(Sale_Price))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 2
##   House_Style  Price                 
##   &amp;lt;chr&amp;gt;        &amp;lt;chr&amp;gt;                 
## 1 multi story  167500 (132000,213000)
## 2 single story 155000 (127000,213750)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames %&amp;gt;%
  mutate(House_Style = ifelse(House_Style == &amp;quot;One_Story&amp;quot;,&amp;quot;single story&amp;quot;, &amp;quot;multi story&amp;quot;)) %&amp;gt;%
  group_by(House_Style) %&amp;gt;%
  summarise(Central_Air = prop4tab(Central_Air, level = &amp;quot;Y&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 2 x 2
##   House_Style  Central_Air
##   &amp;lt;chr&amp;gt;        &amp;lt;chr&amp;gt;      
## 1 multi story  1344 (92.8)
## 2 single story 1390 (93.9)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ames %&amp;gt;%
  mutate(House_Style = ifelse(House_Style == &amp;quot;One_Story&amp;quot;, &amp;quot;single story&amp;quot;, &amp;quot;multi story&amp;quot;),
         Fireplace = ifelse(Fireplaces == 0, 0, 1)) %&amp;gt;%
  group_by(House_Style) %&amp;gt;%
  summarise(Price = iqr4tab(Sale_Price),
            Rooms = iqr4tab(TotRms_AbvGrd),
            AC = prop4tab(Central_Air, level = &amp;quot;Y&amp;quot;),
            Fireplace = prop4tab(Fireplace)) %&amp;gt;%
  gather(variable, summary, -House_Style) %&amp;gt;%
  spread(House_Style, summary)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 4 x 3
##   variable  `multi story`          `single story`        
##   &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;                  &amp;lt;chr&amp;gt;                 
## 1 AC        1344 (92.8)            1390 (93.9)           
## 2 Fireplace 801 (55.3)             707 (47.7)            
## 3 Price     167500 (132000,213000) 155000 (127000,213750)
## 4 Rooms     7 (6,8)                6 (5,7)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>NICU Data Analysis</title>
      <link>/project/nicu/</link>
      <pubDate>Sat, 29 Feb 2020 00:00:00 +0000</pubDate>
      
      <guid>/project/nicu/</guid>
      <description></description>
    </item>
    
    <item>
      <title>bcftools Primer</title>
      <link>/notes/bcftools/</link>
      <pubDate>Fri, 28 Feb 2020 18:14:59 +0000</pubDate>
      
      <guid>/notes/bcftools/</guid>
      <description>


&lt;p&gt;&lt;code&gt;bcftools&lt;/code&gt; provides utilities for working with data in variant calling (&lt;code&gt;.vcf&lt;/code&gt;) format. The &lt;a href=&#34;https://samtools.github.io/bcftools/bcftools.html&#34;&gt;manual&lt;/a&gt; fully documents the arguments and features, and the developers have written their own &lt;a href=&#34;https://samtools.github.io/bcftools/howtos/index.html&#34;&gt;“HowTo” page&lt;/a&gt;. The goal of this post is to walk through some scenarios with a reproducible dataset to showcase the &lt;code&gt;bcftools&lt;/code&gt; functionality I use regularly.&lt;/p&gt;
&lt;p&gt;Note that this will &lt;em&gt;not&lt;/em&gt; be an exhaustive demonstration of all &lt;code&gt;bcftools&lt;/code&gt; features, nor will it include other &lt;code&gt;.vcf&lt;/code&gt; parsing/manipulation tools or linux utilities (i.e. &lt;code&gt;awk&lt;/code&gt;, &lt;code&gt;sed&lt;/code&gt;) that can be handy for working with variant calling data.&lt;/p&gt;
&lt;p&gt;The examples should be reproducible given setup described below. However, the output at the command line will look slightly different than the inline output in this post. For legibility, I’ve run each of the commands, excluded the header, and read the results back in as a text file. The inline output in this post will show a max of 6 rows with a final placeholder row (&lt;code&gt;. . . . . . . . . . .&lt;/code&gt;) if necessary.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#concat&#34;&gt;How do I concatenate multiple vcf files?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#samplename&#34;&gt;How do I subset for individual samples by name?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#indels&#34;&gt;How do I restrict a vcf to only include INDELs?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rsid&#34;&gt;How do I filter a vcf by SNP ID?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#chrpos&#34;&gt;How do I filter a vcf by genomic coordinates?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tgt&#34;&gt;How do I format the genotype as nucleotide in a vcf?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#merge&#34;&gt;How do I merge multiple vcf files?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#parsemulti&#34;&gt;How do I extract genotypes for multiple samples from a single vcf?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#renamechr&#34;&gt;How do I change the chromosome names in a vcf?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#noheader&#34;&gt;How do I inspect a vcf without the header?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#onlyheader&#34;&gt;How do I view &lt;em&gt;only&lt;/em&gt; the header in a vcf?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;div id=&#34;setup&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Setup&lt;/h2&gt;
&lt;p&gt;To get started we need to find some data to work with and do a bit of pre-processing:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Download all of the files for the &lt;a href=&#34;ftp://ftp.1000genomes.ebi.ac.uk/vol1/ftp/release/&#34;&gt;20130502 release of the 1000 Genomes Project&lt;/a&gt; (these are in compressed &lt;code&gt;.vcf.gz&lt;/code&gt; format, each with &lt;code&gt;.tbi&lt;/code&gt; index)&lt;/li&gt;
&lt;li&gt;Download a &lt;code&gt;.vcf.gz&lt;/code&gt; (and &lt;code&gt;.tbi&lt;/code&gt;) for sites annotated by &lt;a href=&#34;https://www.ncbi.nlm.nih.gov/clinvar/&#34;&gt;ClinVar&lt;/a&gt;&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Create &lt;code&gt;.vcf.gz&lt;/code&gt; files for each chromosome (1-22) filtered to only include the ClinVar sites&lt;/li&gt;
&lt;li&gt;Create tabix index for each of the newly created &lt;code&gt;.vcf.gz&lt;/code&gt; files&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The code that follows will perform all of the steps described above. Keep in mind that the each step (especially downloading and filtering the 1000 Genomes data) may take quite a while as these files are large (~ 20GB total). You’ll need a system with sufficient storage, and has &lt;code&gt;wget&lt;/code&gt;, &lt;code&gt;parallel&lt;/code&gt;, &lt;code&gt;bcftools&lt;/code&gt;, and &lt;code&gt;tabix&lt;/code&gt; installed.&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;## download 1000 genomes vcf files
wget ftp://ftp.1000genomes.ebi.ac.uk/vol1/ftp/release/20130502/*.vcf.gz*

## download clinvar vcf
wget ftp://ftp.ncbi.nlm.nih.gov/pub/clinvar/vcf_GRCh37/clinvar.vcf.gz*

## use parallel to restrict each chromosome (chr1 to chr22) to clinvar sites
find . -type f -name &amp;quot;ALL.chr[1-9]*vcf.gz&amp;quot; | parallel &amp;quot;bcftools view {} -R clinvar.vcf.gz --output-type z --output {}.clinvar.vcf.gz&amp;quot;

## make sure all vcf.gz files are tabix indexed
find . -type f -name &amp;quot;ALL.chr[1-9]*.clinvar.vcf.gz&amp;quot; | parallel &amp;quot;tabix {}&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With the data processed we can move onto the scenarios.&lt;/p&gt;
&lt;p&gt;All subsequent code will use &lt;code&gt;bcftools&lt;/code&gt; version 1.10.&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools --version&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;text&#34;&gt;&lt;code&gt;bcftools 1.10.2-27-g9d66868
Using htslib 1.10.2-33-g1bbcd02
Copyright (C) 2019 Genome Research Ltd.
License Expat: The MIT/Expat license
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.&lt;/code&gt;&lt;/pre&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;scenarios&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Scenarios&lt;/h2&gt;
&lt;div id=&#34;concatenate-multiple-files-together&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;concat&#34;&gt;&lt;/a&gt;Concatenate multiple files together&lt;/h3&gt;
&lt;p&gt;If we wanted to concatenate (i.e. “stack”) multiple &lt;code&gt;.vcf&lt;/code&gt; files together we can use &lt;code&gt;bcftools concat&lt;/code&gt;, so long as the input files share the same fields. In this example, we’ll combine all of the chromosomes (1-22) into a single file.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;--output-type z&lt;/code&gt; argument specifies that the output will be compressed, and the &lt;code&gt;--output&lt;/code&gt; flag allows us to explicitly name the resulting file:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools concat ALL.chr*.clinvar.vcf.gz --output-type z --output all.clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: &lt;code&gt;bcftools concat&lt;/code&gt; is &lt;em&gt;not&lt;/em&gt; equivalent &lt;code&gt;bcftools merge&lt;/code&gt;. For an example of the latter &lt;a href=&#34;#merge&#34;&gt;see below&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;select-individual-samples-by-name&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;samplename&#34;&gt;&lt;/a&gt;Select individual samples by name&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;bcftools view -s&lt;/code&gt; allows for subsetting by sample ID.&lt;/p&gt;
&lt;p&gt;The combined &lt;code&gt;all.clinvar.vcf.gz&lt;/code&gt; file above contains multiple samples. Here we’ll create individual compressed &lt;code&gt;.vcf&lt;/code&gt; files for NA20536 and HG03718 samples, along with a tabix index for each file (using &lt;code&gt;bcftools index -t&lt;/code&gt;):&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools view -s NA20536 all.clinvar.vcf.gz --output-type z --output NA20536.clinvar.vcf.gz
bcftools view -s HG03718 all.clinvar.vcf.gz --output-type z --output HG03718.clinvar.vcf.gz

## note: bcftools index -t is equivalent to tabix here
bcftools index -t NA20536.clinvar.vcf.gz
bcftools index -t HG03718.clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;filter-to-only-include-indels&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;indels&#34;&gt;&lt;/a&gt;Filter to only include INDELs&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;bcftools view -v&lt;/code&gt; will restrict the file to specified variant types: “snps”, “indels”, “mnps”, or “other”.&lt;/p&gt;
&lt;p&gt;We can use the command to filter the &lt;code&gt;.vcf&lt;/code&gt; to only include INDELs:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools view -v indels NA20536.clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;CHROM&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;POS&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ID&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;REF&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ALT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;QUAL&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FILTER&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;INFO&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FORMAT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;NA20536&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;978603&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs35881187&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CCT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=2;AF=0.479233;AN=2;NS=2504;DP=14705;EAS_AF=0.8036;AMR_AF=0.6412;AFR_AF=0.0348;EUR_AF=0.5487;SAS_AF=0.5593;VT=INDEL&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1|1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;984171&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs140904842&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CAG&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=2;AF=0.920527;AN=2;NS=2504;DP=7127;EAS_AF=0.9891;AMR_AF=0.9769;AFR_AF=0.7602;EUR_AF=0.9742;SAS_AF=0.9714;VT=INDEL&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1|1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1168239&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs533071750&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CG&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.000599042;AN=2;NS=2504;DP=9648;EAS_AF=0;AMR_AF=0.0029;AFR_AF=0;EUR_AF=0.001;SAS_AF=0;AA=?|GGGGGGG|GGGGGGGG|unsure;VT=INDEL;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2343991&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs570192538&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;CCA&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00459265;AN=2;NS=2504;DP=9045;EAS_AF=0;AMR_AF=0;AFR_AF=0.0174;EUR_AF=0;SAS_AF=0;VT=INDEL&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2435830&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs555614613&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;TTCC&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;T&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00579073;AN=2;NS=2504;DP=15005;EAS_AF=0;AMR_AF=0.0029;AFR_AF=0.0204;EUR_AF=0;SAS_AF=0;VT=INDEL;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2492946&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs149579135&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AG&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00359425;AN=2;NS=2504;DP=17775;EAS_AF=0;AMR_AF=0.0014;AFR_AF=0.0129;EUR_AF=0;SAS_AF=0;AA=G|G|-|deletion;VT=INDEL&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;filter-by-rsid&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;rsid&#34;&gt;&lt;/a&gt;Filter by rsid&lt;/h3&gt;
&lt;p&gt;With &lt;code&gt;bcftools&lt;/code&gt; you can filter a &lt;code&gt;.vcf&lt;/code&gt; file for certain sites by passing in a file that contains the IDs to be retained.&lt;/p&gt;
&lt;p&gt;Assuming we have the following RSIDs in a file called &lt;code&gt;snps.list&lt;/code&gt;&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;pre class=&#34;text&#34;&gt;&lt;code&gt;rs145413551
rs34610323
rs79548709
rs371163239
rs148716910
rs374704178&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can use &lt;code&gt;snps.list&lt;/code&gt; to filter with &lt;code&gt;bcftools view&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools view --include ID==@snps.list NA20536.clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;right&#34;&gt;CHROM&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;POS&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ID&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;REF&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ALT&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;QUAL&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FILTER&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;INFO&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FORMAT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;NA20536&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;17&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;648546&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs34610323&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;T&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.0159744;AN=2;NS=2504;DP=21874;EAS_AF=0;AMR_AF=0.0058;AFR_AF=0.0575;EUR_AF=0;SAS_AF=0;AA=C|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;31620566&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs145413551&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;T&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.000199681;AN=2;NS=2504;DP=19652;EAS_AF=0;AMR_AF=0;AFR_AF=0.0008;EUR_AF=0;SAS_AF=0;AA=G|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;21&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;45707000&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs374704178&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.000399361;AN=2;NS=2504;DP=11479;EAS_AF=0;AMR_AF=0;AFR_AF=0.0015;EUR_AF=0;SAS_AF=0;AA=G|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;151721&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs148716910&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00279553;AN=2;NS=2504;DP=18789;EAS_AF=0;AMR_AF=0.0014;AFR_AF=0.0098;EUR_AF=0;SAS_AF=0;AA=G|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;8&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1841816&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs79548709&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;T&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00519169;AN=2;NS=2504;DP=16683;EAS_AF=0;AMR_AF=0;AFR_AF=0.0197;EUR_AF=0;SAS_AF=0;AA=C|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;8&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3889458&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs371163239&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;T&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.000199681;AN=2;NS=2504;DP=15669;EAS_AF=0;AMR_AF=0.0014;AFR_AF=0;EUR_AF=0;SAS_AF=0;AA=T|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;filter-by-chromosome-andor-position&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;chrpos&#34;&gt;&lt;/a&gt;Filter by chromosome and/or position&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;--regions&lt;/code&gt; flag takes input chromosome and/or position coordinates to filter the &lt;code&gt;.vcf&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If we wanted to restrict to chromosome 5:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools view --regions 5 NA20536.vcf.gz &lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;CHROM&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;POS&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ID&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;REF&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ALT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;QUAL&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FILTER&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;INFO&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FORMAT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;NA20536&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;40417&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;esv3603720;esv3603721&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;CN0&gt;,&lt;CN2&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0,0;AF=0.000199681,0.000798722;AN=2;CS=DUP_uwash;END=176437;NS=2504;SVTYPE=CNV;DP=16231;EAS_AF=0,0;AMR_AF=0,0;AFR_AF=0,0;EUR_AF=0,0.003;SAS_AF=0.001,0.001;VT=SV;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;124186&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;esv3603731&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;T&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;CN2&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.000199681;AN=2;CS=DUP_gs;END=163795;NS=2504;SVTYPE=DUP;DP=19153;EAS_AF=0;AMR_AF=0;AFR_AF=0;EUR_AF=0.001;SAS_AF=0;VT=SV;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;143490&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs142208662&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;T&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00279553;AN=2;NS=2504;DP=19664;EAS_AF=0;AMR_AF=0.0014;AFR_AF=0.0098;EUR_AF=0;SAS_AF=0;AA=c|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;151721&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs148716910&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00279553;AN=2;NS=2504;DP=18789;EAS_AF=0;AMR_AF=0.0014;AFR_AF=0.0098;EUR_AF=0;SAS_AF=0;AA=G|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;156288&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs193920840&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;T&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.000199681;AN=2;NS=2504;DP=17617;EAS_AF=0;AMR_AF=0;AFR_AF=0;EUR_AF=0;SAS_AF=0.001;AA=C|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;162045&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs568109142&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.000199681;AN=2;NS=2504;DP=15391;EAS_AF=0.001;AMR_AF=0;AFR_AF=0;EUR_AF=0;SAS_AF=0;AA=G|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;And if we were interested in a specific region (let’s say chromosome 10, anywhere between positions 800000:900000):&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools view --regions 10:800000-900000 NA20536.clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;right&#34;&gt;CHROM&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;POS&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ID&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;REF&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ALT&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;QUAL&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FILTER&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;INFO&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FORMAT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;NA20536&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;10&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;859076&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs144565605&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;T&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.000199681;AN=2;NS=2504;DP=15608;EAS_AF=0;AMR_AF=0;AFR_AF=0.0008;EUR_AF=0;SAS_AF=0;AA=T|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;10&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;860990&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs144883024&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00259585;AN=2;NS=2504;DP=18990;EAS_AF=0;AMR_AF=0.0014;AFR_AF=0.0091;EUR_AF=0;SAS_AF=0;AA=G|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;10&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;871816&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs79707128&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;T&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.0211661;AN=2;NS=2504;DP=21039;EAS_AF=0;AMR_AF=0.0058;AFR_AF=0.0703;EUR_AF=0;SAS_AF=0.0092;AA=T|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;format-translated-genotype-output&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;tgt&#34;&gt;&lt;/a&gt;Format translated genotype output&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;bcftools query&lt;/code&gt; will output contents of the &lt;code&gt;.vcf&lt;/code&gt; in text format. The contents can be specified in a string that includes fields to extract, separators, and line endings.&lt;/p&gt;
&lt;p&gt;In this scenario, we’ll pull out the ID (RSID), chromosome, position, a translated genotype, and the “type” (SNP, INDEL, etc.) in tab-separated format:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools query -f &amp;quot;%ID\t%CHROM\t%POS[\t%TGT]\t%TYPE\n&amp;quot; NA20536.clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;ID&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;CHROM&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;POS&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;GT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;TYPE&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;rs41285790&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;865628&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G|G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SNP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;rs113383096&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;879481&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G|G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SNP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;rs112433394&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;880944&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G|G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SNP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;rs113226136&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;887409&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G|G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SNP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;rs112966263&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;887989&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A|A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SNP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;rs58931985&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;889450&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C|C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;SNP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;merge-vcf-files-together&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;merge&#34;&gt;&lt;/a&gt;Merge vcf files together&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;bcftools merge&lt;/code&gt; will combine data from multiple files.&lt;/p&gt;
&lt;p&gt;To merge individual sample &lt;code&gt;.vcf&lt;/code&gt; files into one:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools merge NA20536.clinvar.vcf.gz HG03718.clinvar.vcf.gz --output-type z --output NA20536.HG03718.clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;CHROM&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;POS&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ID&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;REF&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ALT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;QUAL&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FILTER&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;INFO&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FORMAT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;NA20536&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;HG03718&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;865628&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs41285790&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=g|||;VT=SNP;EX_TARGET;DP=33950;AF=0.00279553;EAS_AF=0;AMR_AF=0.0072;AFR_AF=0;EUR_AF=0.005;SAS_AF=0.0041;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;879481&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs113383096&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=g|||;VT=SNP;EX_TARGET;DP=27530;AF=0.0197684;EAS_AF=0;AMR_AF=0.0058;AFR_AF=0.0719;EUR_AF=0;SAS_AF=0;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;880944&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs112433394&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=g|||;VT=SNP;EX_TARGET;DP=41446;AF=0.00259585;EAS_AF=0;AMR_AF=0;AFR_AF=0.0098;EUR_AF=0;SAS_AF=0;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;887409&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs113226136&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=g|||;VT=SNP;EX_TARGET;DP=39832;AF=0.00119808;EAS_AF=0;AMR_AF=0;AFR_AF=0.0045;EUR_AF=0;SAS_AF=0;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;887989&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs112966263&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=G|||;VT=SNP;EX_TARGET;DP=36768;AF=0.00579073;EAS_AF=0;AMR_AF=0;AFR_AF=0.0219;EUR_AF=0;SAS_AF=0;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;889450&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs58931985&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=C|||;VT=SNP;EX_TARGET;DP=32298;AF=0.00159744;EAS_AF=0;AMR_AF=0;AFR_AF=0.0061;EUR_AF=0;SAS_AF=0;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;parse-genotypes-for-multiple-samples&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;parsemulti&#34;&gt;&lt;/a&gt;Parse genotypes for multiple samples&lt;/h3&gt;
&lt;p&gt;Given that you have a mutli-sample &lt;code&gt;.vcf&lt;/code&gt; you can parse genotypes for each individual:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools query -f &amp;#39;[%CHROM\t%POS\t%SAMPLE\t%TGT\n]&amp;#39; NA20536.HG03718.clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;CHROM&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;POS&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;SAMPLE&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;GT&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;865628&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NA20536&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G|G&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;865628&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;HG03718&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G|G&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;879481&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NA20536&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G|G&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;879481&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;HG03718&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G|G&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;880944&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NA20536&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G|G&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;880944&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;HG03718&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G|G&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;edit-chromosome-names&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;renamechr&#34;&gt;&lt;/a&gt;Edit chromosome names&lt;/h3&gt;
&lt;p&gt;You can rename chromosomes with &lt;code&gt;bcftools annotate --rename-chrs&lt;/code&gt;. The command requires that you supply a tab-separated file with the desired naming convention, organized as “old\tnew”:&lt;/p&gt;
&lt;pre class=&#34;txt&#34;&gt;&lt;code&gt;1\tchr1
2\tchr2
3\tchr3
4\tchr4
5\tchr5
6\tchr6
7\tchr7
8\tchr8
9\tchr9
10\tchr10
11\tchr11
12\tchr12
13\tchr13
14\tchr14
15\tchr15
16\tchr16
17\tchr17
18\tchr18
19\tchr19
20\tchr20
21\tchr21
22\tchr22&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools annotate --rename-chrs chromosomes.txt NA20536.clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;CHROM&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;POS&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ID&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;REF&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;ALT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;QUAL&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FILTER&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;INFO&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;FORMAT&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;NA20536&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;chr1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;865628&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs41285790&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00279553;AN=2;NS=2504;DP=16975;EAS_AF=0;AMR_AF=0.0072;AFR_AF=0;EUR_AF=0.005;SAS_AF=0.0041;AA=g|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;chr1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;879481&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs113383096&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.0197684;AN=2;NS=2504;DP=13765;EAS_AF=0;AMR_AF=0.0058;AFR_AF=0.0719;EUR_AF=0;SAS_AF=0;AA=g|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;chr1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;880944&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs112433394&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00259585;AN=2;NS=2504;DP=20723;EAS_AF=0;AMR_AF=0;AFR_AF=0.0098;EUR_AF=0;SAS_AF=0;AA=g|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;chr1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;887409&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs113226136&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00119808;AN=2;NS=2504;DP=19916;EAS_AF=0;AMR_AF=0;AFR_AF=0.0045;EUR_AF=0;SAS_AF=0;AA=g|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;chr1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;887989&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs112966263&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00579073;AN=2;NS=2504;DP=18384;EAS_AF=0;AMR_AF=0;AFR_AF=0.0219;EUR_AF=0;SAS_AF=0;AA=G|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;chr1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;889450&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs58931985&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;AC=0;AF=0.00159744;AN=2;NS=2504;DP=16149;EAS_AF=0;AMR_AF=0;AFR_AF=0.0061;EUR_AF=0;SAS_AF=0;AA=C|||;VT=SNP;EX_TARGET&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;view-without-header&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;noheader&#34;&gt;&lt;/a&gt;View without header&lt;/h3&gt;
&lt;p&gt;To view &lt;em&gt;only the results without header&lt;/em&gt; (i.e. remove the header) use the &lt;code&gt;-H&lt;/code&gt; flag:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools view -H NA20536.HG03718.clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;X1&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;X2&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;X3&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;X4&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;X5&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;X6&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;X7&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;X8&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;X9&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;X10&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;X11&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;865628&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs41285790&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=g|||;VT=SNP;EX_TARGET;DP=33950;AF=0.00279553;EAS_AF=0;AMR_AF=0.0072;AFR_AF=0;EUR_AF=0.005;SAS_AF=0.0041;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;879481&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs113383096&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=g|||;VT=SNP;EX_TARGET;DP=27530;AF=0.0197684;EAS_AF=0;AMR_AF=0.0058;AFR_AF=0.0719;EUR_AF=0;SAS_AF=0;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;880944&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs112433394&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=g|||;VT=SNP;EX_TARGET;DP=41446;AF=0.00259585;EAS_AF=0;AMR_AF=0;AFR_AF=0.0098;EUR_AF=0;SAS_AF=0;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;887409&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs113226136&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=g|||;VT=SNP;EX_TARGET;DP=39832;AF=0.00119808;EAS_AF=0;AMR_AF=0;AFR_AF=0.0045;EUR_AF=0;SAS_AF=0;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;887989&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs112966263&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;G&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=G|||;VT=SNP;EX_TARGET;DP=36768;AF=0.00579073;EAS_AF=0;AMR_AF=0;AFR_AF=0.0219;EUR_AF=0;SAS_AF=0;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;889450&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;rs58931985&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;C&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;100&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;PASS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;NS=2504;AA=C|||;VT=SNP;EX_TARGET;DP=32298;AF=0.00159744;EAS_AF=0;AMR_AF=0;AFR_AF=0.0061;EUR_AF=0;SAS_AF=0;AN=4;AC=0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;GT&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0|0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;view-only-header&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;onlyheader&#34;&gt;&lt;/a&gt;View only header&lt;/h3&gt;
&lt;p&gt;To view &lt;em&gt;only the header&lt;/em&gt; (i.e. extract header) use the &lt;code&gt;-h&lt;/code&gt; flag:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;bcftools view -h clinvar.vcf.gz&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## ##fileformat=VCFv4.1
## ##FILTER=&amp;lt;ID=PASS,Description=&amp;quot;All filters passed&amp;quot;&amp;gt;
## ##fileDate=2020-02-17
## ##source=ClinVar
## ##reference=GRCh37
## ##ID=&amp;lt;Description=&amp;quot;ClinVar Variation ID&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=AF_ESP,Number=1,Type=Float,Description=&amp;quot;allele frequencies from GO-ESP&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=AF_EXAC,Number=1,Type=Float,Description=&amp;quot;allele frequencies from ExAC&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=AF_TGP,Number=1,Type=Float,Description=&amp;quot;allele frequencies from TGP&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=ALLELEID,Number=1,Type=Integer,Description=&amp;quot;the ClinVar Allele ID&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNDN,Number=.,Type=String,Description=&amp;quot;ClinVar&amp;#39;s preferred disease name for the concept specified by disease identifiers in CLNDISDB&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNDNINCL,Number=.,Type=String,Description=&amp;quot;For included Variant : ClinVar&amp;#39;s preferred disease name for the concept specified by disease identifiers in CLNDISDB&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNDISDB,Number=.,Type=String,Description=&amp;quot;Tag-value pairs of disease database name and identifier, e.g. OMIM:NNNNNN&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNDISDBINCL,Number=.,Type=String,Description=&amp;quot;For included Variant: Tag-value pairs of disease database name and identifier, e.g. OMIM:NNNNNN&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNHGVS,Number=.,Type=String,Description=&amp;quot;Top-level (primary assembly, alt, or patch) HGVS expression.&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNREVSTAT,Number=.,Type=String,Description=&amp;quot;ClinVar review status for the Variation ID&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNSIG,Number=.,Type=String,Description=&amp;quot;Clinical significance for this single variant&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNSIGCONF,Number=.,Type=String,Description=&amp;quot;Conflicting clinical significance for this single variant&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNSIGINCL,Number=.,Type=String,Description=&amp;quot;Clinical significance for a haplotype or genotype that includes this variant. Reported as pairs of VariationID:clinical significance.&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNVC,Number=1,Type=String,Description=&amp;quot;Variant type&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNVCSO,Number=1,Type=String,Description=&amp;quot;Sequence Ontology id for variant type&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=CLNVI,Number=.,Type=String,Description=&amp;quot;the variant&amp;#39;s clinical sources reported as tag-value pairs of database and variant identifier&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=DBVARID,Number=.,Type=String,Description=&amp;quot;nsv accessions from dbVar for the variant&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=GENEINFO,Number=1,Type=String,Description=&amp;quot;Gene(s) for the variant reported as gene symbol:gene id. The gene symbol and id are delimited by a colon (:) and each pair is delimited by a vertical bar (|)&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=MC,Number=.,Type=String,Description=&amp;quot;comma separated list of molecular consequence in the form of Sequence Ontology ID|molecular_consequence&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=ORIGIN,Number=.,Type=String,Description=&amp;quot;Allele origin. One or more of the following values may be added: 0 - unknown; 1 - germline; 2 - somatic; 4 - inherited; 8 - paternal; 16 - maternal; 32 - de-novo; 64 - biparental; 128 - uniparental; 256 - not-tested; 512 - tested-inconclusive; 1073741824 - other&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=RS,Number=.,Type=String,Description=&amp;quot;dbSNP ID (i.e. rs number)&amp;quot;&amp;gt;
## ##INFO=&amp;lt;ID=SSR,Number=1,Type=Integer,Description=&amp;quot;Variant Suspect Reason Codes. One or more of the following values may be added: 0 - unspecified, 1 - Paralog, 2 - byEST, 4 - oldAlign, 8 - Para_EST, 16 - 1kg_failed, 1024 - other&amp;quot;&amp;gt;
## ##contig=&amp;lt;ID=1&amp;gt;
## ##contig=&amp;lt;ID=2&amp;gt;
## ##contig=&amp;lt;ID=3&amp;gt;
## ##contig=&amp;lt;ID=4&amp;gt;
## ##contig=&amp;lt;ID=5&amp;gt;
## ##contig=&amp;lt;ID=6&amp;gt;
## ##contig=&amp;lt;ID=7&amp;gt;
## ##contig=&amp;lt;ID=8&amp;gt;
## ##contig=&amp;lt;ID=9&amp;gt;
## ##contig=&amp;lt;ID=10&amp;gt;
## ##contig=&amp;lt;ID=11&amp;gt;
## ##contig=&amp;lt;ID=12&amp;gt;
## ##contig=&amp;lt;ID=13&amp;gt;
## ##contig=&amp;lt;ID=14&amp;gt;
## ##contig=&amp;lt;ID=15&amp;gt;
## ##contig=&amp;lt;ID=16&amp;gt;
## ##contig=&amp;lt;ID=17&amp;gt;
## ##contig=&amp;lt;ID=18&amp;gt;
## ##contig=&amp;lt;ID=19&amp;gt;
## ##contig=&amp;lt;ID=20&amp;gt;
## ##contig=&amp;lt;ID=21&amp;gt;
## ##contig=&amp;lt;ID=22&amp;gt;
## ##contig=&amp;lt;ID=X&amp;gt;
## ##contig=&amp;lt;ID=Y&amp;gt;
## ##contig=&amp;lt;ID=MT&amp;gt;
## ##bcftools_viewVersion=1.10.2-27-g9d66868+htslib-1.10.2-33-g1bbcd02
## ##bcftools_viewCommand=view -h clinvar.vcf.gz; Date=Fri Feb 28 19:06:40 2020
## #CHROM   POS ID  REF ALT QUAL    FILTER  INFO&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;From &lt;a href=&#34;https://www.ncbi.nlm.nih.gov/variation/docs/ClinVar_vcf_files/&#34;&gt;ClinVar vcf documentation&lt;/a&gt;: &lt;em&gt;This file contains variations submitted through clinical channels. The variations contained in this file are therefore a mixture of variations asserted to be pathogenic as well as those known to be non-pathogenic. The user should note that any variant may have different assertions regarding clinical significance and that this file will contain only those that are the most “pathogenic”&lt;/em&gt;.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;This solution is based on a Biostars post: &lt;a href=&#34;https://www.biostars.org/p/373852/&#34; class=&#34;uri&#34;&gt;https://www.biostars.org/p/373852/&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Custom Table Function in bash</title>
      <link>/notes/table-shell-function/</link>
      <pubDate>Thu, 20 Feb 2020 17:14:59 +0000</pubDate>
      
      <guid>/notes/table-shell-function/</guid>
      <description>


&lt;p&gt;The bash &lt;code&gt;cat&lt;/code&gt; command will output the contents of a text file. If the text is tabular (i.e. rows and columns), the output will include delimiters. That may be informative, but sometimes it is helpful to view the output more legibly.&lt;/p&gt;
&lt;div id=&#34;t2&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;t2&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;t2()&lt;/code&gt; is a custom function that uses &lt;code&gt;cat&lt;/code&gt; and &lt;code&gt;column&lt;/code&gt; to output the contents of a text file in a consistent (tab-separated) format regardless of the original delimiter. The function is defined such that as a default it will look for comma (&lt;code&gt;,&lt;/code&gt;), tab (&lt;code&gt;\t&lt;/code&gt;), and semicolon (&lt;code&gt;;&lt;/code&gt;) delimiters. The first argument is the file name to be parsed. If there is a second argument passed, it will override the default delimiters.&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;t2 () {
  
  if [[ -n &amp;quot;$2&amp;quot; ]]
    then
      local sep=$2
    else
      local sep=&amp;quot;,$&amp;#39;\t&amp;#39;$&amp;#39;;&amp;#39;&amp;quot;
  fi
  
  cat &amp;quot;$1&amp;quot; | column -t -s $sep;

}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;examples&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Examples&lt;/h2&gt;
&lt;p&gt;To motivate usage, first create tabular text files with different delimiters. The data used here will be a the first 5 rows of the built-in &lt;code&gt;ToothGrowth&lt;/code&gt; data in R.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(readr)

littletooth &amp;lt;- head(ToothGrowth, n=5)

## comma separated
write_csv(littletooth, &amp;quot;littletooth.csv&amp;quot;)
## semi-colon separated
write_delim(littletooth, &amp;quot;littletooth.semi&amp;quot;, delim = &amp;quot;;&amp;quot;)
## pipe separated
write_delim(littletooth, &amp;quot;littletooth.pipe&amp;quot;, delim = &amp;quot;|&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s see what the &lt;code&gt;.csv&lt;/code&gt; output looks like with &lt;code&gt;cat&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;cat littletooth.csv&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;text&#34;&gt;&lt;code&gt;len,supp,dose
4.2,VC,0.5
11.5,VC,0.5
7.3,VC,0.5
5.8,VC,0.5
6.4,VC,0.5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;t2&lt;/code&gt; standardizes output format regardless of delimiter:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;t2 littletooth.csv&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;text&#34;&gt;&lt;code&gt;len   supp  dose
4.2   VC    0.5
11.5  VC    0.5
7.3   VC    0.5
5.8   VC    0.5
6.4   VC    0.5&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;t2 littletooth.semi&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;text&#34;&gt;&lt;code&gt;len   supp  dose
4.2   VC    0.5
11.5  VC    0.5
7.3   VC    0.5
5.8   VC    0.5
6.4   VC    0.5&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;t2 littletooth.pipe &amp;quot;|&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;text&#34;&gt;&lt;code&gt;len   supp  dose
4.2   VC    0.5
11.5  VC    0.5
7.3   VC    0.5
5.8   VC    0.5
6.4   VC    0.5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: The &lt;code&gt;t2&lt;/code&gt; function is useful for “pretty-printing” … from &lt;code&gt;man column&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;text&#34;&gt;&lt;code&gt;     -t      Determine the number of columns the input contains and create a ta-
             ble.  Columns are delimited with whitespace, by default, or with the
             characters supplied using the -s option.  Useful for pretty-printing
             displays.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you were to redirect output to a file, the contents would &lt;em&gt;not&lt;/em&gt; be tab-separated.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>tmux Basics</title>
      <link>/notes/tmux-basics/</link>
      <pubDate>Tue, 11 Feb 2020 08:38:31 -0400</pubDate>
      
      <guid>/notes/tmux-basics/</guid>
      <description>


&lt;blockquote&gt;
&lt;p&gt;tmux is a terminal multiplexer for Unix-like operating systems. It allows multiple terminal sessions to be accessed simultaneously in a single window. It is useful for running more than one command-line program at the same time. It can also be used to detach processes from their controlling terminals, allowing SSH sessions to remain active without being visible.&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There are a lot of great cheatsheets, demos, and resources for how to use &lt;code&gt;tmux&lt;/code&gt;&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;&lt;a href=&#34;#fn4&#34; class=&#34;footnote-ref&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In general &lt;code&gt;tmux&lt;/code&gt; can help manage three components:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sessions&lt;/li&gt;
&lt;li&gt;windows&lt;/li&gt;
&lt;li&gt;panes&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;What follows will be a series of commands that starts a session with &lt;code&gt;ping&lt;/code&gt;, the &lt;code&gt;tmux&lt;/code&gt; clock, and &lt;code&gt;htop&lt;/code&gt; running with the pane layout customized to look like the following:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/tmux.png&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Start a new tmux session called “demo”:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tmux new-session -s demo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Start running ping:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ping stackoverflow.com&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Split vertically to create a second pane:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ctrl-b&lt;/code&gt; + &lt;code&gt;%&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Start the big clock:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ctrl-b&lt;/code&gt; + &lt;code&gt;t&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Split horizontally to create a third pane:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ctrl-b&lt;/code&gt; + &lt;code&gt;&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Do something else (in this case open htop):&lt;/p&gt;
&lt;p&gt;&lt;code&gt;htop&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Resize the pane beneath the clock:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ctrl-b&lt;/code&gt; + &lt;code&gt;:resize-pane -U 5&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Remove the pane beneath the clock:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ctrl-b&lt;/code&gt; + &lt;code&gt;x&lt;/code&gt; + &lt;code&gt;y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Detach from the session:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ctrl-b&lt;/code&gt; + &lt;code&gt;:detach&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Kill the session altogether:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tmux kill-session -t demo&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;From &lt;a href=&#34;https://en.wikipedia.org/wiki/Tmux&#34;&gt;tmux&lt;/a&gt; by &lt;a href=&#34;https://en.wikipedia.org/&#34;&gt;Wikipedia&lt;/a&gt; licensed under &lt;a href=&#34;https://creativecommons.org/licenses/by-sa/3.0/us/&#34;&gt;CC BY-SA 3.0&lt;/a&gt;.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://gist.github.com/MohamedAlaa/2961058&#34; class=&#34;uri&#34;&gt;https://gist.github.com/MohamedAlaa/2961058&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://medium.com/@bill.feng/how-to-tmux-2136b663df45&#34; class=&#34;uri&#34;&gt;https://medium.com/@bill.feng/how-to-tmux-2136b663df45&lt;/a&gt;&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;&lt;a href=&#34;https://linuxize.com/post/getting-started-with-tmux/&#34; class=&#34;uri&#34;&gt;https://linuxize.com/post/getting-started-with-tmux/&lt;/a&gt;&lt;a href=&#34;#fnref4&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>rstudio::conf 2020</title>
      <link>/notes/rstudioconf2020/</link>
      <pubDate>Fri, 31 Jan 2020 17:14:59 +0000</pubDate>
      
      <guid>/notes/rstudioconf2020/</guid>
      <description>


&lt;p&gt;This past January I was able to attend &lt;a href=&#34;https://blog.rstudio.com/2019/07/15/rstudio-conf-2020/&#34;&gt;rstudio::conf 2020&lt;/a&gt;&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; in San Francisco. I was there for the full week, taking the &lt;strong&gt;Applied Machine Learning&lt;/strong&gt; workshop and attending as many of the main conference program sessions as possible.&lt;/p&gt;
&lt;p&gt;Here is a collection of highlights/takeaways from the conference:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#debug-with-browser&#34;&gt;Debugging with &lt;code&gt;browser()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tech-debt&#34;&gt;Technical Debt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tunneling&#34;&gt;Tunneling with &lt;em&gt;tidyeval&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ggplot-null&#34;&gt;&lt;code&gt;ggplot + NULL&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#plumber&#34;&gt;&lt;code&gt;plumber&lt;/code&gt; for building APIs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pins-package&#34;&gt;&lt;code&gt;pins&lt;/code&gt; package&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bslib&#34;&gt;&lt;code&gt;boostraplib&lt;/code&gt; package&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rolldown&#34;&gt;&lt;code&gt;rolldown&lt;/code&gt; output&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;div id=&#34;debugging-with-browser&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;debug-with-browser&#34;&gt;Debugging with &lt;code&gt;browser()&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://speakerdeck.com/jennybc/object-of-type-closure-is-not-subsettable&#34;&gt;Jenny Bryan’s &lt;strong&gt;Object of Type Closure Is Not Subsettable&lt;/strong&gt;&lt;/a&gt; was one of my favorite talks at the conference. My debugging practices have been … crude, at best. I wish I would have taken the time to learn about some of the tools she covered a &lt;em&gt;long&lt;/em&gt; time ago.&lt;/p&gt;
&lt;p&gt;Moving forward I’ll definitely be using &lt;code&gt;browser()&lt;/code&gt;. When you drop it in inside a function, you can step through each call in the stack until it fails or succeeds. Along the way you can interactively update objects in the function environment to test fixes.&lt;/p&gt;
&lt;p&gt;An example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## define our function
fix_me &amp;lt;- function(.data) {
  x &amp;lt;- head(.data)
  y &amp;lt;- colSums(x)
  x[which.max(y),]
}

## try it with a data.frame
fix_me(mtcars)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##             mpg cyl disp hp drat   wt  qsec vs am gear carb
## Datsun 710 22.8   4  108 93 3.85 2.32 18.61  1  1    4    1&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## now try it with a vector
## doesn&amp;#39;t work :(
fix_me(1:3)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error in colSums(x): &amp;#39;x&amp;#39; must be an array of at least two dimensions&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## add in call to browser() to see where it breaks
fix_me &amp;lt;- function(.data) {
  browser()
  x &amp;lt;- head(.data)
  y &amp;lt;- colSums(x)
  x[which.max(y),]
}

## run again to prompt browser
fix_me(1:3)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## add in logic and messaging for dim check
fix_me &amp;lt;- function(.data) {
  if(is.null(dim(.data))) {
    stop(&amp;quot;Your argument to `.data` must have at least 2 dimensions (columns and rows).&amp;quot;)
  }
  x &amp;lt;- head(.data)
  y &amp;lt;- colSums(x)
  x[which.max(y),]
}

## still doesn&amp;#39;t work :(
## but now it at least issues a message!
fix_me(1:3)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error in fix_me(1:3): Your argument to `.data` must have at least 2 dimensions (columns and rows).&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## and this still works!
fix_me(mtcars)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##             mpg cyl disp hp drat   wt  qsec vs am gear carb
## Datsun 710 22.8   4  108 93 3.85 2.32 18.61  1  1    4    1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/object-of-type-closure-is-not-subsettable-jenny-bryan?wvideo=3eryv8gcor&#34;&gt;Object of type ‘closure’ is not subsettable - Jenny Bryan&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/object-of-type-closure-is-not-subsettable-jenny-bryan?wvideo=3eryv8gcor&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/2e2c4f025a70aaa1659fa66786570766f9f0f11a.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;technical-debt&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;tech-debt&#34;&gt;Technical Debt&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/GShotwell/technical_debt&#34;&gt;Gordon Shotwell’s talk&lt;/a&gt; might have been the least technical and most important talk I saw at rstudio::conf. Technical debt abounds. There’s no doubt that my own development practices have led to more work for folks (including myself) down the line. It’s easy to take shortcuts in documentation, testing, and up-front efforts when scoping a project. It’s even easier to be cynical or blame a former maintainer (including yourself) for these shortcomings. But as Gordon pointed out, &lt;strong&gt;technical debt is a good sign&lt;/strong&gt; … if there is a motivation to salvage, refactor, or otherwise optimize a codebase, then it means the underlying ideas hold value. The talk outlined a number of ways to avoid and/or remedy technical debt. One suggestion: build tools that are fun to use. Gordon gave the example of R markdown’s ability to give new users two very important features:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Ease-of-use&lt;/li&gt;
&lt;li&gt;Path to mastery&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/technical-debt-is-a-social-problem-gordon-shotwell-2?wvideo=4ne2qh57f4&#34;&gt;Technical Debt is a Social Problem - Mr. Gordon Shotwell&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/technical-debt-is-a-social-problem-gordon-shotwell-2?wvideo=4ne2qh57f4&#34;&gt;&lt;img src=&#34;https://embed-fastly.wistia.com/deliveries/a156fcdda7809f78507dd3c55f2d6a23.webp&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;tunneling-with-tidyeval&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;tunneling&#34;&gt;Tunneling with &lt;em&gt;tidyeval&lt;/em&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Lionel Henry’s talk reviewed the history, design, and current features &lt;em&gt;tidyeval&lt;/em&gt; (i.e. masking) in R. The new feature that resonated most with me was the “tunneling” syntax with &lt;code&gt;{{ variable }}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The code below outlines a simple use-case where we want to use &lt;code&gt;dplyr&lt;/code&gt; syntax in a function that can accept &lt;em&gt;bare&lt;/em&gt; variable names as arguments. This example function (&lt;code&gt;most()&lt;/code&gt;) will try to find the maximum value for a given variable, stratified by a category:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## make sure dplyr is loaded
## NOTE: dplyr includes the starwars dataset
library(dplyr)

## define function *without* tunneling 
most &amp;lt;- function(.data, var, by) {
  .data %&amp;gt;%
    group_by(by) %&amp;gt;%
    summarise(max(var, na.rm = TRUE)) %&amp;gt;%
    arrange(desc(var))
}

## this should produce an error ...
most(starwars, height, species)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error: Column `by` is unknown&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## try defining the function with tunneling
most &amp;lt;- function(.data, var, by = NULL) {
  .data %&amp;gt;%
    group_by({{ by }}) %&amp;gt;%
    summarise(max({{ var }}, na.rm = TRUE)) %&amp;gt;%
    arrange(desc({{ var }}))
}

## still getting an error? ...
most(starwars, height, species)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error in ~height: object &amp;#39;height&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## make sure we&amp;#39;re passing in tunneled name for the summarise variable we create
most &amp;lt;- function(.data, var, by = NULL) {
  .data %&amp;gt;%
    group_by({{ by }}) %&amp;gt;%
    summarise({{ var }} := max({{ var }}, na.rm = TRUE)) %&amp;gt;%
    arrange(desc({{ var }}))
}

## works !
most(starwars, height, species)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 38 x 2
##    species  height
##    &amp;lt;chr&amp;gt;     &amp;lt;int&amp;gt;
##  1 Quermian    264
##  2 Wookiee     234
##  3 Kaminoan    229
##  4 Gungan      224
##  5 Kaleesh     216
##  6 Pau&amp;#39;an      206
##  7 Human       202
##  8 Droid       200
##  9 Besalisk    198
## 10 Cerean      198
## # … with 28 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the Q&amp;amp;A Lionel clarified that the tunneling syntax meant to make tidyeval easier for folks to use … and will not necessarily supersede or replace the existing &lt;code&gt;quo&lt;/code&gt;, &lt;code&gt;enquo&lt;/code&gt;, &lt;code&gt;!!&lt;/code&gt;, etc features.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/interactivity-and-programming-in-the-tidyverse-lionel-henry?wvideo=bvpm9z2tdf&#34;&gt;Interactivity and Programming in the Tidyverse - Lionel Henry&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/interactivity-and-programming-in-the-tidyverse-lionel-henry?wvideo=bvpm9z2tdf&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/d00e2f6f28cf4d4cc5ab402bb7e89530.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;ggplot-null&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;ggplot-null&#34;&gt;&lt;code&gt;ggplot + NULL&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;I didn’t know that adding &lt;code&gt;NULL&lt;/code&gt; to a &lt;code&gt;ggplot2&lt;/code&gt; layer would produce the same plot as if it weren’t added at all:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggplot2)

p &amp;lt;-
  ggplot(msleep, aes(name, sleep_total)) +
  geom_col() +
  coord_polar()

q &amp;lt;-
  ggplot(msleep, aes(name, sleep_total)) +
  geom_col() +
  coord_polar() +
  NULL

all.equal(p,q)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Dewey Dunnington pointed this out in the context of tips for programming with &lt;code&gt;ggplot2&lt;/code&gt;. As an example, if you were writing your own function you might add an option for facetting but still maintain the same API:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## define polar plot
polar_plot &amp;lt;- function(.data, x, y, by = NULL) {
  
  if(!is.null(by)) {
    facet &amp;lt;- facet_wrap(~ .data[[by]])
  } else {
    facet &amp;lt;- NULL
  }
  
  ggplot(.data, aes(.data[[x]], .data[[y]])) +
    geom_col() +
    coord_polar() +
    facet
}

## works !
polar_plot(msleep, &amp;quot;name&amp;quot;, &amp;quot;sleep_total&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/notes/rstudioconf2020_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## works !
polar_plot(msleep, &amp;quot;name&amp;quot;, &amp;quot;sleep_total&amp;quot;, by = &amp;quot;vore&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/notes/rstudioconf2020_files/figure-html/unnamed-chunk-6-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Given the notes around &lt;em&gt;tidyeval&lt;/em&gt; above, it’s worth pointing out that the method Dewey used (&lt;code&gt;.data[[&amp;quot;variable&amp;quot;]]&lt;/code&gt;) does &lt;em&gt;not&lt;/em&gt; allow for bare variable names.&lt;/p&gt;
&lt;p&gt;Could we use the tunneling approach to do that? Kind of …&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## define polar_plot() with tunneling
polar_plot &amp;lt;- function(.data, x, y, by = NULL) {
  
  if(!is.null(by)) {
    facet &amp;lt;- facet_wrap(~ {{ by }})
  } else {
    facet &amp;lt;- NULL
  }
  
  ggplot(.data, aes({{x}}, {{y}})) +
    geom_col() +
    coord_polar() +
    facet
}

## works !
polar_plot(msleep, name, sleep_total)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/notes/rstudioconf2020_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## doesn&amp;#39;t work :(
polar_plot(msleep, name, sleep_total, vore)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error in polar_plot(msleep, name, sleep_total, vore): object &amp;#39;vore&amp;#39; not found&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The second call to the function doesn’t work. Where is this breaking? &lt;code&gt;if(!is.null(by)&lt;/code&gt; … thanks &lt;code&gt;browser()&lt;/code&gt;!&lt;/p&gt;
&lt;p&gt;To get this working we probably need to dive deeper into &lt;a href=&#34;https://rlang.r-lib.org/reference/quasiquotation.html&#34;&gt;quasiquotation&lt;/a&gt;. Maybe a topic for another post …&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/best-practices-for-programming-with-ggplot2-dewey-dunnington?wvideo=t2plmmey43&#34;&gt;Best practices for programming with ggplot2 - Dewey Dunnington&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/best-practices-for-programming-with-ggplot2-dewey-dunnington?wvideo=t2plmmey43&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/4bcc97a2edf5b0a53da27ec1fa5072a8.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;plumber-for-building-apis&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;plumber&#34;&gt;&lt;code&gt;plumber&lt;/code&gt; for building APIs&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.rplumber.io/&#34;&gt;&lt;code&gt;plumber&lt;/code&gt;&lt;/a&gt; came up several in several talks.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;plumber allows you to create a REST API by merely decorating your existing R source code with special comments.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The example below uses the following procedure:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Fit a model and save it to an R object&lt;/li&gt;
&lt;li&gt;Write &lt;code&gt;plumber&lt;/code&gt; code that loads model and defines API endpoints&lt;/li&gt;
&lt;li&gt;Run the API locally at port &lt;code&gt;8000&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Query the API with &lt;code&gt;curl&lt;/code&gt; to return predicted value&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr)
library(AmesHousing)

ames &amp;lt;- make_ames()

ames_train &amp;lt;-
  ames %&amp;gt;%
  select(Sale_Price, Gr_Liv_Area, Year_Built, Central_Air)

ames_fit &amp;lt;- lm(Sale_Price ~ ., data  = ames_train)
save(ames_fit, file = &amp;quot;ames_fit.rda&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# plumber.R
load(&amp;quot;ames_fit.rda&amp;quot;)

#* Echo back the input
#* @param msg The message to echo
#* @get /echo
function(msg=&amp;quot;&amp;quot;){
  list(msg = paste0(&amp;quot;The message is: &amp;#39;&amp;quot;, msg, &amp;quot;&amp;#39;&amp;quot;))
}

#* Return r squared
#* @get /rsq
function(){
  summary(ames_fit)$r.squared
}

#* Return the predicted sale price in dollars
#* @param area The total area of home in square feet
#* @param year The year the home was built
#* @param ac Whether or not the home has Central Air (&amp;quot;Y&amp;quot; or &amp;quot;N&amp;quot;)
#* @post /predict
function(area, year, ac){
  newdata &amp;lt;- 
    data.frame(Gr_Liv_Area = as.numeric(area),
               Year_Built = as.numeric(year),
               Central_Air = ac)
  
  predict(ames_fit, newdata = newdata)[[1]]
}&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(plumber)
ames_api &amp;lt;- plumb(&amp;quot;plumber.R&amp;quot;)  # Where &amp;#39;plumber.R&amp;#39; is the location of the file shown
ames_api$run(port=8000)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;curl -X POST &amp;quot;http://127.0.0.1:8000/predict?ac=Y&amp;amp;year=1990&amp;amp;area=20000&amp;quot; -H  &amp;quot;accept: application/json&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/practical-plumber-patterns-james-blair?wvideo=93tbn5tkic&#34;&gt;Practical Plumber Patterns - James Blair&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/practical-plumber-patterns-james-blair?wvideo=93tbn5tkic&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/32b4d8b1558500d4cc005a41c54227a624c6cd5f.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;pins-package&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;pins-package&#34;&gt;&lt;code&gt;pins&lt;/code&gt; package&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;http://pins.rstudio.com/&#34;&gt;&lt;code&gt;pins&lt;/code&gt;&lt;/a&gt; is a relatively new package for caching and retrieving objects. I heard about it in Alex Gold’s &lt;strong&gt;Deploying End-To-End Data Science with Shiny, Plumber, and Pins&lt;/strong&gt; talk. As he pointed out, pins are good for things you can re-create. The workflow doesn’t necessarily obviate the need for a database / file structure to store data of record. But it can be useful for quickly retrieving model objects or large datasets that are shared across multiple analyses.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(pins)

## create some sample data
rvalues &amp;lt;-
  data.frame(
    key = sample(LETTERS, size = 1e7, replace = TRUE),
    value = rnbinom(1e7, prob = 0.1, size = 1)
  )

## two concepts: &amp;quot;pins&amp;quot; and &amp;quot;boards&amp;quot;
## pins are data objects
## boards are storage locations

## what board are available
board_list()

## you can also add new boards with board_register_* functions
## e.g. board_register_local(); board_register_s3(); board_register_github()

## here we&amp;#39;ll use the &amp;quot;local&amp;quot; board
pin(rvalues, board = &amp;quot;local&amp;quot;)
## remove the object from the local environment to prove this is working
rm(rvalues)
## retrieve the object
pin_get(&amp;quot;rvalues&amp;quot;)
## the above ^ doesn&amp;#39;t store it in the environment though
## assign the values to an object
rvalues &amp;lt;- pin_get(&amp;quot;rvalues&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/deploying-end-to-end-data-science-with-shiny-plumber-and-pins-alex-gold?wvideo=nqnwoujit0&#34;&gt;Deploying End-To-End Data Science with Shiny, Plumber, and Pins - Alex Gold&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/deploying-end-to-end-data-science-with-shiny-plumber-and-pins-alex-gold?wvideo=nqnwoujit0&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/619365e14b7191a4f7f4955bbedb6ea6.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;bootstraplib-package&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;bslib&#34;&gt;&lt;code&gt;bootstraplib&lt;/code&gt; package&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Joe Cheng introduced a new package called &lt;a href=&#34;https://github.com/rstudio/bootstraplib&#34;&gt;&lt;code&gt;bootstraplib&lt;/code&gt;&lt;/a&gt;, which is aimed at making it easier to style Shiny app R markdown html output via Sass and CSS variables. There’s also an interactive theming / color picker UI&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://camo.githubusercontent.com/aec7d2cc30e91cc72d654d708397dbff17c09c08/68747470733a2f2f692e696d6775722e636f6d2f696c366e64384a2e676966&#34; /&gt;&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/styling-shiny-apps-with-sass-and-bootstrap-4-joe-cheng?wvideo=906lcaj2mi&#34;&gt;Styling Shiny apps with Sass and Bootstrap 4 - Joe Cheng&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/styling-shiny-apps-with-sass-and-bootstrap-4-joe-cheng?wvideo=906lcaj2mi&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/7f29bc9b76f72e738fd23db117341cc1.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x540&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;hr /&gt;
&lt;/div&gt;
&lt;div id=&#34;rolldown-output&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;a name=&#34;rolldown&#34;&gt;&lt;code&gt;rolldown&lt;/code&gt; output&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Yihui Xie delivered an inspiring blitz through 14 R markdown demos. One of the output formats that was new to me was &lt;a href=&#34;https://github.com/yihui/rolldown&#34;&gt;&lt;code&gt;rolldown&lt;/code&gt;&lt;/a&gt;, which wraps a “storytelling” format implemented in JavaScript called &lt;a href=&#34;https://github.com/russellgoldenberg/scrollama&#34;&gt;Scrollama&lt;/a&gt;. With this package you can fix output to stay in the center of the html document, while the code and chunks of text scroll down the side. The package includes a &lt;a href=&#34;https://cran.r-project.org/web/packages/rolldown/vignettes/scrollama-sidebar.html&#34;&gt;vignette with this sidebar layout as an example&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Another bonus for me was learning about &lt;code&gt;rmarkdown::draft()&lt;/code&gt;. This function stubs out an R markdown document from scratch or from a template:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## stub out templated rolldown file
rmarkdown::draft(&amp;quot;draft.Rmd&amp;quot;, 
                 template = &amp;quot;scrollama-sidebar&amp;quot;, 
                 package = &amp;quot;rolldown&amp;quot;,
                 edit = FALSE)

## stub out templated rolldown file AND interactively edit
rmarkdown::draft(&amp;quot;draft2.Rmd&amp;quot;, 
                 template = &amp;quot;scrollama-sidebar&amp;quot;, 
                 package = &amp;quot;rolldown&amp;quot;,
                 edit = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/one-r-markdown-document-fourteen-demosyihui-xie?wvideo=aj3deolth1&#34;&gt;One R Markdown Document, Fourteen Demos - Yihui Xie&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2020/one-r-markdown-document-fourteen-demosyihui-xie?wvideo=aj3deolth1&#34;&gt;&lt;img src=&#34;https://embedwistia-a.akamaihd.net/deliveries/995470d4b099ae9b3421014c31c22716.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x539&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0&#34; width=&#34;400&#34; height=&#34;225&#34; style=&#34;width: 400px; height: 225px;&#34;&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;&lt;a href=&#34;/notes/rstudioconf2019/&#34;&gt;rstudio::conf 2019 recap&lt;/a&gt;&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;Image borrowed from &lt;a href=&#34;https://github.com/rstudio/bootstraplib/blob/master/README.md&#34;&gt;&lt;code&gt;boostraplib&lt;/code&gt; README&lt;/a&gt;&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Create a GIF with R</title>
      <link>/notes/gifs-in-r/</link>
      <pubDate>Wed, 27 Nov 2019 08:38:31 -0400</pubDate>
      
      <guid>/notes/gifs-in-r/</guid>
      <description>


&lt;p&gt;With R you can turn a collection of images into an animated GIF. That can be useful for animating plots or for converting a series of arbitrary image files (not created in R) into an animation. The following will include examples of both use-cases, with a reproducible demo of the former.&lt;/p&gt;
&lt;p&gt;The tool used in the example that follows is the &lt;code&gt;magick&lt;/code&gt; R package, which is a wrapper for the &lt;a href=&#34;https://www.imagemagick.org/Magick++/STL.html&#34;&gt;ImageMagick library&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The first example involves animating plots that are created in R. To motivate this example we’re using a built-in dataset from ggplot2 (&lt;code&gt;txhousing&lt;/code&gt;), which details historical residential property sales/listings in Texas by county between 2000-2015:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(ggplot2::txhousing)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 9
##   city     year month sales   volume median listings inventory  date
##   &amp;lt;chr&amp;gt;   &amp;lt;int&amp;gt; &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
## 1 Abilene  2000     1    72  5380000  71400      701       6.3 2000 
## 2 Abilene  2000     2    98  6505000  58700      746       6.6 2000.
## 3 Abilene  2000     3   130  9285000  58100      784       6.8 2000.
## 4 Abilene  2000     4    98  9730000  68600      785       6.9 2000.
## 5 Abilene  2000     5   141 10590000  67300      794       6.8 2000.
## 6 Abilene  2000     6   156 13910000  66900      780       6.6 2000.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The code below will prepare the data for plotting, then loop through all of the 16 years in the dataset and create barplots of total sales each month for every year. These plots will be written to disk as static &lt;code&gt;.png&lt;/code&gt; files.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(magick)
library(ggplot2)
library(dplyr)
library(tidyr)

## create a directory to which the images will be written
dir_out &amp;lt;- file.path(tempdir(), &amp;quot;tx-sales&amp;quot;)
dir.create(dir_out, recursive = TRUE)

## prepare data
tx_sales &amp;lt;-
  txhousing %&amp;gt;%
  group_by(year,month) %&amp;gt;%
  summarise(sales = sum(sales, na.rm = TRUE)) %&amp;gt;%
  ungroup() %&amp;gt;%
  mutate(month = factor(month, labels = month.name)) %&amp;gt;%
  complete(month,year)

## get a sorted list of unique years in the TX housing dataset
years &amp;lt;- 
  tx_sales %&amp;gt;%
  pull(year) %&amp;gt;%
  unique(.) %&amp;gt;%
  sort(.)

## find the month with the most houses sold to set y axis limit
most_sold &amp;lt;- max(tx_sales$sales, na.rm = TRUE)

## loop through years ...
## subset data ...
## create barplot of sales by month for each year ...
## write plot to file
for (y in years) {
  
  p &amp;lt;-
    tx_sales %&amp;gt;%
    filter(year == y) %&amp;gt;%
    ggplot(aes(month,sales)) +
    geom_col() +
    scale_y_continuous(limits = c(0, most_sold), breaks = seq(0,1e5, by = 5000)) +
    theme_minimal() +
    labs(x = &amp;quot;Month&amp;quot;, y = &amp;quot;Total Properties Sold&amp;quot;, title = y)
  
  fp &amp;lt;- file.path(dir_out, paste0(y, &amp;quot;.png&amp;quot;))
  
  ggsave(plot = p, 
         filename = fp, 
         device = &amp;quot;png&amp;quot;)

}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With the plots written to disk (there should be 16 &lt;code&gt;.png&lt;/code&gt; files in this example), we can now use &lt;code&gt;magick&lt;/code&gt; to read in the image data and stitch it all together in an animation.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## list file names and read in
imgs &amp;lt;- list.files(dir_out, full.names = TRUE)
img_list &amp;lt;- lapply(imgs, image_read)

## join the images together
img_joined &amp;lt;- image_join(img_list)

## animate at 2 frames per second
img_animated &amp;lt;- image_animate(img_joined, fps = 2)

## view animated image
img_animated

## save to disk
image_write(image = img_animated,
            path = &amp;quot;tx-sales.gif&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/img/tx-sales.gif&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To be clear … the example above is contrived to reproducibly demonstrate the &lt;code&gt;magick&lt;/code&gt; functionse.&lt;/p&gt;
&lt;p&gt;Another (maybe more straightforward) approach to the example outlined above would be to use &lt;code&gt;gganimate&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(gganimate)

tx_sales %&amp;gt;%
  ggplot(aes(month,sales)) +
  geom_col() +
  scale_y_continuous(limits = c(0, most_sold), breaks = seq(0,1e5, by = 5000)) +
  theme_minimal() +
  ## gganimate functionality starts here
  labs(x = &amp;quot;Month&amp;quot;, y = &amp;quot;Total Properties Sold&amp;quot;, title = &amp;quot;{frame_time}&amp;quot;) +
  transition_time(year) +
  ease_aes(&amp;quot;linear&amp;quot;)

anim_save(&amp;quot;tx-sales-gganimate.gif&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/img/tx-sales-gganimate.gif&#34; /&gt;&lt;/p&gt;
&lt;p&gt;But note that these GIFs are not identical. &lt;code&gt;gganimate&lt;/code&gt; transitions the the plot between years in a way that makes the bars expand and contract smoothly. That may or may not be the desired effect. &lt;code&gt;ease_aes()&lt;/code&gt; can customize this behavior but it will likely be different than the GIF created with &lt;code&gt;magick&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;More importantly, the &lt;code&gt;magick&lt;/code&gt; method for creating a GIF can be extended to cases when the images are &lt;em&gt;not&lt;/em&gt; created in R. For example, the GIF below was created using a similar set of steps (&lt;code&gt;image_read() %&amp;gt;% image_join() %&amp;gt;% image_animate()&lt;/code&gt;) on list of screenshots.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/dps_demo.gif&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Evidence From a Multistate Cohort: Enrollment in Affordable Care Act Qualified Health Plans&#39; Association With Viral Suppression</title>
      <link>/publication/adap-qhp/</link>
      <pubDate>Mon, 18 Nov 2019 00:00:00 +0000</pubDate>
      
      <guid>/publication/adap-qhp/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Blood pressure ranges via non-invasive and invasive monitoring techniques in premature neonates using high resolution physiologic data</title>
      <link>/publication/bpranges/</link>
      <pubDate>Sat, 16 Nov 2019 00:00:00 +0000</pubDate>
      
      <guid>/publication/bpranges/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Evidence from a Multistate Cohort: Enrollment in Affordable Care Act Qualified Health Plans Results in Viral Suppression</title>
      <link>/publication/adap-qhp-idweek/</link>
      <pubDate>Thu, 03 Oct 2019 00:00:00 +0000</pubDate>
      
      <guid>/publication/adap-qhp-idweek/</guid>
      <description></description>
    </item>
    
  </channel>
</rss>
