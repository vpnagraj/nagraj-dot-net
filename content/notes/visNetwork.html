---
title: "visNetwork"
date: 2020-03-28T17:14:59+00:00
categories: ["notes"]
tags: ["R", "network analysis", "JavaScript"]
summary: "example demonstrating the visNetwork R package"
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<link href="/rmarkdown-libs/vis/vis.css" rel="stylesheet" />
<script src="/rmarkdown-libs/vis/vis.min.js"></script>
<script src="/rmarkdown-libs/visNetwork-binding/visNetwork.js"></script>
<link href="/rmarkdown-libs/font-awesome/css/font-awesome.min.css" rel="stylesheet" />


<p><a href="https://datastorm-open.github.io/visNetwork/"><code>visNetwork</code></a> provides a collection of functions that deliver <a href="https://visjs.org/"><code>vis.js</code></a> functionality in R. In particular, the package can be used to create interactive network visualizations rendered in HTML.</p>
<p>The code that follows will walk through an example of how to create and customize a plot using <code>visNetwork</code>.</p>
<div id="data-preparation" class="section level2">
<h2>Data Preparation</h2>
<p>As with other network visualization frameworks, the input must include data organized as a collection of <em>nodes</em> and <em>edges</em> (connections between the nodes). For <code>visNetwork</code>, this data should be tabular (i.e. a <code>data.frame</code> in R).</p>
<p>The minimal example from the <code>visNetwork()</code> help file:</p>
<pre class="r"><code>nodes &lt;- data.frame(id = 1:3)
edges &lt;- data.frame(from = c(1,2), to = c(1,3))

nodes</code></pre>
<pre><code>##   id
## 1  1
## 2  2
## 3  3</code></pre>
<pre class="r"><code>edges</code></pre>
<pre><code>##   from to
## 1    1  1
## 2    2  3</code></pre>
<p>Note the column names. Those names are strictly required when defining nodes/edges. The edge identifiers (“from” and “to” columns) must contain values that also appear in the identifiers in nodes (“id” column).</p>
<p>Demonstrating the features of the package is difficult with such a minimal dataset. The code below will prepare some simulated data to be visualized. The example will involve nodes with alphanumeric identifiers (e.g. “U89”), edges that represent connection between some (but not all) of the nodes, as well as a categorization of the degree of that connection (here stored in the “feeling” column). The code is further documented inline:</p>
<pre class="r"><code>## load packages
library(tidyverse)
library(visNetwork)

## make sure to set seed for reproducibility
set.seed(20200329)

## write a function to create simulated identifiers
gen_id &lt;- function() {
  
  ## create a random alphanumeric combination
  paste0(sample(LETTERS, size = 1),
         sample(10:99, size = 1),
         collapse = &quot;&quot;) 
}

## create a vector of identifiers using the function defined above
samples &lt;- sapply(1:20, function(x) gen_id())

## double check that these are all unique
samples &lt;- unique(samples)

## create a tibble with color palette corresponding to a category
pal &lt;- 
  tibble(feeling = c(&quot;love&quot;,&quot;hate&quot;,&quot;meh&quot;),
         color = c(&quot;lightblue&quot;,&quot;firebrick&quot;,&quot;goldenrod&quot;))

## create tibble for the nodes
## id column will have sample ids
nodes &lt;- tibble(id = samples)

## create tibble for edges
edges &lt;- 
  ## define all possible combinations of sample ids
  combn(samples, 2) %&gt;%
  ## transpose
  t(.) %&gt;%
  ## coerce the matrix to a tibble
  as_tibble(.) %&gt;%
  ## set the column names
  set_names(c(&quot;from&quot;,&quot;to&quot;)) %&gt;%
  ## create new column that qualifies the nature of the connection
  ## here we&#39;re calling this &quot;feeling&quot;
  ## if it is NA the connection does not exist
  mutate(feeling = sample(c(&quot;love&quot;,&quot;hate&quot;,&quot;meh&quot;, NA), 
                          size = nrow(.),
                          prob = c(0.2,0.2,0.2,0.5),
                          replace = TRUE
                          )) %&gt;%
  ## if the feeling is NA then the connection does not exist ... filter out
  filter(!is.na(feeling)) %&gt;%
  ## make sure the same ID doesn&#39;t appear in from AND to
  filter(from != to) %&gt;%
  ## join in the palette tibble defined above
  left_join(pal)</code></pre>
<pre class="r"><code>## take a look at the simulated nodes
head(nodes)</code></pre>
<pre><code>## # A tibble: 6 x 1
##   id   
##   &lt;chr&gt;
## 1 K93  
## 2 P28  
## 3 P55  
## 4 G18  
## 5 V50  
## 6 L49</code></pre>
<pre class="r"><code>## take a look at the simulated edges
head(edges)</code></pre>
<pre><code>## # A tibble: 6 x 4
##   from  to    feeling color    
##   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;    
## 1 K93   P28   hate    firebrick
## 2 K93   V50   love    lightblue
## 3 K93   H38   meh     goldenrod
## 4 K93   J69   meh     goldenrod
## 5 K93   D77   love    lightblue
## 6 K93   B67   love    lightblue</code></pre>
</div>
<div id="creating-the-visnetwork-plot" class="section level2">
<h2>Creating the visNetwork plot</h2>
<p>With data prepared accordingly, creating the default plot is as simple as calling the <code>visNetwork()</code> function:</p>
<pre class="r"><code>visNetwork(nodes,edges)</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"nodes":{"id":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"]},"edges":{"from":["K93","K93","K93","K93","K93","K93","K93","K93","K93","P28","P28","P28","P28","P28","P55","P55","P55","P55","P55","P55","P55","P55","P55","P55","G18","G18","G18","G18","G18","G18","G18","G18","G18","G18","V50","V50","V50","V50","V50","V50","V50","L49","L49","L49","L49","L49","L49","L49","L49","H38","H38","H38","H38","H38","H38","H38","H38","H38","H38","S19","S19","S19","S19","S19","S19","S19","S19","K88","K88","K88","K88","K88","K88","J69","J69","J69","D77","D77","D77","D77","D77","D77","B67","B67","B67","B67","B67","B67","B67","Z92","Z92","Z92","Q89","Q89","K26","K26","K26","K26","T44","T44","T44","T44","A63","A63","T59","T59","R46"],"to":["P28","V50","H38","J69","D77","B67","Z92","A63","M38","H38","K88","B67","Q89","A63","V50","L49","H38","J69","B67","Z92","Q89","T44","A63","R46","L49","H38","S19","J69","D77","Z92","Q89","T44","A63","M38","L49","J69","B67","Q89","A63","R46","M38","H38","S19","J69","B67","Z92","Q89","T44","T59","S19","J69","D77","B67","Z92","Q89","T44","T59","R46","M38","J69","D77","Z92","Q89","T44","A63","T59","M38","J69","B67","Z92","Q89","K26","T59","T44","R46","M38","Q89","K26","T44","T59","R46","M38","Z92","Q89","K26","T44","A63","R46","M38","Q89","T59","M38","T59","M38","T44","T59","R46","M38","A63","T59","R46","M38","T59","R46","R46","M38","M38"],"feeling":["hate","love","meh","meh","love","love","love","love","hate","hate","meh","hate","hate","meh","meh","meh","hate","meh","love","meh","meh","meh","meh","love","hate","hate","love","meh","meh","meh","meh","love","love","meh","hate","meh","hate","hate","love","love","love","hate","hate","hate","love","love","love","hate","love","hate","hate","hate","meh","hate","hate","hate","hate","hate","meh","meh","love","love","love","meh","hate","meh","meh","hate","meh","love","meh","meh","hate","meh","hate","meh","hate","hate","meh","love","love","hate","hate","hate","meh","love","meh","meh","hate","hate","love","love","hate","hate","hate","love","meh","hate","meh","hate","meh","meh","love","love","love","love","hate"],"color":["firebrick","lightblue","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick","firebrick","goldenrod","firebrick","firebrick","goldenrod","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","firebrick","firebrick","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","lightblue","goldenrod","firebrick","goldenrod","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","lightblue","firebrick","firebrick","firebrick","goldenrod","firebrick","firebrick","firebrick","firebrick","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","goldenrod","firebrick","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","goldenrod","firebrick","goldenrod","firebrick","firebrick","goldenrod","lightblue","lightblue","firebrick","firebrick","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","firebrick","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","goldenrod","firebrick","goldenrod","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="labeling-nodes-and-edges" class="section level2">
<h2>Labeling nodes and edges</h2>
<p>The nodes and edges displayed above can be labelled … so long as the corresponding data frames include “label” columns:</p>
<pre class="r"><code>## for this example use the id as label for nodes
nodes &lt;-
  nodes %&gt;%
  mutate(label = samples)

## create a new column that qualifies one of the &quot;feeling&quot; levels
edges &lt;-
  edges %&gt;%
  ## add another column to further qualify one of the &quot;feeling&quot; levels
  mutate(label = ifelse(feeling == &quot;meh&quot;, 
                          sample(c(&quot;+&quot;,&quot;-&quot;)),
                          NA))

visNetwork(nodes,edges)</code></pre>
<div id="htmlwidget-2" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"nodes":{"id":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"label":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"]},"edges":{"from":["K93","K93","K93","K93","K93","K93","K93","K93","K93","P28","P28","P28","P28","P28","P55","P55","P55","P55","P55","P55","P55","P55","P55","P55","G18","G18","G18","G18","G18","G18","G18","G18","G18","G18","V50","V50","V50","V50","V50","V50","V50","L49","L49","L49","L49","L49","L49","L49","L49","H38","H38","H38","H38","H38","H38","H38","H38","H38","H38","S19","S19","S19","S19","S19","S19","S19","S19","K88","K88","K88","K88","K88","K88","J69","J69","J69","D77","D77","D77","D77","D77","D77","B67","B67","B67","B67","B67","B67","B67","Z92","Z92","Z92","Q89","Q89","K26","K26","K26","K26","T44","T44","T44","T44","A63","A63","T59","T59","R46"],"to":["P28","V50","H38","J69","D77","B67","Z92","A63","M38","H38","K88","B67","Q89","A63","V50","L49","H38","J69","B67","Z92","Q89","T44","A63","R46","L49","H38","S19","J69","D77","Z92","Q89","T44","A63","M38","L49","J69","B67","Q89","A63","R46","M38","H38","S19","J69","B67","Z92","Q89","T44","T59","S19","J69","D77","B67","Z92","Q89","T44","T59","R46","M38","J69","D77","Z92","Q89","T44","A63","T59","M38","J69","B67","Z92","Q89","K26","T59","T44","R46","M38","Q89","K26","T44","T59","R46","M38","Z92","Q89","K26","T44","A63","R46","M38","Q89","T59","M38","T59","M38","T44","T59","R46","M38","A63","T59","R46","M38","T59","R46","R46","M38","M38"],"feeling":["hate","love","meh","meh","love","love","love","love","hate","hate","meh","hate","hate","meh","meh","meh","hate","meh","love","meh","meh","meh","meh","love","hate","hate","love","meh","meh","meh","meh","love","love","meh","hate","meh","hate","hate","love","love","love","hate","hate","hate","love","love","love","hate","love","hate","hate","hate","meh","hate","hate","hate","hate","hate","meh","meh","love","love","love","meh","hate","meh","meh","hate","meh","love","meh","meh","hate","meh","hate","meh","hate","hate","meh","love","love","hate","hate","hate","meh","love","meh","meh","hate","hate","love","love","hate","hate","hate","love","meh","hate","meh","hate","meh","meh","love","love","love","love","hate"],"color":["firebrick","lightblue","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick","firebrick","goldenrod","firebrick","firebrick","goldenrod","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","firebrick","firebrick","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","lightblue","goldenrod","firebrick","goldenrod","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","lightblue","firebrick","firebrick","firebrick","goldenrod","firebrick","firebrick","firebrick","firebrick","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","goldenrod","firebrick","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","goldenrod","firebrick","goldenrod","firebrick","firebrick","goldenrod","lightblue","lightblue","firebrick","firebrick","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","firebrick","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","goldenrod","firebrick","goldenrod","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick"],"label":[null,null,"+","-",null,null,null,null,null,null,"+",null,null,"-","+","-",null,"-",null,"-","+","-","+",null,null,null,null,"-","+","-","+",null,null,"-",null,"-",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"+",null,null,null,null,null,"+","-",null,null,null,"-",null,"-","+",null,"+",null,"+","-",null,"-",null,"-",null,null,"+",null,null,null,null,null,"+",null,"+","-",null,null,null,null,null,null,null,null,"+",null,"+",null,"+","-",null,null,null,null,null]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="additional-options-and-layout" class="section level2">
<h2>Additional options and layout</h2>
<p>The initial plot can be further customized by subsequent functions. Using the <code>%&gt;%</code> operator can help with the legibility of the code.</p>
<p><code>visOptions()</code> has arguments for the height and width of plot, as well as miscellaneous features to configure behavior when clicking and interacting:</p>
<pre class="r"><code>visNetwork(nodes, edges) %&gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE)</code></pre>
<div id="htmlwidget-3" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"nodes":{"id":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"label":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"]},"edges":{"from":["K93","K93","K93","K93","K93","K93","K93","K93","K93","P28","P28","P28","P28","P28","P55","P55","P55","P55","P55","P55","P55","P55","P55","P55","G18","G18","G18","G18","G18","G18","G18","G18","G18","G18","V50","V50","V50","V50","V50","V50","V50","L49","L49","L49","L49","L49","L49","L49","L49","H38","H38","H38","H38","H38","H38","H38","H38","H38","H38","S19","S19","S19","S19","S19","S19","S19","S19","K88","K88","K88","K88","K88","K88","J69","J69","J69","D77","D77","D77","D77","D77","D77","B67","B67","B67","B67","B67","B67","B67","Z92","Z92","Z92","Q89","Q89","K26","K26","K26","K26","T44","T44","T44","T44","A63","A63","T59","T59","R46"],"to":["P28","V50","H38","J69","D77","B67","Z92","A63","M38","H38","K88","B67","Q89","A63","V50","L49","H38","J69","B67","Z92","Q89","T44","A63","R46","L49","H38","S19","J69","D77","Z92","Q89","T44","A63","M38","L49","J69","B67","Q89","A63","R46","M38","H38","S19","J69","B67","Z92","Q89","T44","T59","S19","J69","D77","B67","Z92","Q89","T44","T59","R46","M38","J69","D77","Z92","Q89","T44","A63","T59","M38","J69","B67","Z92","Q89","K26","T59","T44","R46","M38","Q89","K26","T44","T59","R46","M38","Z92","Q89","K26","T44","A63","R46","M38","Q89","T59","M38","T59","M38","T44","T59","R46","M38","A63","T59","R46","M38","T59","R46","R46","M38","M38"],"feeling":["hate","love","meh","meh","love","love","love","love","hate","hate","meh","hate","hate","meh","meh","meh","hate","meh","love","meh","meh","meh","meh","love","hate","hate","love","meh","meh","meh","meh","love","love","meh","hate","meh","hate","hate","love","love","love","hate","hate","hate","love","love","love","hate","love","hate","hate","hate","meh","hate","hate","hate","hate","hate","meh","meh","love","love","love","meh","hate","meh","meh","hate","meh","love","meh","meh","hate","meh","hate","meh","hate","hate","meh","love","love","hate","hate","hate","meh","love","meh","meh","hate","hate","love","love","hate","hate","hate","love","meh","hate","meh","hate","meh","meh","love","love","love","love","hate"],"color":["firebrick","lightblue","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick","firebrick","goldenrod","firebrick","firebrick","goldenrod","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","firebrick","firebrick","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","lightblue","goldenrod","firebrick","goldenrod","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","lightblue","firebrick","firebrick","firebrick","goldenrod","firebrick","firebrick","firebrick","firebrick","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","goldenrod","firebrick","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","goldenrod","firebrick","goldenrod","firebrick","firebrick","goldenrod","lightblue","lightblue","firebrick","firebrick","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","firebrick","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","goldenrod","firebrick","goldenrod","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick"],"label":[null,null,"+","-",null,null,null,null,null,null,"+",null,null,"-","+","-",null,"-",null,"-","+","-","+",null,null,null,null,"-","+","-","+",null,null,"-",null,"-",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"+",null,null,null,null,null,"+","-",null,null,null,"-",null,"-","+",null,"+",null,"+","-",null,"-",null,"-",null,null,"+",null,null,null,null,null,"+",null,"+","-",null,null,null,null,null,null,null,null,"+",null,"+",null,"+","-",null,null,null,null,null]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
<p>The default layout settings will randomly configure nodes each time the plot is generated. The randomSeed argument to <code>visLayout()</code> allows the coordinates to be fixed:</p>
<pre class="r"><code>visNetwork(nodes, edges) %&gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %&gt;%
  visLayout(randomSeed = 1999)</code></pre>
<div id="htmlwidget-4" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"nodes":{"id":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"label":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"]},"edges":{"from":["K93","K93","K93","K93","K93","K93","K93","K93","K93","P28","P28","P28","P28","P28","P55","P55","P55","P55","P55","P55","P55","P55","P55","P55","G18","G18","G18","G18","G18","G18","G18","G18","G18","G18","V50","V50","V50","V50","V50","V50","V50","L49","L49","L49","L49","L49","L49","L49","L49","H38","H38","H38","H38","H38","H38","H38","H38","H38","H38","S19","S19","S19","S19","S19","S19","S19","S19","K88","K88","K88","K88","K88","K88","J69","J69","J69","D77","D77","D77","D77","D77","D77","B67","B67","B67","B67","B67","B67","B67","Z92","Z92","Z92","Q89","Q89","K26","K26","K26","K26","T44","T44","T44","T44","A63","A63","T59","T59","R46"],"to":["P28","V50","H38","J69","D77","B67","Z92","A63","M38","H38","K88","B67","Q89","A63","V50","L49","H38","J69","B67","Z92","Q89","T44","A63","R46","L49","H38","S19","J69","D77","Z92","Q89","T44","A63","M38","L49","J69","B67","Q89","A63","R46","M38","H38","S19","J69","B67","Z92","Q89","T44","T59","S19","J69","D77","B67","Z92","Q89","T44","T59","R46","M38","J69","D77","Z92","Q89","T44","A63","T59","M38","J69","B67","Z92","Q89","K26","T59","T44","R46","M38","Q89","K26","T44","T59","R46","M38","Z92","Q89","K26","T44","A63","R46","M38","Q89","T59","M38","T59","M38","T44","T59","R46","M38","A63","T59","R46","M38","T59","R46","R46","M38","M38"],"feeling":["hate","love","meh","meh","love","love","love","love","hate","hate","meh","hate","hate","meh","meh","meh","hate","meh","love","meh","meh","meh","meh","love","hate","hate","love","meh","meh","meh","meh","love","love","meh","hate","meh","hate","hate","love","love","love","hate","hate","hate","love","love","love","hate","love","hate","hate","hate","meh","hate","hate","hate","hate","hate","meh","meh","love","love","love","meh","hate","meh","meh","hate","meh","love","meh","meh","hate","meh","hate","meh","hate","hate","meh","love","love","hate","hate","hate","meh","love","meh","meh","hate","hate","love","love","hate","hate","hate","love","meh","hate","meh","hate","meh","meh","love","love","love","love","hate"],"color":["firebrick","lightblue","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick","firebrick","goldenrod","firebrick","firebrick","goldenrod","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","firebrick","firebrick","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","lightblue","goldenrod","firebrick","goldenrod","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","lightblue","firebrick","firebrick","firebrick","goldenrod","firebrick","firebrick","firebrick","firebrick","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","goldenrod","firebrick","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","goldenrod","firebrick","goldenrod","firebrick","firebrick","goldenrod","lightblue","lightblue","firebrick","firebrick","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","firebrick","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","goldenrod","firebrick","goldenrod","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick"],"label":[null,null,"+","-",null,null,null,null,null,null,"+",null,null,"-","+","-",null,"-",null,"-","+","-","+",null,null,null,null,"-","+","-","+",null,null,"-",null,"-",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"+",null,null,null,null,null,"+","-",null,null,null,"-",null,"-","+",null,"+",null,"+","-",null,"-",null,"-",null,null,"+",null,null,null,null,null,"+",null,"+","-",null,null,null,null,null,null,null,null,"+",null,"+",null,"+","-",null,null,null,null,null]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"layout":{"randomSeed":1999}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
<p>The layout of the nodes can be customized beyond the default. For example, the network can be arranged in a hierarchy (like a tree) or in a circular format (the default to <code>visIgraphLayout()</code> is “layout_nicely”):</p>
<pre class="r"><code>visNetwork(nodes, edges) %&gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %&gt;%
  visLayout(randomSeed = 1999) %&gt;%
  visIgraphLayout()</code></pre>
<div id="htmlwidget-5" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-5">{"x":{"nodes":{"id":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"label":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"x":[0.537652897375921,1,-0.0446350157675045,-0.973991608626982,0.455560426911749,-0.602821933006983,-0.27668761999877,-1,0.424275474633846,-0.219857811695745,-0.646616093119563,0.30229766822083,-0.481620133035657,-0.0323484888203239,-0.130078115956987,-0.640551175185674,0.110873568412751,-0.522198045574655,0.112424807414394,-0.241271902954724],"y":[0.285621772820749,0.0517872222986833,1,0.491924522488433,0.832588820425079,0.841764136028475,0.176327410483933,0.139390243818643,-0.510608758749992,0.630497061336817,-0.570178523023008,0.0788100500908047,0.414498302376535,0.22101149829624,-1,0.0236511626957843,0.548373568736214,-0.337288356782887,-0.229598086908381,-0.187767961532758]},"edges":{"from":["K93","K93","K93","K93","K93","K93","K93","K93","K93","P28","P28","P28","P28","P28","P55","P55","P55","P55","P55","P55","P55","P55","P55","P55","G18","G18","G18","G18","G18","G18","G18","G18","G18","G18","V50","V50","V50","V50","V50","V50","V50","L49","L49","L49","L49","L49","L49","L49","L49","H38","H38","H38","H38","H38","H38","H38","H38","H38","H38","S19","S19","S19","S19","S19","S19","S19","S19","K88","K88","K88","K88","K88","K88","J69","J69","J69","D77","D77","D77","D77","D77","D77","B67","B67","B67","B67","B67","B67","B67","Z92","Z92","Z92","Q89","Q89","K26","K26","K26","K26","T44","T44","T44","T44","A63","A63","T59","T59","R46"],"to":["P28","V50","H38","J69","D77","B67","Z92","A63","M38","H38","K88","B67","Q89","A63","V50","L49","H38","J69","B67","Z92","Q89","T44","A63","R46","L49","H38","S19","J69","D77","Z92","Q89","T44","A63","M38","L49","J69","B67","Q89","A63","R46","M38","H38","S19","J69","B67","Z92","Q89","T44","T59","S19","J69","D77","B67","Z92","Q89","T44","T59","R46","M38","J69","D77","Z92","Q89","T44","A63","T59","M38","J69","B67","Z92","Q89","K26","T59","T44","R46","M38","Q89","K26","T44","T59","R46","M38","Z92","Q89","K26","T44","A63","R46","M38","Q89","T59","M38","T59","M38","T44","T59","R46","M38","A63","T59","R46","M38","T59","R46","R46","M38","M38"],"feeling":["hate","love","meh","meh","love","love","love","love","hate","hate","meh","hate","hate","meh","meh","meh","hate","meh","love","meh","meh","meh","meh","love","hate","hate","love","meh","meh","meh","meh","love","love","meh","hate","meh","hate","hate","love","love","love","hate","hate","hate","love","love","love","hate","love","hate","hate","hate","meh","hate","hate","hate","hate","hate","meh","meh","love","love","love","meh","hate","meh","meh","hate","meh","love","meh","meh","hate","meh","hate","meh","hate","hate","meh","love","love","hate","hate","hate","meh","love","meh","meh","hate","hate","love","love","hate","hate","hate","love","meh","hate","meh","hate","meh","meh","love","love","love","love","hate"],"color":["firebrick","lightblue","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick","firebrick","goldenrod","firebrick","firebrick","goldenrod","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","firebrick","firebrick","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","lightblue","goldenrod","firebrick","goldenrod","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","lightblue","firebrick","firebrick","firebrick","goldenrod","firebrick","firebrick","firebrick","firebrick","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","goldenrod","firebrick","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","goldenrod","firebrick","goldenrod","firebrick","firebrick","goldenrod","lightblue","lightblue","firebrick","firebrick","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","firebrick","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","goldenrod","firebrick","goldenrod","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick"],"label":[null,null,"+","-",null,null,null,null,null,null,"+",null,null,"-","+","-",null,"-",null,"-","+","-","+",null,null,null,null,"-","+","-","+",null,null,"-",null,"-",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"+",null,null,null,null,null,"+","-",null,null,null,"-",null,"-","+",null,"+",null,"+","-",null,"-",null,"-",null,null,"+",null,null,null,null,null,"+",null,"+","-",null,null,null,null,null,null,null,null,"+",null,"+",null,"+","-",null,null,null,null,null]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"layout":{"randomSeed":1999},"edges":{"smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"igraphlayout":{"type":"square"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="including-a-legend-for-edges" class="section level2">
<h2>Including a legend for edges</h2>
<p>Either nodes or edges can be annotated and represented in a legend with <code>visLegend()</code>. In this example, the edges will be annotated with the “feeling” column:</p>
<pre class="r"><code>edges_legend &lt;- 
  pal %&gt;%
  rename(label = feeling)

visNetwork(nodes, edges) %&gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %&gt;%
  visLayout(randomSeed = 1999) %&gt;%
  visIgraphLayout() %&gt;%
  visLegend(addEdges = edges_legend)</code></pre>
<div id="htmlwidget-6" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-6">{"x":{"nodes":{"id":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"label":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"x":[0.669645518714625,1,0.292756519309997,-0.747917640856158,0.731651085104816,-0.266696392977675,-0.0926423242579157,-0.954656293263823,0.157189380383745,0.0351656499641204,-1,0.299373180252674,-0.159793781332301,0.0540067304147993,-0.828755556039459,-0.728839274338446,0.350212508430782,-0.627192772251848,-0.404849626225114,-0.431715805483961],"y":[0.0934438570886538,0.597196730474257,-1,-0.882002350871711,-0.706562975485732,-0.911584128527145,-0.263990997241822,-0.301002618946799,1,-0.681785564594606,0.153466519007039,0.191388584833418,0.318645726767204,0.0130108908883741,0.855297262010356,-0.494239947694026,-0.411095660213109,0.381656070850982,-0.406621139367604,0.0238662547239494]},"edges":{"from":["K93","K93","K93","K93","K93","K93","K93","K93","K93","P28","P28","P28","P28","P28","P55","P55","P55","P55","P55","P55","P55","P55","P55","P55","G18","G18","G18","G18","G18","G18","G18","G18","G18","G18","V50","V50","V50","V50","V50","V50","V50","L49","L49","L49","L49","L49","L49","L49","L49","H38","H38","H38","H38","H38","H38","H38","H38","H38","H38","S19","S19","S19","S19","S19","S19","S19","S19","K88","K88","K88","K88","K88","K88","J69","J69","J69","D77","D77","D77","D77","D77","D77","B67","B67","B67","B67","B67","B67","B67","Z92","Z92","Z92","Q89","Q89","K26","K26","K26","K26","T44","T44","T44","T44","A63","A63","T59","T59","R46"],"to":["P28","V50","H38","J69","D77","B67","Z92","A63","M38","H38","K88","B67","Q89","A63","V50","L49","H38","J69","B67","Z92","Q89","T44","A63","R46","L49","H38","S19","J69","D77","Z92","Q89","T44","A63","M38","L49","J69","B67","Q89","A63","R46","M38","H38","S19","J69","B67","Z92","Q89","T44","T59","S19","J69","D77","B67","Z92","Q89","T44","T59","R46","M38","J69","D77","Z92","Q89","T44","A63","T59","M38","J69","B67","Z92","Q89","K26","T59","T44","R46","M38","Q89","K26","T44","T59","R46","M38","Z92","Q89","K26","T44","A63","R46","M38","Q89","T59","M38","T59","M38","T44","T59","R46","M38","A63","T59","R46","M38","T59","R46","R46","M38","M38"],"feeling":["hate","love","meh","meh","love","love","love","love","hate","hate","meh","hate","hate","meh","meh","meh","hate","meh","love","meh","meh","meh","meh","love","hate","hate","love","meh","meh","meh","meh","love","love","meh","hate","meh","hate","hate","love","love","love","hate","hate","hate","love","love","love","hate","love","hate","hate","hate","meh","hate","hate","hate","hate","hate","meh","meh","love","love","love","meh","hate","meh","meh","hate","meh","love","meh","meh","hate","meh","hate","meh","hate","hate","meh","love","love","hate","hate","hate","meh","love","meh","meh","hate","hate","love","love","hate","hate","hate","love","meh","hate","meh","hate","meh","meh","love","love","love","love","hate"],"color":["firebrick","lightblue","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick","firebrick","goldenrod","firebrick","firebrick","goldenrod","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","firebrick","firebrick","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","lightblue","goldenrod","firebrick","goldenrod","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","lightblue","firebrick","firebrick","firebrick","goldenrod","firebrick","firebrick","firebrick","firebrick","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","goldenrod","firebrick","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","goldenrod","firebrick","goldenrod","firebrick","firebrick","goldenrod","lightblue","lightblue","firebrick","firebrick","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","firebrick","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","goldenrod","firebrick","goldenrod","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick"],"label":[null,null,"+","-",null,null,null,null,null,null,"+",null,null,"-","+","-",null,"-",null,"-","+","-","+",null,null,null,null,"-","+","-","+",null,null,"-",null,"-",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"+",null,null,null,null,null,"+","-",null,null,null,"-",null,"-","+",null,"+",null,"+","-",null,"-",null,"-",null,null,"+",null,null,null,null,null,"+",null,"+","-",null,null,null,null,null,null,null,null,"+",null,"+",null,"+","-",null,null,null,null,null]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"layout":{"randomSeed":1999},"edges":{"smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"igraphlayout":{"type":"square"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"edges":{"label":["love","hate","meh"],"color":["lightblue","firebrick","goldenrod"]},"edgesToDataframe":true}},"evals":[],"jsHooks":[]}</script>
<p>While the legend in the plot corresponds to the colors of the edges, there are arrows even though the network is <em>not</em> directed. To fix this the <code>data.frame</code> for the edges legend needs to include a list column with instructions to disable the arrows:</p>
<pre class="r"><code>edges_legend &lt;- 
  pal %&gt;%
  rename(label = feeling) %&gt;%
  mutate(arrows = list(to = list(enable = FALSE)))

visNetwork(nodes, edges) %&gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %&gt;%
  visLayout(randomSeed = 1999) %&gt;%
  visIgraphLayout() %&gt;%
  visLegend(addEdges = edges_legend)</code></pre>
<div id="htmlwidget-7" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-7">{"x":{"nodes":{"id":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"label":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"x":[-0.539942329545352,-1,-0.0384679899238608,0.938025080169868,-0.513636416608315,0.511872045725018,0.251394676669495,1,-0.370311886996686,0.176790390697353,0.807408896213554,-0.309071782922783,0.469866410915021,0.0112458056120197,0.276611026635662,0.672378866654193,-0.156563006643663,0.481758283843442,-0.0437101551672948,0.327468594754579],"y":[-0.264747339151075,0.0639595182041988,-1,-0.660352079336384,-0.802518521512525,-0.885908732847691,-0.246170160328256,-0.279674582781407,0.586621470868275,-0.669238067055894,0.389217961668319,-0.0146355070499582,-0.428204130047237,-0.188442596899755,1,-0.0707896576046052,-0.523917099874053,0.401580338935807,0.248773469552016,0.112940439159899]},"edges":{"from":["K93","K93","K93","K93","K93","K93","K93","K93","K93","P28","P28","P28","P28","P28","P55","P55","P55","P55","P55","P55","P55","P55","P55","P55","G18","G18","G18","G18","G18","G18","G18","G18","G18","G18","V50","V50","V50","V50","V50","V50","V50","L49","L49","L49","L49","L49","L49","L49","L49","H38","H38","H38","H38","H38","H38","H38","H38","H38","H38","S19","S19","S19","S19","S19","S19","S19","S19","K88","K88","K88","K88","K88","K88","J69","J69","J69","D77","D77","D77","D77","D77","D77","B67","B67","B67","B67","B67","B67","B67","Z92","Z92","Z92","Q89","Q89","K26","K26","K26","K26","T44","T44","T44","T44","A63","A63","T59","T59","R46"],"to":["P28","V50","H38","J69","D77","B67","Z92","A63","M38","H38","K88","B67","Q89","A63","V50","L49","H38","J69","B67","Z92","Q89","T44","A63","R46","L49","H38","S19","J69","D77","Z92","Q89","T44","A63","M38","L49","J69","B67","Q89","A63","R46","M38","H38","S19","J69","B67","Z92","Q89","T44","T59","S19","J69","D77","B67","Z92","Q89","T44","T59","R46","M38","J69","D77","Z92","Q89","T44","A63","T59","M38","J69","B67","Z92","Q89","K26","T59","T44","R46","M38","Q89","K26","T44","T59","R46","M38","Z92","Q89","K26","T44","A63","R46","M38","Q89","T59","M38","T59","M38","T44","T59","R46","M38","A63","T59","R46","M38","T59","R46","R46","M38","M38"],"feeling":["hate","love","meh","meh","love","love","love","love","hate","hate","meh","hate","hate","meh","meh","meh","hate","meh","love","meh","meh","meh","meh","love","hate","hate","love","meh","meh","meh","meh","love","love","meh","hate","meh","hate","hate","love","love","love","hate","hate","hate","love","love","love","hate","love","hate","hate","hate","meh","hate","hate","hate","hate","hate","meh","meh","love","love","love","meh","hate","meh","meh","hate","meh","love","meh","meh","hate","meh","hate","meh","hate","hate","meh","love","love","hate","hate","hate","meh","love","meh","meh","hate","hate","love","love","hate","hate","hate","love","meh","hate","meh","hate","meh","meh","love","love","love","love","hate"],"color":["firebrick","lightblue","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick","firebrick","goldenrod","firebrick","firebrick","goldenrod","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","firebrick","firebrick","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","lightblue","goldenrod","firebrick","goldenrod","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","lightblue","firebrick","firebrick","firebrick","goldenrod","firebrick","firebrick","firebrick","firebrick","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","goldenrod","firebrick","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","goldenrod","firebrick","goldenrod","firebrick","firebrick","goldenrod","lightblue","lightblue","firebrick","firebrick","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","firebrick","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","goldenrod","firebrick","goldenrod","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick"],"label":[null,null,"+","-",null,null,null,null,null,null,"+",null,null,"-","+","-",null,"-",null,"-","+","-","+",null,null,null,null,"-","+","-","+",null,null,"-",null,"-",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"+",null,null,null,null,null,"+","-",null,null,null,"-",null,"-","+",null,"+",null,"+","-",null,"-",null,"-",null,null,"+",null,null,null,null,null,"+",null,"+","-",null,null,null,null,null,null,null,null,"+",null,"+",null,"+","-",null,null,null,null,null]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"layout":{"randomSeed":1999},"edges":{"smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"igraphlayout":{"type":"square"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"edges":{"label":["love","hate","meh"],"color":["lightblue","firebrick","goldenrod"],"arrows":[{"enable":false},{"enable":false},{"enable":false}]},"edgesToDataframe":true}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="using-icons-for-node-shapes" class="section level2">
<h2>Using icons for node shapes</h2>
<p><code>visNetwork</code> incorporates icons from <a href="https://fontawesome.com/icons?d=gallery">Font Awesome</a> for styling nodes. To implement, call the <code>addFontAwesome()</code> function and then modify the shape and icon arguments to <code>visNodes()</code>:</p>
<pre class="r"><code>visNetwork(nodes, edges) %&gt;%
  visOptions(highlightNearest = TRUE, nodesIdSelection = TRUE) %&gt;%
  visLayout(randomSeed = 1999) %&gt;%
  visIgraphLayout() %&gt;%
  visLegend(addEdges = edges_legend) %&gt;%
  addFontAwesome(name = &quot;font-awesome&quot;) %&gt;%
  visNodes(shape = &quot;icon&quot;, icon = list(code = &quot;f007&quot;, color = &quot;black&quot;))</code></pre>
<div id="htmlwidget-8" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-8">{"x":{"nodes":{"id":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"label":["K93","P28","P55","G18","V50","L49","H38","S19","K88","J69","D77","B67","Z92","Q89","K26","T44","A63","T59","R46","M38"],"x":[0.108493461525093,-0.00829606628845647,-1,-0.569102200260912,-0.720793463347975,-0.895039671592577,-0.123484468734962,-0.226855076381507,0.590727474638749,-0.584703238998046,0.587018122625409,-0.155114738122303,-0.408327967204411,-0.226275445309429,1,-0.088135552429718,-0.562026398666857,0.281554954225721,0.223883435654803,0.243214160811655],"y":[0.505532310183234,1,0.0317592478462014,-0.915853452966757,0.536879503909567,-0.504217549632422,-0.255675587045993,-1,0.337121162088921,-0.175017163191284,-0.680393576755094,0.323972586668243,-0.457228282200681,-0.0287286798661245,-0.21709667305207,-0.639373588731014,0.143303954069752,-0.637178570919015,0.0754603138172871,-0.282724980369913]},"edges":{"from":["K93","K93","K93","K93","K93","K93","K93","K93","K93","P28","P28","P28","P28","P28","P55","P55","P55","P55","P55","P55","P55","P55","P55","P55","G18","G18","G18","G18","G18","G18","G18","G18","G18","G18","V50","V50","V50","V50","V50","V50","V50","L49","L49","L49","L49","L49","L49","L49","L49","H38","H38","H38","H38","H38","H38","H38","H38","H38","H38","S19","S19","S19","S19","S19","S19","S19","S19","K88","K88","K88","K88","K88","K88","J69","J69","J69","D77","D77","D77","D77","D77","D77","B67","B67","B67","B67","B67","B67","B67","Z92","Z92","Z92","Q89","Q89","K26","K26","K26","K26","T44","T44","T44","T44","A63","A63","T59","T59","R46"],"to":["P28","V50","H38","J69","D77","B67","Z92","A63","M38","H38","K88","B67","Q89","A63","V50","L49","H38","J69","B67","Z92","Q89","T44","A63","R46","L49","H38","S19","J69","D77","Z92","Q89","T44","A63","M38","L49","J69","B67","Q89","A63","R46","M38","H38","S19","J69","B67","Z92","Q89","T44","T59","S19","J69","D77","B67","Z92","Q89","T44","T59","R46","M38","J69","D77","Z92","Q89","T44","A63","T59","M38","J69","B67","Z92","Q89","K26","T59","T44","R46","M38","Q89","K26","T44","T59","R46","M38","Z92","Q89","K26","T44","A63","R46","M38","Q89","T59","M38","T59","M38","T44","T59","R46","M38","A63","T59","R46","M38","T59","R46","R46","M38","M38"],"feeling":["hate","love","meh","meh","love","love","love","love","hate","hate","meh","hate","hate","meh","meh","meh","hate","meh","love","meh","meh","meh","meh","love","hate","hate","love","meh","meh","meh","meh","love","love","meh","hate","meh","hate","hate","love","love","love","hate","hate","hate","love","love","love","hate","love","hate","hate","hate","meh","hate","hate","hate","hate","hate","meh","meh","love","love","love","meh","hate","meh","meh","hate","meh","love","meh","meh","hate","meh","hate","meh","hate","hate","meh","love","love","hate","hate","hate","meh","love","meh","meh","hate","hate","love","love","hate","hate","hate","love","meh","hate","meh","hate","meh","meh","love","love","love","love","hate"],"color":["firebrick","lightblue","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick","firebrick","goldenrod","firebrick","firebrick","goldenrod","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","firebrick","firebrick","lightblue","goldenrod","goldenrod","goldenrod","goldenrod","lightblue","lightblue","goldenrod","firebrick","goldenrod","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","lightblue","lightblue","firebrick","lightblue","firebrick","firebrick","firebrick","goldenrod","firebrick","firebrick","firebrick","firebrick","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","goldenrod","firebrick","goldenrod","goldenrod","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","goldenrod","firebrick","goldenrod","firebrick","firebrick","goldenrod","lightblue","lightblue","firebrick","firebrick","firebrick","goldenrod","lightblue","goldenrod","goldenrod","firebrick","firebrick","lightblue","lightblue","firebrick","firebrick","firebrick","lightblue","goldenrod","firebrick","goldenrod","firebrick","goldenrod","goldenrod","lightblue","lightblue","lightblue","lightblue","firebrick"],"label":[null,null,"+","-",null,null,null,null,null,null,"+",null,null,"-","+","-",null,"-",null,"-","+","-","+",null,null,null,null,"-","+","-","+",null,null,"-",null,"-",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"+",null,null,null,null,null,"+","-",null,null,null,"-",null,"-","+",null,"+",null,"+","-",null,"-",null,"-",null,null,"+",null,null,null,null,null,"+",null,"+","-",null,null,null,null,null,null,null,null,"+",null,"+",null,"+","-",null,null,null,null,null]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"physics":false,"shape":"icon","icon":{"code":"f007","color":"black"}},"manipulation":{"enabled":false},"layout":{"randomSeed":1999},"edges":{"smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"igraphlayout":{"type":"square"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true,"edges":{"label":["love","hate","meh"],"color":["lightblue","firebrick","goldenrod"],"arrows":[{"enable":false},{"enable":false},{"enable":false}]},"edgesToDataframe":true},"iconsRedraw":true},"evals":[],"jsHooks":[]}</script>
</div>
